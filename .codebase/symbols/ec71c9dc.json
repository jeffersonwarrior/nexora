{
  "file_path": "/work/internal/tui/exp/diffview/diffview_test.go",
  "file_hash": "6b53354d5d565a273a4eb0897aa0bc54eba6e24f",
  "updated_at": "2025-12-26T17:34:21.786139",
  "symbols": {
    "function_TestDiffView_135": {
      "name": "TestDiffView",
      "type": "function",
      "start_line": 135,
      "end_line": 165,
      "content_hash": "97a21f20007ebaa72800585a7439d9abf8f1ed73",
      "content": "func TestDiffView(t *testing.T) {\n\tfor layoutName, layoutFunc := range LayoutFuncs {\n\t\tt.Run(layoutName, func(t *testing.T) {\n\t\t\tfor behaviorName, behaviorFunc := range BehaviorFuncs {\n\t\t\t\tt.Run(behaviorName, func(t *testing.T) {\n\t\t\t\t\tfor themeName, themeFunc := range ThemeFuncs {\n\t\t\t\t\t\tt.Run(themeName, func(t *testing.T) {\n\t\t\t\t\t\t\tt.Parallel()\n\n\t\t\t\t\t\t\tdv := diffview.New()\n\t\t\t\t\t\t\tdv = layoutFunc(dv)\n\t\t\t\t\t\t\tdv = themeFunc(dv)\n\t\t\t\t\t\t\tdv = behaviorFunc(dv)\n\n\t\t\t\t\t\t\toutput := dv.String()\n\t\t\t\t\t\t\tgolden.RequireEqual(t, []byte(output))\n\n\t\t\t\t\t\t\tswitch behaviorName {\n\t\t\t\t\t\t\tcase \"SmallWidth\":\n\t\t\t\t\t\t\t\tassertLineWidth(t, 40, output)\n\t\t\t\t\t\t\tcase \"LargeWidth\":\n\t\t\t\t\t\t\t\tassertLineWidth(t, 120, output)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestDiffViewTabs_166": {
      "name": "TestDiffViewTabs",
      "type": "function",
      "start_line": 166,
      "end_line": 185,
      "content_hash": "d040f4d9d72b098cb6bbe38a15faa35567fe4d96",
      "content": "func TestDiffViewTabs(t *testing.T) {\n\tt.Parallel()\n\n\tfor layoutName, layoutFunc := range LayoutFuncs {\n\t\tt.Run(layoutName, func(t *testing.T) {\n\t\t\tt.Parallel()\n\n\t\t\tdv := diffview.New().\n\t\t\t\tBefore(\"main.go\", TestTabsBefore).\n\t\t\t\tAfter(\"main.go\", TestTabsAfter).\n\t\t\t\tStyle(diffview.DefaultLightStyle()).\n\t\t\t\tChromaStyle(styles.Get(\"catppuccin-latte\"))\n\t\t\tdv = layoutFunc(dv)\n\n\t\t\toutput := dv.String()\n\t\t\tgolden.RequireEqual(t, []byte(output))\n\t\t})\n\t}\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestDiffViewLineBreakIssue_186": {
      "name": "TestDiffViewLineBreakIssue",
      "type": "function",
      "start_line": 186,
      "end_line": 205,
      "content_hash": "71952f6f67f92a38e7684776f8b85c05a88a6e6e",
      "content": "func TestDiffViewLineBreakIssue(t *testing.T) {\n\tt.Parallel()\n\n\tfor layoutName, layoutFunc := range LayoutFuncs {\n\t\tt.Run(layoutName, func(t *testing.T) {\n\t\t\tt.Parallel()\n\n\t\t\tdv := diffview.New().\n\t\t\t\tBefore(\"index.js\", TestLineBreakIssueBefore).\n\t\t\t\tAfter(\"index.js\", TestLineBreakIssueAfter).\n\t\t\t\tStyle(diffview.DefaultLightStyle()).\n\t\t\t\tChromaStyle(styles.Get(\"catppuccin-latte\"))\n\t\t\tdv = layoutFunc(dv)\n\n\t\t\toutput := dv.String()\n\t\t\tgolden.RequireEqual(t, []byte(output))\n\t\t})\n\t}\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestDiffViewWidth_206": {
      "name": "TestDiffViewWidth",
      "type": "function",
      "start_line": 206,
      "end_line": 234,
      "content_hash": "fe1c9a16cf8ffb7b08070f01921e3e587ac85cf3",
      "content": "func TestDiffViewWidth(t *testing.T) {\n\tfor layoutName, layoutFunc := range LayoutFuncs {\n\t\tt.Run(layoutName, func(t *testing.T) {\n\t\t\tfor width := 1; width <= 110; width++ {\n\t\t\t\tif layoutName == \"Unified\" && width > 60 {\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\n\t\t\t\tt.Run(fmt.Sprintf(\"WidthOf%03d\", width), func(t *testing.T) {\n\t\t\t\t\tt.Parallel()\n\n\t\t\t\t\tdv := diffview.New().\n\t\t\t\t\t\tBefore(\"main.go\", TestMultipleHunksBefore).\n\t\t\t\t\t\tAfter(\"main.go\", TestMultipleHunksAfter).\n\t\t\t\t\t\tWidth(width).\n\t\t\t\t\t\tStyle(diffview.DefaultLightStyle()).\n\t\t\t\t\t\tChromaStyle(styles.Get(\"catppuccin-latte\"))\n\t\t\t\t\tdv = layoutFunc(dv)\n\n\t\t\t\t\toutput := dv.String()\n\t\t\t\t\tgolden.RequireEqual(t, []byte(output))\n\n\t\t\t\t\tassertLineWidth(t, width, output)\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestDiffViewHeight_235": {
      "name": "TestDiffViewHeight",
      "type": "function",
      "start_line": 235,
      "end_line": 257,
      "content_hash": "43ef6ba476a79a1e407030bb70d33bea8365a339",
      "content": "func TestDiffViewHeight(t *testing.T) {\n\tfor layoutName, layoutFunc := range LayoutFuncs {\n\t\tt.Run(layoutName, func(t *testing.T) {\n\t\t\tfor height := 1; height <= 20; height++ {\n\t\t\t\tt.Run(fmt.Sprintf(\"HeightOf%03d\", height), func(t *testing.T) {\n\t\t\t\t\tt.Parallel()\n\n\t\t\t\t\tdv := diffview.New().\n\t\t\t\t\t\tBefore(\"main.go\", TestMultipleHunksBefore).\n\t\t\t\t\t\tAfter(\"main.go\", TestMultipleHunksAfter).\n\t\t\t\t\t\tHeight(height).\n\t\t\t\t\t\tStyle(diffview.DefaultLightStyle()).\n\t\t\t\t\t\tChromaStyle(styles.Get(\"catppuccin-latte\"))\n\t\t\t\t\tdv = layoutFunc(dv)\n\n\t\t\t\t\toutput := dv.String()\n\t\t\t\t\tgolden.RequireEqual(t, []byte(output))\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestDiffViewXOffset_258": {
      "name": "TestDiffViewXOffset",
      "type": "function",
      "start_line": 258,
      "end_line": 283,
      "content_hash": "9f5f76d2f57a2687ec97a630ad4ce75dc30129bc",
      "content": "func TestDiffViewXOffset(t *testing.T) {\n\tfor layoutName, layoutFunc := range LayoutFuncs {\n\t\tt.Run(layoutName, func(t *testing.T) {\n\t\t\tfor xOffset := range 21 {\n\t\t\t\tt.Run(fmt.Sprintf(\"XOffsetOf%02d\", xOffset), func(t *testing.T) {\n\t\t\t\t\tt.Parallel()\n\n\t\t\t\t\tdv := diffview.New().\n\t\t\t\t\t\tBefore(\"main.go\", TestDefaultBefore).\n\t\t\t\t\t\tAfter(\"main.go\", TestDefaultAfter).\n\t\t\t\t\t\tStyle(diffview.DefaultLightStyle()).\n\t\t\t\t\t\tChromaStyle(styles.Get(\"catppuccin-latte\")).\n\t\t\t\t\t\tWidth(60).\n\t\t\t\t\t\tXOffset(xOffset)\n\t\t\t\t\tdv = layoutFunc(dv)\n\n\t\t\t\t\toutput := dv.String()\n\t\t\t\t\tgolden.RequireEqual(t, []byte(output))\n\n\t\t\t\t\tassertLineWidth(t, 60, output)\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestDiffViewYOffset_284": {
      "name": "TestDiffViewYOffset",
      "type": "function",
      "start_line": 284,
      "end_line": 307,
      "content_hash": "cef078f535295046e468374c83d540df8dd02287",
      "content": "func TestDiffViewYOffset(t *testing.T) {\n\tfor layoutName, layoutFunc := range LayoutFuncs {\n\t\tt.Run(layoutName, func(t *testing.T) {\n\t\t\tfor yOffset := range 17 {\n\t\t\t\tt.Run(fmt.Sprintf(\"YOffsetOf%02d\", yOffset), func(t *testing.T) {\n\t\t\t\t\tt.Parallel()\n\n\t\t\t\t\tdv := diffview.New().\n\t\t\t\t\t\tBefore(\"main.go\", TestMultipleHunksBefore).\n\t\t\t\t\t\tAfter(\"main.go\", TestMultipleHunksAfter).\n\t\t\t\t\t\tStyle(diffview.DefaultLightStyle()).\n\t\t\t\t\t\tChromaStyle(styles.Get(\"catppuccin-latte\")).\n\t\t\t\t\t\tHeight(5).\n\t\t\t\t\t\tYOffset(yOffset)\n\t\t\t\t\tdv = layoutFunc(dv)\n\n\t\t\t\t\toutput := dv.String()\n\t\t\t\t\tgolden.RequireEqual(t, []byte(output))\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestDiffViewYOffsetInfinite_308": {
      "name": "TestDiffViewYOffsetInfinite",
      "type": "function",
      "start_line": 308,
      "end_line": 332,
      "content_hash": "b7d4b1ff3ece5b2ea211d2acca680c490532f9f5",
      "content": "func TestDiffViewYOffsetInfinite(t *testing.T) {\n\tfor layoutName, layoutFunc := range LayoutFuncs {\n\t\tt.Run(layoutName, func(t *testing.T) {\n\t\t\tfor yOffset := range 17 {\n\t\t\t\tt.Run(fmt.Sprintf(\"YOffsetOf%02d\", yOffset), func(t *testing.T) {\n\t\t\t\t\tt.Parallel()\n\n\t\t\t\t\tdv := diffview.New().\n\t\t\t\t\t\tBefore(\"main.go\", TestMultipleHunksBefore).\n\t\t\t\t\t\tAfter(\"main.go\", TestMultipleHunksAfter).\n\t\t\t\t\t\tStyle(diffview.DefaultLightStyle()).\n\t\t\t\t\t\tChromaStyle(styles.Get(\"catppuccin-latte\")).\n\t\t\t\t\t\tHeight(5).\n\t\t\t\t\t\tYOffset(yOffset).\n\t\t\t\t\t\tInfiniteYScroll(true)\n\t\t\t\t\tdv = layoutFunc(dv)\n\n\t\t\t\t\toutput := dv.String()\n\t\t\t\t\tgolden.RequireEqual(t, []byte(output))\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_assertLineWidth_333": {
      "name": "assertLineWidth",
      "type": "function",
      "start_line": 333,
      "end_line": 342,
      "content_hash": "fbc721df975f3a6424c4bd3f599a816a8cded6b7",
      "content": "func assertLineWidth(t *testing.T, expected int, output string) {\n\tvar lineWidth int\n\tfor line := range strings.SplitSeq(output, \"\\n\") {\n\t\tlineWidth = max(lineWidth, ansi.StringWidth(line))\n\t}\n\tif lineWidth != expected {\n\t\tt.Errorf(\"expected output width to be == %d, got %d\", expected, lineWidth)\n\t}\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_assertHeight_343": {
      "name": "assertHeight",
      "type": "function",
      "start_line": 343,
      "end_line": 349,
      "content_hash": "b799a3a91a21a24736c8ada06d131c769760b400",
      "content": "func assertHeight(t *testing.T, expected int, output string) {\n\toutput = strings.TrimSuffix(output, \"\\n\")\n\tlines := strings.Count(output, \"\\n\") + 1\n\tif lines != expected {\n\t\tt.Errorf(\"expected output height to be == %d, got %d\", expected, lines)\n\t}\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    }
  }
}