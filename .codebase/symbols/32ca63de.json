{
  "file_path": "/work/internal/agent/session_window.go",
  "file_hash": "c6730be74d52845d5fc8614aa61aee143fab8f22",
  "updated_at": "2025-12-26T17:34:21.564132",
  "symbols": {
    "struct_SessionWindow_9": {
      "name": "SessionWindow",
      "type": "struct",
      "start_line": 9,
      "end_line": 20,
      "content_hash": "d6daa7924f66c1ce4602f903b8ba20be5bad9685",
      "content": "type SessionWindow struct {\n\tID         string             `json:\"id\"`\n\tTitle      string             `json:\"title\"`\n\tAgent      SessionAgent       `json:\"-\"`\n\tHistory    []message.Message  `json:\"history,omitempty\"`\n\tState      *ConversationState `json:\"state,omitempty\"`\n\tForkParent string             `json:\"fork_parent,omitempty\"`\n\tIsActive   bool               `json:\"is_active\"`\n\n\tmu sync.RWMutex\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Messages_21": {
      "name": "Messages",
      "type": "method",
      "start_line": 21,
      "end_line": 26,
      "content_hash": "9f618d025a75ecc242637b6d29d8c3319c7bd6a8",
      "content": "func (w *SessionWindow) Messages() []message.Message {\n\tw.mu.RLock()\n\tdefer w.mu.RUnlock()\n\treturn w.History\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_AddMessage_27": {
      "name": "AddMessage",
      "type": "method",
      "start_line": 27,
      "end_line": 32,
      "content_hash": "7892dd4f1d1e2bde6eea63753aa8080b2565ad16",
      "content": "func (w *SessionWindow) AddMessage(msg message.Message) {\n\tw.mu.Lock()\n\tdefer w.mu.Unlock()\n\tw.History = append(w.History, msg)\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_NewSessionWindow_33": {
      "name": "NewSessionWindow",
      "type": "function",
      "start_line": 33,
      "end_line": 40,
      "content_hash": "54ba37a0ba39397434442a1a35f9d3a9f0fbae69",
      "content": "func NewSessionWindow(id, title string, agent SessionAgent) *SessionWindow {\n\treturn &SessionWindow{\n\t\tID:      id,\n\t\tTitle:   title,\n\t\tAgent:   agent,\n\t\tHistory: []message.Message{},\n\t}\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    }
  }
}