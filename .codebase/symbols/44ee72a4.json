{
  "file_path": "/work/external-deps/helix-db/helix-db/src/protocol/custom_serde/node_serde.rs",
  "file_hash": "ff2b584eb7337a2b13661db2d0619c8eae70d73e",
  "updated_at": "2025-12-26T17:34:25.009415",
  "symbols": {
    "struct_OptionPropertiesMapDeSeed_10": {
      "name": "OptionPropertiesMapDeSeed",
      "type": "struct",
      "start_line": 10,
      "end_line": 13,
      "content_hash": "900f7c0eb80379f667f35e396232005a8d243920",
      "content": "struct OptionPropertiesMapDeSeed<'arena> {\n    arena: &'arena bumpalo::Bump,\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "impl_DeserializeSeed_14": {
      "name": "DeserializeSeed",
      "type": "impl",
      "start_line": 14,
      "end_line": 20,
      "content_hash": "4d68ffc9937fb23ce383dd0418e1eb5981c0f536",
      "content": "impl<'de, 'arena> DeserializeSeed<'de> for OptionPropertiesMapDeSeed<'arena> {\n    type Value = Option<ImmutablePropertiesMap<'arena>>;\n\n    fn deserialize<D>(self, deserializer: D) -> Result<Self::Value, D::Error>\n    where\n        D: serde::Deserializer<'de>,\n    {",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "struct_OptVisitor_21": {
      "name": "OptVisitor",
      "type": "struct",
      "start_line": 21,
      "end_line": 24,
      "content_hash": "5cbe9ae43526fdaae3da35333fe652eae66cba52",
      "content": "        struct OptVisitor<'arena> {\n            arena: &'arena bumpalo::Bump,\n        }\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "impl_Visitor_25": {
      "name": "Visitor",
      "type": "impl",
      "start_line": 25,
      "end_line": 27,
      "content_hash": "c72304f14a968219ac8981d0d8d9401278d10f50",
      "content": "        impl<'de, 'arena> Visitor<'de> for OptVisitor<'arena> {\n            type Value = Option<ImmutablePropertiesMap<'arena>>;\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_expecting_28": {
      "name": "expecting",
      "type": "method",
      "start_line": 28,
      "end_line": 53,
      "content_hash": "185103e290c9773c1f8e378dbb8c324e4601b3c9",
      "content": "            fn expecting(&self, formatter: &mut fmt::Formatter) -> fmt::Result {\n                formatter.write_str(\"Option<ImmutablePropertiesMap>\")\n            }\n\n            fn visit_none<E>(self) -> Result<Self::Value, E>\n            where\n                E: serde::de::Error,\n            {\n                Ok(None)\n            }\n\n            fn visit_some<D>(self, deserializer: D) -> Result<Self::Value, D::Error>\n            where\n                D: serde::Deserializer<'de>,\n            {\n                ImmutablePropertiesMapDeSeed { arena: self.arena }\n                    .deserialize(deserializer)\n                    .map(Some)\n            }\n        }\n\n        deserializer.deserialize_option(OptVisitor { arena: self.arena })\n    }\n}\n\n/// DeserializeSeed for Node that allocates label and properties into the arena",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "struct_NodeDeSeed_54": {
      "name": "NodeDeSeed",
      "type": "struct",
      "start_line": 54,
      "end_line": 58,
      "content_hash": "7074ff7d39d1522a39a06a48b8ed902c20a88fcf",
      "content": "pub struct NodeDeSeed<'arena> {\n    pub arena: &'arena bumpalo::Bump,\n    pub id: u128,\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "impl_serde::de::DeserializeSeed_59": {
      "name": "serde::de::DeserializeSeed",
      "type": "impl",
      "start_line": 59,
      "end_line": 65,
      "content_hash": "db5ec56ee28893008b0d21144a9a7bcc1cfc9075",
      "content": "impl<'de, 'arena> serde::de::DeserializeSeed<'de> for NodeDeSeed<'arena> {\n    type Value = Node<'arena>;\n\n    fn deserialize<D>(self, deserializer: D) -> Result<Self::Value, D::Error>\n    where\n        D: serde::de::Deserializer<'de>,\n    {",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "struct_NodeVisitor_66": {
      "name": "NodeVisitor",
      "type": "struct",
      "start_line": 66,
      "end_line": 70,
      "content_hash": "a37d07b676d9ed30b76ce92878ca8aee2875380a",
      "content": "        struct NodeVisitor<'arena> {\n            arena: &'arena bumpalo::Bump,\n            id: u128,\n        }\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "impl_serde::de::Visitor_71": {
      "name": "serde::de::Visitor",
      "type": "impl",
      "start_line": 71,
      "end_line": 73,
      "content_hash": "0d8cc948877061fa6cde62e31bfc53d8bd556a89",
      "content": "        impl<'de, 'arena> serde::de::Visitor<'de> for NodeVisitor<'arena> {\n            type Value = Node<'arena>;\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_expecting_74": {
      "name": "expecting",
      "type": "method",
      "start_line": 74,
      "end_line": 114,
      "content_hash": "a1458b06d6f81920c8cea2e8254acea7ae93f703",
      "content": "            fn expecting(&self, formatter: &mut fmt::Formatter) -> fmt::Result {\n                formatter.write_str(\"struct Node\")\n            }\n\n            fn visit_seq<A>(self, mut seq: A) -> Result<Self::Value, A::Error>\n            where\n                A: serde::de::SeqAccess<'de>,\n            {\n                let label_string: &'de str = seq\n                    .next_element()?\n                    .ok_or_else(|| serde::de::Error::invalid_length(0, &self))?;\n                let label = self.arena.alloc_str(label_string);\n\n                let version: u8 = seq.next_element()?.ok_or_else(|| serde::de::Error::invalid_length(1, &self))?;\n\n                // Bincode serializes Option<T> as ONE field: 0x00 (None) or 0x01+data (Some)\n                // Use our custom DeserializeSeed that handles the Option wrapper\n                let properties: Option<ImmutablePropertiesMap<'arena>> = seq\n                    .next_element_seed(OptionPropertiesMapDeSeed { arena: self.arena })?\n                    .unwrap_or(None);\n\n                Ok(Node {\n                    id: self.id,\n                    label,\n                    version,\n                    properties,\n                })\n            }\n        }\n\n        // Match the serialize_struct call in Node's Serialize implementation\n        deserializer.deserialize_struct(\n            \"Node\",\n            &[\"label\", \"version\", \"properties\"],\n            NodeVisitor {\n                arena: self.arena,\n                id: self.id,\n            },\n        )\n    }\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    }
  }
}