{
  "file_path": "/work/internal/agent/tools/temp_dir.go",
  "file_hash": "dcb75979d874a1a41fa0365fd30240cd747bba7b",
  "updated_at": "2025-12-26T17:34:19.923116",
  "symbols": {
    "struct_TempDir_12": {
      "name": "TempDir",
      "type": "struct",
      "start_line": 12,
      "end_line": 16,
      "content_hash": "050b3f2e0a4593842b49e77606edb508333df99e",
      "content": "type TempDir struct {\n\tbasePath string\n}\n\n// NewTempDir creates a new temporary directory manager",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_NewTempDir_17": {
      "name": "NewTempDir",
      "type": "function",
      "start_line": 17,
      "end_line": 23,
      "content_hash": "4e29e2288c3655799fab0614f775f14d1bc6412b",
      "content": "func NewTempDir() *TempDir {\n\t// Use .nexora to avoid conflict with the nexora executable\n\tbasePath := filepath.Join(os.TempDir(), \".nexora\", \"nexora\")\n\treturn &TempDir{basePath: basePath}\n}\n\n// CreateTempDir creates a new temporary directory with a given prefix",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_CreateTempDir_24": {
      "name": "CreateTempDir",
      "type": "method",
      "start_line": 24,
      "end_line": 38,
      "content_hash": "cf8c0b403aaa0dc7982e363aa3eb1d8b3d41c869",
      "content": "func (t *TempDir) CreateTempDir(prefix string) (string, error) {\n\tif err := os.MkdirAll(t.basePath, 0755); err != nil {\n\t\treturn \"\", fmt.Errorf(\"failed to create base temp directory: %w\", err)\n\t}\n\n\tfullPath, err := os.MkdirTemp(t.basePath, prefix)\n\tif err != nil {\n\t\treturn \"\", fmt.Errorf(\"failed to create temp directory: %w\", err)\n\t}\n\n\tslog.Debug(\"Created temporary directory\", \"path\", fullPath)\n\treturn fullPath, nil\n}\n\n// CreateTempFile creates a new temporary file with a given prefix and content",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_CreateTempFile_39": {
      "name": "CreateTempFile",
      "type": "method",
      "start_line": 39,
      "end_line": 54,
      "content_hash": "90940f7b5adeb021a34bb50a58c94f3b6776dfbb",
      "content": "func (t *TempDir) CreateTempFile(prefix, content string) (string, error) {\n\ttempDir, err := t.CreateTempDir(prefix)\n\tif err != nil {\n\t\treturn \"\", err\n\t}\n\n\tfilePath := filepath.Join(tempDir, prefix+\".txt\")\n\tif err := os.WriteFile(filePath, []byte(content), 0644); err != nil {\n\t\treturn \"\", fmt.Errorf(\"failed to write temp file: %w\", err)\n\t}\n\n\tslog.Debug(\"Created temporary file\", \"path\", filePath)\n\treturn filePath, nil\n}\n\n// CleanUp removes the temporary directory and all its contents",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_CleanUp_55": {
      "name": "CleanUp",
      "type": "method",
      "start_line": 55,
      "end_line": 72,
      "content_hash": "032e0058fa700ff24000c3bfc3c63ffede1b5ef7",
      "content": "func (t *TempDir) CleanUp(path string) error {\n\tif path == \"\" {\n\t\treturn nil\n\t}\n\n\tif _, err := os.Stat(path); os.IsNotExist(err) {\n\t\treturn nil\n\t}\n\n\tif err := os.RemoveAll(path); err != nil {\n\t\treturn fmt.Errorf(\"failed to cleanup temp directory: %w\", err)\n\t}\n\n\tslog.Debug(\"Cleaned up temporary directory\", \"path\", path)\n\treturn nil\n}\n\n// GetBasePath returns the base temporary directory path",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_GetBasePath_73": {
      "name": "GetBasePath",
      "type": "method",
      "start_line": 73,
      "end_line": 75,
      "content_hash": "16275f69cd335eda9646d8482fe3f04a9044a9d3",
      "content": "func (t *TempDir) GetBasePath() string {\n\treturn t.basePath\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    }
  }
}