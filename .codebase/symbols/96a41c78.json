{
  "file_path": "/work/internal/tui/components/core/status/status.go",
  "file_hash": "04973298c6df0fbe3eb48038fb5585055ea65ee0",
  "updated_at": "2025-12-26T17:34:24.020519",
  "symbols": {
    "interface_StatusCmp_14": {
      "name": "StatusCmp",
      "type": "interface",
      "start_line": 14,
      "end_line": 19,
      "content_hash": "a47306e26c0f8d273decd2773249e204ecf22385",
      "content": "type StatusCmp interface {\n\tutil.Model\n\tToggleFullHelp()\n\tSetKeyMap(keyMap help.KeyMap)\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "struct_statusCmp_20": {
      "name": "statusCmp",
      "type": "struct",
      "start_line": 20,
      "end_line": 28,
      "content_hash": "22ef8be59a79ed433e273937e98ecb81729a2328",
      "content": "type statusCmp struct {\n\tinfo       util.InfoMsg\n\twidth      int\n\tmessageTTL time.Duration\n\thelp       help.Model\n\tkeyMap     help.KeyMap\n}\n\n// clearMessageCmd is a command that clears status messages after a timeout",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_clearMessageCmd_29": {
      "name": "clearMessageCmd",
      "type": "method",
      "start_line": 29,
      "end_line": 34,
      "content_hash": "f938a1efc46172cb6fc5cb09e943e609ca18664b",
      "content": "func (m *statusCmp) clearMessageCmd(ttl time.Duration) tea.Cmd {\n\treturn tea.Tick(ttl, func(time.Time) tea.Msg {\n\t\treturn util.ClearStatusMsg{}\n\t})\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Init_35": {
      "name": "Init",
      "type": "method",
      "start_line": 35,
      "end_line": 38,
      "content_hash": "e82522d5d8ed783ccceebdf44082181b9769dacf",
      "content": "func (m *statusCmp) Init() tea.Cmd {\n\treturn nil\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Update_39": {
      "name": "Update",
      "type": "method",
      "start_line": 39,
      "end_line": 59,
      "content_hash": "fcbeeaa6ea46421c16379a226ac9b87216431469",
      "content": "func (m *statusCmp) Update(msg tea.Msg) (util.Model, tea.Cmd) {\n\tswitch msg := msg.(type) {\n\tcase tea.WindowSizeMsg:\n\t\tm.width = msg.Width\n\t\tm.help.SetWidth(msg.Width - 2)\n\t\treturn m, nil\n\n\t// Handle status info\n\tcase util.InfoMsg:\n\t\tm.info = msg\n\t\tttl := msg.TTL\n\t\tif ttl == 0 {\n\t\t\tttl = m.messageTTL\n\t\t}\n\t\treturn m, m.clearMessageCmd(ttl)\n\tcase util.ClearStatusMsg:\n\t\tm.info = util.InfoMsg{}\n\t}\n\treturn m, nil\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_View_60": {
      "name": "View",
      "type": "method",
      "start_line": 60,
      "end_line": 68,
      "content_hash": "38d65e91b4d1dc3e0a1440a4cdcf245eab4eedcb",
      "content": "func (m *statusCmp) View() string {\n\tt := styles.CurrentTheme()\n\tstatus := t.S().Base.Padding(0, 1, 1, 1).Render(m.help.View(m.keyMap))\n\tif m.info.Msg != \"\" {\n\t\tstatus = m.infoMsg()\n\t}\n\treturn status\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_infoMsg_69": {
      "name": "infoMsg",
      "type": "method",
      "start_line": 69,
      "end_line": 96,
      "content_hash": "ee0b8cbb54885b1e2621a1121da82dd5c9cef36e",
      "content": "func (m *statusCmp) infoMsg() string {\n\tt := styles.CurrentTheme()\n\tmessage := \"\"\n\tinfoType := \"\"\n\tswitch m.info.Type {\n\tcase util.InfoTypeError:\n\t\tinfoType = t.S().Base.Background(t.Red).Padding(0, 1).Render(\"ERROR\")\n\t\twidthLeft := m.width - (lipgloss.Width(infoType) + 2)\n\t\tinfo := ansi.Truncate(m.info.Msg, widthLeft, \"\u2026\")\n\t\tmessage = t.S().Base.Background(t.Error).Width(widthLeft+2).Foreground(t.White).Padding(0, 1).Render(info)\n\tcase util.InfoTypeWarn:\n\t\tinfoType = t.S().Base.Foreground(t.BgOverlay).Background(t.Yellow).Padding(0, 1).Render(\"WARNING\")\n\t\twidthLeft := m.width - (lipgloss.Width(infoType) + 2)\n\t\tinfo := ansi.Truncate(m.info.Msg, widthLeft, \"\u2026\")\n\t\tmessage = t.S().Base.Foreground(t.BgOverlay).Width(widthLeft+2).Background(t.Warning).Padding(0, 1).Render(info)\n\tdefault:\n\t\tnote := \"OKAY!\"\n\t\tif m.info.Type == util.InfoTypeUpdate {\n\t\t\tnote = \"HEY!\"\n\t\t}\n\t\tinfoType = t.S().Base.Foreground(t.BgSubtle).Background(t.Green).Padding(0, 1).Bold(true).Render(note)\n\t\twidthLeft := m.width - (lipgloss.Width(infoType) + 2)\n\t\tinfo := ansi.Truncate(m.info.Msg, widthLeft, \"\u2026\")\n\t\tmessage = t.S().Base.Background(t.GreenDark).Width(widthLeft+2).Foreground(t.BgSubtle).Padding(0, 1).Render(info)\n\t}\n\treturn ansi.Truncate(infoType+message, m.width, \"\u2026\")\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_ToggleFullHelp_97": {
      "name": "ToggleFullHelp",
      "type": "method",
      "start_line": 97,
      "end_line": 100,
      "content_hash": "9a5b5c13154e47665ccfb823bdc600cdf1f7e50f",
      "content": "func (m *statusCmp) ToggleFullHelp() {\n\tm.help.ShowAll = !m.help.ShowAll\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_SetKeyMap_101": {
      "name": "SetKeyMap",
      "type": "method",
      "start_line": 101,
      "end_line": 104,
      "content_hash": "b675241a4fcc970df5bb7324dea75f074c422aa1",
      "content": "func (m *statusCmp) SetKeyMap(keyMap help.KeyMap) {\n\tm.keyMap = keyMap\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_NewStatusCmp_105": {
      "name": "NewStatusCmp",
      "type": "function",
      "start_line": 105,
      "end_line": 113,
      "content_hash": "a314e0f62085b734a828f7fe62d97b2f032a79f6",
      "content": "func NewStatusCmp() StatusCmp {\n\tt := styles.CurrentTheme()\n\thelp := help.New()\n\thelp.Styles = t.S().Help\n\treturn &statusCmp{\n\t\tmessageTTL: 5 * time.Second,\n\t\thelp:       help,\n\t}\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    }
  }
}