{
  "file_path": "/work/internal/agent/native/native_test.go",
  "file_hash": "2c4891a9ea2e1e4aeaa58cd32117f610c1afcf33",
  "updated_at": "2025-12-26T17:34:25.127830",
  "symbols": {
    "function_TestNewAgentTool_15": {
      "name": "TestNewAgentTool",
      "type": "function",
      "start_line": 15,
      "end_line": 32,
      "content_hash": "bd402033e27463b3c3321c9e4f5e402c21a93a22",
      "content": "func TestNewAgentTool(t *testing.T) {\n\tinfo := native.ToolInfo{\n\t\tName:        \"test_tool\",\n\t\tDescription: \"A test tool\",\n\t\tParameters:  nil,\n\t}\n\n\thandler := func(ctx context.Context, params any, call native.ToolCall) (native.ToolResponse, error) {\n\t\treturn native.NewTextResponse(\"test response\"), nil\n\t}\n\n\ttool := native.NewAgentTool(info, handler)\n\n\trequire.NotNil(t, tool)\n\tassert.Equal(t, info.Name, tool.Info().Name)\n\tassert.Equal(t, info.Description, tool.Info().Description)\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestBasicTool_Call_33": {
      "name": "TestBasicTool_Call",
      "type": "function",
      "start_line": 33,
      "end_line": 53,
      "content_hash": "87c2a3351c7ae0abc90b430b03d42099a2923122",
      "content": "func TestBasicTool_Call(t *testing.T) {\n\tinfo := native.ToolInfo{\n\t\tName:        \"test_tool\",\n\t\tDescription: \"A test tool\",\n\t}\n\n\thandler := func(ctx context.Context, params any, call native.ToolCall) (native.ToolResponse, error) {\n\t\treturn native.NewTextResponse(\"test response\"), nil\n\t}\n\n\ttool := native.NewAgentTool(info, handler)\n\n\tctx := context.Background()\n\tparams := map[string]any{\"param\": \"value\"}\n\n\tresponse, err := tool.Call(ctx, params)\n\trequire.NoError(t, err)\n\tassert.Equal(t, \"test response\", response.Content)\n\tassert.False(t, response.IsError)\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestNewTextResponse_54": {
      "name": "TestNewTextResponse",
      "type": "function",
      "start_line": 54,
      "end_line": 62,
      "content_hash": "58db63871bc3f9d61de0c203e4a10571b07ab9c4",
      "content": "func TestNewTextResponse(t *testing.T) {\n\tcontent := \"Test content\"\n\tresponse := native.NewTextResponse(content)\n\n\tassert.Equal(t, content, response.Content)\n\tassert.False(t, response.IsError)\n\tassert.Nil(t, response.Metadata)\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestNewTextErrorResponse_63": {
      "name": "TestNewTextErrorResponse",
      "type": "function",
      "start_line": 63,
      "end_line": 71,
      "content_hash": "9c1fc70adda734a49a7d75438f7d83eeca8dd136",
      "content": "func TestNewTextErrorResponse(t *testing.T) {\n\tcontent := \"Error content\"\n\tresponse := native.NewTextErrorResponse(content)\n\n\tassert.Equal(t, content, response.Content)\n\tassert.True(t, response.IsError)\n\tassert.Nil(t, response.Metadata)\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestNewImageResponse_72": {
      "name": "TestNewImageResponse",
      "type": "function",
      "start_line": 72,
      "end_line": 84,
      "content_hash": "ad0589b6ff8d2abccb0b71d6d0b2d05dacb7238a",
      "content": "func TestNewImageResponse(t *testing.T) {\n\tdata := []byte(\"fake image data\")\n\tmimeType := \"image/png\"\n\n\tresponse := native.NewImageResponse(data, mimeType)\n\n\tassert.Equal(t, string(data), response.Content)\n\tassert.False(t, response.IsError)\n\tassert.NotNil(t, response.Metadata)\n\tassert.Equal(t, mimeType, response.Metadata[\"mime_type\"])\n\tassert.Equal(t, len(data), response.Metadata[\"size\"])\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestWithResponseMetadata_85": {
      "name": "TestWithResponseMetadata",
      "type": "function",
      "start_line": 85,
      "end_line": 99,
      "content_hash": "3dc407f6f10fa6169dc3b54dbecda88aa77a4b89",
      "content": "func TestWithResponseMetadata(t *testing.T) {\n\tresponse := native.NewTextResponse(\"test content\")\n\tmetadata := map[string]any{\n\t\t\"key1\": \"value1\",\n\t\t\"key2\": 42,\n\t}\n\n\tenhanced := native.WithResponseMetadata(response, metadata)\n\n\tassert.Equal(t, response.Content, enhanced.Content)\n\tassert.Equal(t, false, enhanced.IsError)\n\tassert.Equal(t, \"value1\", enhanced.Metadata[\"key1\"])\n\tassert.Equal(t, 42, enhanced.Metadata[\"key2\"])\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestWithResponseMetadata_Existing_100": {
      "name": "TestWithResponseMetadata_Existing",
      "type": "function",
      "start_line": 100,
      "end_line": 110,
      "content_hash": "d1cef41b5cb4544d2a1e69d9dc55f32caebe44c6",
      "content": "func TestWithResponseMetadata_Existing(t *testing.T) {\n\tresponse := native.NewTextResponse(\"test content\")\n\tresponse = native.WithResponseMetadata(response, map[string]any{\"existing\": \"value\"})\n\n\tmetadata := map[string]any{\"new\": \"value\"}\n\tenhanced := native.WithResponseMetadata(response, metadata)\n\n\tassert.Equal(t, \"value\", enhanced.Metadata[\"existing\"])\n\tassert.Equal(t, \"value\", enhanced.Metadata[\"new\"])\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestNewParallelAgentTool_111": {
      "name": "TestNewParallelAgentTool",
      "type": "function",
      "start_line": 111,
      "end_line": 136,
      "content_hash": "3aa9ef2537e8a35de5bde569f8738a6c442f5cbf",
      "content": "func TestNewParallelAgentTool(t *testing.T) {\n\tinfo := native.ToolInfo{\n\t\tName:        \"parallel_tool\",\n\t\tDescription: \"A parallel test tool\",\n\t}\n\n\thandler := func(ctx context.Context, params any, call native.ToolCall) (native.ToolResponse, error) {\n\t\treturn native.NewTextResponse(\"parallel response\"), nil\n\t}\n\n\ttool := native.NewParallelAgentTool(info, handler)\n\n\trequire.NotNil(t, tool)\n\tassert.Equal(t, info.Name, tool.Info().Name)\n\tassert.Equal(t, info.Description, tool.Info().Description)\n\n\t// Test that it can be called like a regular tool\n\tctx := context.Background()\n\tparams := map[string]any{\"param\": \"value\"}\n\n\tresponse, err := tool.Call(ctx, params)\n\trequire.NoError(t, err)\n\tassert.Equal(t, \"parallel response\", response.Content)\n\tassert.False(t, response.IsError)\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestNewAgentToolWithParams_137": {
      "name": "TestNewAgentToolWithParams",
      "type": "function",
      "start_line": 137,
      "end_line": 170,
      "content_hash": "7fe51a06f7574a0adc372abdd9366c94083aac4f",
      "content": "func TestNewAgentToolWithParams(t *testing.T) {\n\tname := \"param_tool\"\n\tdescription := \"A tool with parameters\"\n\tparams := map[string]any{\n\t\t\"type\": \"object\",\n\t\t\"properties\": map[string]any{\n\t\t\t\"input\": map[string]any{\n\t\t\t\t\"type\": \"string\",\n\t\t\t},\n\t\t},\n\t}\n\n\thandler := func(ctx context.Context, params any, call native.ToolCall) (native.ToolResponse, error) {\n\t\treturn native.NewTextResponse(\"parameterized response\"), nil\n\t}\n\n\ttool := native.NewAgentToolWithParams(name, description, params, handler)\n\n\trequire.NotNil(t, tool)\n\tinfo := tool.Info()\n\tassert.Equal(t, name, info.Name)\n\tassert.Equal(t, description, info.Description)\n\tassert.Equal(t, params, info.Parameters)\n\n\t// Test that it can be called\n\tctx := context.Background()\n\tcallParams := map[string]any{\"input\": \"test\"}\n\n\tresponse, err := tool.Call(ctx, callParams)\n\trequire.NoError(t, err)\n\tassert.Equal(t, \"parameterized response\", response.Content)\n\tassert.False(t, response.IsError)\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestProviderOptions_171": {
      "name": "TestProviderOptions",
      "type": "function",
      "start_line": 171,
      "end_line": 189,
      "content_hash": "c3745ac0e50c8d567c01e92746344714cbd0a033",
      "content": "func TestProviderOptions(t *testing.T) {\n\ttemp := 0.7\n\ttopP := 0.9\n\tmaxTokens := int64(1000)\n\n\toptions := native.ProviderOptions{\n\t\tTemperature: &temp,\n\t\tTopP:        &topP,\n\t\tMaxTokens:   &maxTokens,\n\t}\n\n\trequire.NotNil(t, options.Temperature)\n\tassert.Equal(t, temp, *options.Temperature)\n\trequire.NotNil(t, options.TopP)\n\tassert.Equal(t, topP, *options.TopP)\n\trequire.NotNil(t, options.MaxTokens)\n\tassert.Equal(t, maxTokens, *options.MaxTokens)\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestProviderOptions_Empty_190": {
      "name": "TestProviderOptions_Empty",
      "type": "function",
      "start_line": 190,
      "end_line": 197,
      "content_hash": "f72a13189ad24a9fb574bad62c7aef2dd28df7b6",
      "content": "func TestProviderOptions_Empty(t *testing.T) {\n\toptions := native.ProviderOptions{}\n\n\tassert.Nil(t, options.Temperature)\n\tassert.Nil(t, options.TopP)\n\tassert.Nil(t, options.MaxTokens)\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestToolCall_198": {
      "name": "TestToolCall",
      "type": "function",
      "start_line": 198,
      "end_line": 209,
      "content_hash": "8eca0ab2ec8931c95315cec5da86b6adb6536a35",
      "content": "func TestToolCall(t *testing.T) {\n\tcall := native.ToolCall{\n\t\tID:        \"call_123\",\n\t\tName:      \"test_tool\",\n\t\tArguments: json.RawMessage(`{\"param\": \"value\"}`),\n\t}\n\n\tassert.Equal(t, \"call_123\", call.ID)\n\tassert.Equal(t, \"test_tool\", call.Name)\n\tassert.Equal(t, json.RawMessage(`{\"param\": \"value\"}`), call.Arguments)\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestResult_210": {
      "name": "TestResult",
      "type": "function",
      "start_line": 210,
      "end_line": 226,
      "content_hash": "f56ff4748c90a284eb7f2d5b3daa9c485ed441ef",
      "content": "func TestResult(t *testing.T) {\n\ttoolCall := native.ToolCall{\n\t\tID:   \"call_456\",\n\t\tName: \"another_tool\",\n\t}\n\n\tresult := native.Result{\n\t\tContent:   \"Test result content\",\n\t\tToolCalls: []native.ToolCall{toolCall},\n\t}\n\n\tassert.Equal(t, \"Test result content\", result.Content)\n\trequire.Len(t, result.ToolCalls, 1)\n\tassert.Equal(t, toolCall.ID, result.ToolCalls[0].ID)\n\tassert.Equal(t, toolCall.Name, result.ToolCalls[0].Name)\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestResult_Empty_227": {
      "name": "TestResult_Empty",
      "type": "function",
      "start_line": 227,
      "end_line": 236,
      "content_hash": "b1eedcfd1833f661664b8c486182481f3845d089",
      "content": "func TestResult_Empty(t *testing.T) {\n\tresult := native.Result{\n\t\tContent: \"Simple content\",\n\t}\n\n\tassert.Equal(t, \"Simple content\", result.Content)\n\tassert.Empty(t, result.ToolCalls)\n}\n\n// Mock provider for testing",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "struct_mockProvider_237": {
      "name": "mockProvider",
      "type": "struct",
      "start_line": 237,
      "end_line": 241,
      "content_hash": "9103f89ea6c0eedcf041de44cd6b79401d550c4b",
      "content": "type mockProvider struct {\n\tresponse *native.Result\n\terr      error\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Call_242": {
      "name": "Call",
      "type": "method",
      "start_line": 242,
      "end_line": 245,
      "content_hash": "0a72afda7cd4dd3ea92ad752b1f0b80764e0c551",
      "content": "func (m *mockProvider) Call(ctx context.Context, messages []any, options native.ProviderOptions) (*native.Result, error) {\n\treturn m.response, m.err\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestProvider_Interface_246": {
      "name": "TestProvider_Interface",
      "type": "function",
      "start_line": 246,
      "end_line": 268,
      "content_hash": "4e06190e336a7e8986fd652b56b9f0db072072a6",
      "content": "func TestProvider_Interface(t *testing.T) {\n\tmockResult := &native.Result{\n\t\tContent: \"Mock response\",\n\t}\n\n\tprovider := &mockProvider{\n\t\tresponse: mockResult,\n\t\terr:      nil,\n\t}\n\n\t// Test that the mock implements the Provider interface\n\tvar _ native.Provider = provider\n\n\tctx := context.Background()\n\tmessages := []any{\"message1\", \"message2\"}\n\toptions := native.ProviderOptions{Temperature: ptr(0.5)}\n\n\tresult, err := provider.Call(ctx, messages, options)\n\n\trequire.NoError(t, err)\n\tassert.Equal(t, mockResult.Content, result.Content)\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestProvider_Error_269": {
      "name": "TestProvider_Error",
      "type": "function",
      "start_line": 269,
      "end_line": 284,
      "content_hash": "c3f05d1b6e25190c31ef7893df2b8dce3c75effa",
      "content": "func TestProvider_Error(t *testing.T) {\n\tprovider := &mockProvider{\n\t\tresponse: nil,\n\t\terr:      assert.AnError,\n\t}\n\n\tctx := context.Background()\n\tmessages := []any{\"message1\"}\n\toptions := native.ProviderOptions{}\n\n\tresult, err := provider.Call(ctx, messages, options)\n\n\tassert.Error(t, err)\n\tassert.Nil(t, result)\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestGetSessionFromContext_285": {
      "name": "TestGetSessionFromContext",
      "type": "function",
      "start_line": 285,
      "end_line": 315,
      "content_hash": "d50aa14103156d4403058c08f2baaf9fca685cf4",
      "content": "func TestGetSessionFromContext(t *testing.T) {\n\ttests := []struct {\n\t\tname       string\n\t\tctx        context.Context\n\t\texpectedID string\n\t}{\n\t\t{\n\t\t\tname:       \"context with session ID\",\n\t\t\tctx:        context.WithValue(context.Background(), \"session_id\", \"test-session-123\"),\n\t\t\texpectedID: \"test-session-123\",\n\t\t},\n\t\t{\n\t\t\tname:       \"context without session ID\",\n\t\t\tctx:        context.Background(),\n\t\t\texpectedID: \"\",\n\t\t},\n\t\t{\n\t\t\tname:       \"context with wrong type\",\n\t\t\tctx:        context.WithValue(context.Background(), \"session_id\", 123),\n\t\t\texpectedID: \"\",\n\t\t},\n\t}\n\n\tfor _, tt := range tests {\n\t\tt.Run(tt.name, func(t *testing.T) {\n\t\t\tresult := native.GetSessionFromContext(tt.ctx)\n\t\t\tassert.Equal(t, tt.expectedID, result)\n\t\t})\n\t}\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestNewBashTool_316": {
      "name": "TestNewBashTool",
      "type": "function",
      "start_line": 316,
      "end_line": 336,
      "content_hash": "d45eec138813ffd05250fd7ad4ce5e1f35f0288f",
      "content": "func TestNewBashTool(t *testing.T) {\n\t// Create a mock permission service\n\tmockPermissions := &mockPermissionService{\n\t\tallowPermission: true,\n\t}\n\n\t// Test creation of bash tool\n\tworkingDir := \"/test/dir\"\n\tdescription := \"Test bash tool\"\n\n\ttool := native.NewBashTool(mockPermissions, workingDir, description)\n\n\trequire.NotNil(t, tool)\n\n\t// Check tool info\n\tinfo := tool.Info()\n\tassert.Equal(t, \"bash\", info.Name)\n\tassert.Equal(t, description, info.Description)\n\tassert.NotNil(t, info.Parameters)\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestNewBashTool_CommandExecution_337": {
      "name": "TestNewBashTool_CommandExecution",
      "type": "function",
      "start_line": 337,
      "end_line": 363,
      "content_hash": "d88a5a55b0864db7a24a332012ecda5bff1212be",
      "content": "func TestNewBashTool_CommandExecution(t *testing.T) {\n\tmockPermissions := &mockPermissionService{\n\t\tallowPermission: true,\n\t}\n\n\tworkingDir := \"/test/dir\"\n\tdescription := \"Test bash tool\"\n\n\ttool := native.NewBashTool(mockPermissions, workingDir, description)\n\trequire.NotNil(t, tool)\n\n\t// Test successful command execution with session context\n\tctx := context.WithValue(context.Background(), \"session_id\", \"test-session\")\n\n\tparams := native.BashParams{\n\t\tDescription:     \"Test command\",\n\t\tCommand:         \"echo hello\",\n\t\tWorkingDir:      \"\",\n\t\tRunInBackground: false,\n\t}\n\n\tresponse, err := tool.Call(ctx, params)\n\trequire.NoError(t, err)\n\tassert.Contains(t, response.Content, \"echo hello\")\n\tassert.NotNil(t, response.Metadata)\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestNewBashTool_UnsafeCommandDeniedPermission_364": {
      "name": "TestNewBashTool_UnsafeCommandDeniedPermission",
      "type": "function",
      "start_line": 364,
      "end_line": 387,
      "content_hash": "cee5a39920529e24a5223881babd2a7e02705910",
      "content": "func TestNewBashTool_UnsafeCommandDeniedPermission(t *testing.T) {\n\tmockPermissions := &mockPermissionService{\n\t\tallowPermission: false,\n\t}\n\n\tworkingDir := \"/test/dir\"\n\tdescription := \"Test bash tool\"\n\n\ttool := native.NewBashTool(mockPermissions, workingDir, description)\n\trequire.NotNil(t, tool)\n\n\t// Test unsafe command with denied permission\n\tctx := context.WithValue(context.Background(), \"session_id\", \"test-session\")\n\n\tparams := native.BashParams{\n\t\tDescription: \"Test unsafe command\",\n\t\tCommand:     \"rm -rf /\",\n\t}\n\n\tresponse, err := tool.Call(ctx, params)\n\tassert.Error(t, err)\n\tassert.Equal(t, native.ToolResponse{}, response)\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestNewBashTool_MissingSessionID_388": {
      "name": "TestNewBashTool_MissingSessionID",
      "type": "function",
      "start_line": 388,
      "end_line": 407,
      "content_hash": "26e55a988eb53c932952ce70f1e09ca2cdab2b7e",
      "content": "func TestNewBashTool_MissingSessionID(t *testing.T) {\n\tmockPermissions := &mockPermissionService{\n\t\tallowPermission: true,\n\t}\n\n\ttool := native.NewBashTool(mockPermissions, \"/test\", \"test\")\n\n\t// Test command without session context\n\tctx := context.Background()\n\n\tparams := native.BashParams{\n\t\tDescription: \"Test command\",\n\t\tCommand:     \"echo hello\",\n\t}\n\n\tresponse, err := tool.Call(ctx, params)\n\tassert.Error(t, err)\n\tassert.Equal(t, native.ToolResponse{}, response)\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestNewBashTool_InvalidParameters_408": {
      "name": "TestNewBashTool_InvalidParameters",
      "type": "function",
      "start_line": 408,
      "end_line": 422,
      "content_hash": "c73937d9595f3deb8259784a40e0f6329670a2f6",
      "content": "func TestNewBashTool_InvalidParameters(t *testing.T) {\n\tmockPermissions := &mockPermissionService{\n\t\tallowPermission: true,\n\t}\n\n\ttool := native.NewBashTool(mockPermissions, \"/test\", \"test\")\n\n\tctx := context.WithValue(context.Background(), \"session_id\", \"test-session\")\n\n\t// Test with invalid parameters\n\tresponse, err := tool.Call(ctx, \"not a valid params struct\")\n\trequire.NoError(t, err)\n\tassert.Contains(t, response.Content, \"invalid parameters\")\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestNewBashTool_EmptyCommand_423": {
      "name": "TestNewBashTool_EmptyCommand",
      "type": "function",
      "start_line": 423,
      "end_line": 443,
      "content_hash": "97e4493134e6288e1897db08eba21f30d795b427",
      "content": "func TestNewBashTool_EmptyCommand(t *testing.T) {\n\tmockPermissions := &mockPermissionService{\n\t\tallowPermission: true,\n\t}\n\n\ttool := native.NewBashTool(mockPermissions, \"/test\", \"test\")\n\n\tctx := context.WithValue(context.Background(), \"session_id\", \"test-session\")\n\n\t// Test with empty command\n\tparams := native.BashParams{\n\t\tDescription: \"Empty command test\",\n\t\tCommand:     \"\",\n\t}\n\n\tresponse, err := tool.Call(ctx, params)\n\trequire.NoError(t, err)\n\tassert.Contains(t, response.Content, \"missing command\")\n}\n\n// Mock permission service for testing",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "struct_mockPermissionService_444": {
      "name": "mockPermissionService",
      "type": "struct",
      "start_line": 444,
      "end_line": 447,
      "content_hash": "e1e7c4b42d326cf32ab3956c5254c9c3ac0cb7b9",
      "content": "type mockPermissionService struct {\n\tallowPermission bool\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Request_448": {
      "name": "Request",
      "type": "method",
      "start_line": 448,
      "end_line": 451,
      "content_hash": "11428315a7c02f57825a04826e86050d8ddb7166",
      "content": "func (m *mockPermissionService) Request(opts permission.CreatePermissionRequest) bool {\n\treturn m.allowPermission\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Subscribe_452": {
      "name": "Subscribe",
      "type": "method",
      "start_line": 452,
      "end_line": 458,
      "content_hash": "0597e601ffe82f03fe75e833ad1db2e446a63864",
      "content": "func (m *mockPermissionService) Subscribe(ctx context.Context) <-chan pubsub.Event[permission.PermissionRequest] {\n\tch := make(chan pubsub.Event[permission.PermissionRequest], 1)\n\t// Return closed channel to avoid blocking\n\tclose(ch)\n\treturn ch\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_SubscribeNotifications_459": {
      "name": "SubscribeNotifications",
      "type": "method",
      "start_line": 459,
      "end_line": 465,
      "content_hash": "a52f22c752b334a73450a54cbe9f78b22a934de2",
      "content": "func (m *mockPermissionService) SubscribeNotifications(ctx context.Context) <-chan pubsub.Event[permission.PermissionNotification] {\n\tch := make(chan pubsub.Event[permission.PermissionNotification], 1)\n\t// Return closed channel to avoid blocking\n\tclose(ch)\n\treturn ch\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_AutoApproveSession_466": {
      "name": "AutoApproveSession",
      "type": "method",
      "start_line": 466,
      "end_line": 467,
      "content_hash": "aac4abcb7e594ac31b896c07ae5831c172914959",
      "content": "func (m *mockPermissionService) AutoApproveSession(sessionID string) {}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_SetSkipRequests_468": {
      "name": "SetSkipRequests",
      "type": "method",
      "start_line": 468,
      "end_line": 469,
      "content_hash": "8b667c0c204937354a13e3cd8b0b3f16e16dd261",
      "content": "func (m *mockPermissionService) SetSkipRequests(skip bool) {}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_SkipRequests_470": {
      "name": "SkipRequests",
      "type": "method",
      "start_line": 470,
      "end_line": 473,
      "content_hash": "0f027c190e40f9f6cc1a88415a1d57f245d897ae",
      "content": "func (m *mockPermissionService) SkipRequests() bool {\n\treturn false\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_GrantPersistent_474": {
      "name": "GrantPersistent",
      "type": "method",
      "start_line": 474,
      "end_line": 475,
      "content_hash": "9451e13c7715038d10d3c75880296d53c3236df6",
      "content": "func (m *mockPermissionService) GrantPersistent(permission.PermissionRequest) {}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Grant_476": {
      "name": "Grant",
      "type": "method",
      "start_line": 476,
      "end_line": 477,
      "content_hash": "c7788fca005efd6341241c4d2106bf0c6234832f",
      "content": "func (m *mockPermissionService) Grant(permission.PermissionRequest) {}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Deny_478": {
      "name": "Deny",
      "type": "method",
      "start_line": 478,
      "end_line": 483,
      "content_hash": "992fbf89ec446f0439141a9ae7062766e1729c55",
      "content": "func (m *mockPermissionService) Deny(permission.PermissionRequest) {}\n\n// Helper function to create pointers for tests\nfunc ptr[T any](v T) *T {\n\treturn &v\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    }
  }
}