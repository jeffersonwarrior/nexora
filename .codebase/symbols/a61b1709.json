{
  "file_path": "/work/external-deps/Context-Engine/tests/test_negative_args.py",
  "file_hash": "b4bd992033486fa9f21f2ec93793e7a8269bf73f",
  "updated_at": "2025-12-26T17:34:25.051005",
  "symbols": {
    "function_test_repo_search_conflicting_filters_empty_ok_8": {
      "name": "test_repo_search_conflicting_filters_empty_ok",
      "type": "function",
      "start_line": 8,
      "end_line": 22,
      "content_hash": "ab27df5d0312536e1bf4207a72a555fe91a67378",
      "content": "def test_repo_search_conflicting_filters_empty_ok(monkeypatch):\n    # In-process, but no results due to conflicting filters (simulate by returning [])\n    monkeypatch.setenv(\"HYBRID_IN_PROCESS\", \"1\")\n    monkeypatch.setattr(srv, \"_get_embedding_model\", lambda *a, **k: object())\n\n    import scripts.hybrid_search as hy\n\n    monkeypatch.setattr(hy, \"run_hybrid_search\", lambda *a, **k: [])\n\n    res = srv.asyncio.get_event_loop().run_until_complete(\n        srv.repo_search(queries=[\"foo\"], limit=3, ext=\"cpp\", compact=True)\n    )\n\n    assert res.get(\"ok\") is True\n    assert res.get(\"results\") == []",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    }
  }
}