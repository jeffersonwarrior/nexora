{
  "file_path": "/work/external-deps/helix-db/helix-db/src/helixc/generator/schemas.rs",
  "file_hash": "cffeeb42da7b6ac96f3e2684134cb632ae284df2",
  "updated_at": "2025-12-26T17:34:23.797002",
  "symbols": {
    "struct_NodeSchema_13": {
      "name": "NodeSchema",
      "type": "struct",
      "start_line": 13,
      "end_line": 16,
      "content_hash": "0ad319940337b0024ce74743eaa9117841f8d4c0",
      "content": "pub struct NodeSchema {\n    pub name: String,\n    pub properties: Vec<SchemaProperty>,\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "impl_Display_17": {
      "name": "Display",
      "type": "impl",
      "start_line": 17,
      "end_line": 17,
      "content_hash": "2212b27f2bff638b7c3f8ba4efccf5ed4ae42bf1",
      "content": "impl Display for NodeSchema {",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_fmt_18": {
      "name": "fmt",
      "type": "method",
      "start_line": 18,
      "end_line": 25,
      "content_hash": "7d9b37c4c3cb7c1aebcfd6c95d3b607a3915def9",
      "content": "    fn fmt(&self, f: &mut fmt::Formatter<'_>) -> fmt::Result {\n        writeln!(f, \"pub struct {} {{\", self.name)?;\n        for property in &self.properties {\n            writeln!(f, \"    pub {}: {},\", property.name, property.field_type)?;\n        }\n        writeln!(f, \"}}\")\n    }\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "impl_ToTypeScript_26": {
      "name": "ToTypeScript",
      "type": "impl",
      "start_line": 26,
      "end_line": 26,
      "content_hash": "7e4dab3e8c926ca42254e37ca47d5b02c40f477f",
      "content": "impl ToTypeScript for NodeSchema {",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_to_typescript_27": {
      "name": "to_typescript",
      "type": "method",
      "start_line": 27,
      "end_line": 47,
      "content_hash": "3202ff7dc7100c76b3806ac77c0245d53027790d",
      "content": "    fn to_typescript(&self) -> String {\n        let mut result = format!(\"interface {} {{\\n\", self.name);\n        result.push_str(\"  id: string;\\n\");\n\n        for property in &self.properties {\n            result.push_str(&format!(\n                \"  {}: {};\\n\",\n                property.name,\n                match &property.field_type {\n                    GeneratedType::RustType(t) => t.to_ts(),\n                    _ => unreachable!(),\n                }\n            ));\n        }\n\n        result.push_str(\"}\\n\");\n        result\n    }\n}\n\n#[derive(Clone)]",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "struct_EdgeSchema_48": {
      "name": "EdgeSchema",
      "type": "struct",
      "start_line": 48,
      "end_line": 53,
      "content_hash": "611636ed4fb883a68ff4cf910b93e0afd8e4c1da",
      "content": "pub struct EdgeSchema {\n    pub name: String,\n    pub from: String,\n    pub to: String,\n    pub properties: Vec<SchemaProperty>,\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "impl_Display_54": {
      "name": "Display",
      "type": "impl",
      "start_line": 54,
      "end_line": 54,
      "content_hash": "32a92866d6841db89d9da49ae61e3c80c593e2f0",
      "content": "impl Display for EdgeSchema {",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_fmt_55": {
      "name": "fmt",
      "type": "method",
      "start_line": 55,
      "end_line": 64,
      "content_hash": "7b33e0db7aaa85c8c861b5e4dfa35d08ecdbadf4",
      "content": "    fn fmt(&self, f: &mut fmt::Formatter<'_>) -> fmt::Result {\n        writeln!(f, \"pub struct {} {{\", self.name)?;\n        writeln!(f, \"    pub from: {},\", self.from)?;\n        writeln!(f, \"    pub to: {},\", self.to)?;\n        for property in &self.properties {\n            writeln!(f, \"    pub {}: {},\", property.name, property.field_type)?;\n        }\n        writeln!(f, \"}}\")\n    }\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "impl_ToTypeScript_65": {
      "name": "ToTypeScript",
      "type": "impl",
      "start_line": 65,
      "end_line": 65,
      "content_hash": "d785f00c2715889551e898164bf3dec5df1597f3",
      "content": "impl ToTypeScript for VectorSchema {",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_to_typescript_66": {
      "name": "to_typescript",
      "type": "method",
      "start_line": 66,
      "end_line": 86,
      "content_hash": "e86d5356479d2f8b513ddc59b3477ed315d05e92",
      "content": "    fn to_typescript(&self) -> String {\n        let mut result = format!(\"interface {} {{\\n\", self.name);\n        result.push_str(\"  id: string;\\n\");\n        result.push_str(\"  data: Array<number>;\\n\");\n\n        for property in &self.properties {\n            result.push_str(&format!(\n                \"  {}: {};\\n\",\n                property.name,\n                match &property.field_type {\n                    GeneratedType::RustType(t) => t.to_ts(),\n                    _ => unreachable!(),\n                }\n            ));\n        }\n\n        result.push_str(\"}\\n\");\n        result\n    }\n}\n#[derive(Clone)]",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "struct_VectorSchema_87": {
      "name": "VectorSchema",
      "type": "struct",
      "start_line": 87,
      "end_line": 90,
      "content_hash": "a09d30c3b5e89a1d16ca251eb72c93a1250859d9",
      "content": "pub struct VectorSchema {\n    pub name: String,\n    pub properties: Vec<SchemaProperty>,\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "impl_Display_91": {
      "name": "Display",
      "type": "impl",
      "start_line": 91,
      "end_line": 91,
      "content_hash": "d3e20f1a8aaa010a41b632eceda929b5292245b5",
      "content": "impl Display for VectorSchema {",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_fmt_92": {
      "name": "fmt",
      "type": "method",
      "start_line": 92,
      "end_line": 99,
      "content_hash": "7d9b37c4c3cb7c1aebcfd6c95d3b607a3915def9",
      "content": "    fn fmt(&self, f: &mut fmt::Formatter<'_>) -> fmt::Result {\n        writeln!(f, \"pub struct {} {{\", self.name)?;\n        for property in &self.properties {\n            writeln!(f, \"    pub {}: {},\", property.name, property.field_type)?;\n        }\n        writeln!(f, \"}}\")\n    }\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "impl_ToTypeScript_100": {
      "name": "ToTypeScript",
      "type": "impl",
      "start_line": 100,
      "end_line": 100,
      "content_hash": "1d618dddd05798e027b072834fd9bc2276af7082",
      "content": "impl ToTypeScript for EdgeSchema {",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_to_typescript_101": {
      "name": "to_typescript",
      "type": "method",
      "start_line": 101,
      "end_line": 125,
      "content_hash": "a9e4e7bf2f6c3c1d339a3608e1f78a64ef96c9e9",
      "content": "    fn to_typescript(&self) -> String {\n        let properties_str = self\n            .properties\n            .iter()\n            .map(|p| {\n                format!(\n                    \"    {}: {}\",\n                    p.name,\n                    match &p.field_type {\n                        GeneratedType::RustType(t) => t.to_ts(),\n                        _ => unreachable!(),\n                    }\n                )\n            })\n            .collect::<Vec<_>>()\n            .join(\";\");\n\n        format!(\n            \"interface {} {{\\n  id: string;\\n  from: {};\\n  to: {};\\n  properties: {{\\n\\t{}\\n}};\\n}}\\n\",\n            self.name, self.from, self.to, properties_str\n        )\n    }\n}\n\n#[derive(Clone)]",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "struct_SchemaProperty_126": {
      "name": "SchemaProperty",
      "type": "struct",
      "start_line": 126,
      "end_line": 143,
      "content_hash": "174b1964e892af273b593b64c9b33e26e5ad1e58",
      "content": "pub struct SchemaProperty {\n    pub name: String,\n    pub field_type: GeneratedType,\n    pub default_value: Option<GeneratedValue>,\n    // pub is_optional: bool,\n    pub is_index: FieldPrefix,\n}\n\n#[cfg(test)]\nmod tests {\n    use super::*;\n    use crate::helixc::generator::utils::RustType;\n\n    // ============================================================================\n    // NodeSchema Tests\n    // ============================================================================\n\n    #[test]",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_test_node_schema_display_simple_144": {
      "name": "test_node_schema_display_simple",
      "type": "method",
      "start_line": 144,
      "end_line": 169,
      "content_hash": "087139126ff1593d6b97d82ed0c7bf27ef6fe56c",
      "content": "    fn test_node_schema_display_simple() {\n        let schema = NodeSchema {\n            name: \"Person\".to_string(),\n            properties: vec![\n                SchemaProperty {\n                    name: \"name\".to_string(),\n                    field_type: GeneratedType::RustType(RustType::String),\n                    default_value: None,\n                    is_index: FieldPrefix::Empty,\n                },\n                SchemaProperty {\n                    name: \"age\".to_string(),\n                    field_type: GeneratedType::RustType(RustType::U32),\n                    default_value: None,\n                    is_index: FieldPrefix::Empty,\n                },\n            ],\n        };\n\n        let output = format!(\"{}\", schema);\n        assert!(output.contains(\"pub struct Person {\"));\n        assert!(output.contains(\"pub name: String,\"));\n        assert!(output.contains(\"pub age: u32,\"));\n    }\n\n    #[test]",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_test_node_schema_display_empty_properties_170": {
      "name": "test_node_schema_display_empty_properties",
      "type": "method",
      "start_line": 170,
      "end_line": 181,
      "content_hash": "3e28f4f860b426cad68d3b5f8d2d5abec906e3a2",
      "content": "    fn test_node_schema_display_empty_properties() {\n        let schema = NodeSchema {\n            name: \"Empty\".to_string(),\n            properties: vec![],\n        };\n\n        let output = format!(\"{}\", schema);\n        assert!(output.contains(\"pub struct Empty {\"));\n        assert!(output.contains(\"}\"));\n    }\n\n    #[test]",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_test_node_schema_typescript_generation_182": {
      "name": "test_node_schema_typescript_generation",
      "type": "method",
      "start_line": 182,
      "end_line": 208,
      "content_hash": "53ce2cb3ffdc22b4ec5c5fe96cc9df824e10588a",
      "content": "    fn test_node_schema_typescript_generation() {\n        let schema = NodeSchema {\n            name: \"User\".to_string(),\n            properties: vec![\n                SchemaProperty {\n                    name: \"email\".to_string(),\n                    field_type: GeneratedType::RustType(RustType::String),\n                    default_value: None,\n                    is_index: FieldPrefix::Empty,\n                },\n                SchemaProperty {\n                    name: \"active\".to_string(),\n                    field_type: GeneratedType::RustType(RustType::Bool),\n                    default_value: None,\n                    is_index: FieldPrefix::Empty,\n                },\n            ],\n        };\n\n        let output = schema.to_typescript();\n        assert!(output.contains(\"interface User {\"));\n        assert!(output.contains(\"id: string;\"));\n        assert!(output.contains(\"email: string;\"));\n        assert!(output.contains(\"active: boolean;\"));\n    }\n\n    #[test]",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_test_node_schema_with_numeric_types_209": {
      "name": "test_node_schema_with_numeric_types",
      "type": "method",
      "start_line": 209,
      "end_line": 237,
      "content_hash": "c847818f92954ebe813baf1d58c4b0942e66fc64",
      "content": "    fn test_node_schema_with_numeric_types() {\n        let schema = NodeSchema {\n            name: \"Stats\".to_string(),\n            properties: vec![\n                SchemaProperty {\n                    name: \"count\".to_string(),\n                    field_type: GeneratedType::RustType(RustType::I32),\n                    default_value: None,\n                    is_index: FieldPrefix::Empty,\n                },\n                SchemaProperty {\n                    name: \"score\".to_string(),\n                    field_type: GeneratedType::RustType(RustType::F64),\n                    default_value: None,\n                    is_index: FieldPrefix::Empty,\n                },\n            ],\n        };\n\n        let output = format!(\"{}\", schema);\n        assert!(output.contains(\"pub count: i32,\"));\n        assert!(output.contains(\"pub score: f64,\"));\n    }\n\n    // ============================================================================\n    // EdgeSchema Tests\n    // ============================================================================\n\n    #[test]",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_test_edge_schema_display_simple_238": {
      "name": "test_edge_schema_display_simple",
      "type": "method",
      "start_line": 238,
      "end_line": 258,
      "content_hash": "888a1d000edee640e6b0bc6a09419c297d280481",
      "content": "    fn test_edge_schema_display_simple() {\n        let schema = EdgeSchema {\n            name: \"Knows\".to_string(),\n            from: \"Person\".to_string(),\n            to: \"Person\".to_string(),\n            properties: vec![SchemaProperty {\n                name: \"since\".to_string(),\n                field_type: GeneratedType::RustType(RustType::U32),\n                default_value: None,\n                is_index: FieldPrefix::Empty,\n            }],\n        };\n\n        let output = format!(\"{}\", schema);\n        assert!(output.contains(\"pub struct Knows {\"));\n        assert!(output.contains(\"pub from: Person,\"));\n        assert!(output.contains(\"pub to: Person,\"));\n        assert!(output.contains(\"pub since: u32,\"));\n    }\n\n    #[test]",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_test_edge_schema_display_no_properties_259": {
      "name": "test_edge_schema_display_no_properties",
      "type": "method",
      "start_line": 259,
      "end_line": 273,
      "content_hash": "f2579eb367d811ac197185fafeff0b724ce38a6c",
      "content": "    fn test_edge_schema_display_no_properties() {\n        let schema = EdgeSchema {\n            name: \"Follows\".to_string(),\n            from: \"User\".to_string(),\n            to: \"User\".to_string(),\n            properties: vec![],\n        };\n\n        let output = format!(\"{}\", schema);\n        assert!(output.contains(\"pub struct Follows {\"));\n        assert!(output.contains(\"pub from: User,\"));\n        assert!(output.contains(\"pub to: User,\"));\n    }\n\n    #[test]",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_test_edge_schema_typescript_generation_274": {
      "name": "test_edge_schema_typescript_generation",
      "type": "method",
      "start_line": 274,
      "end_line": 294,
      "content_hash": "05cee116a9fd45a449c3dc672e36934fc2b93d22",
      "content": "    fn test_edge_schema_typescript_generation() {\n        let schema = EdgeSchema {\n            name: \"WorksAt\".to_string(),\n            from: \"Person\".to_string(),\n            to: \"Company\".to_string(),\n            properties: vec![SchemaProperty {\n                name: \"role\".to_string(),\n                field_type: GeneratedType::RustType(RustType::String),\n                default_value: None,\n                is_index: FieldPrefix::Empty,\n            }],\n        };\n\n        let output = schema.to_typescript();\n        assert!(output.contains(\"interface WorksAt {\"));\n        assert!(output.contains(\"from: Person;\"));\n        assert!(output.contains(\"to: Company;\"));\n        assert!(output.contains(\"role: string\"));\n    }\n\n    #[test]",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_test_edge_schema_with_multiple_properties_295": {
      "name": "test_edge_schema_with_multiple_properties",
      "type": "method",
      "start_line": 295,
      "end_line": 325,
      "content_hash": "b4b51f794476e8f501cf584a0ac0b75333772144",
      "content": "    fn test_edge_schema_with_multiple_properties() {\n        let schema = EdgeSchema {\n            name: \"Rated\".to_string(),\n            from: \"User\".to_string(),\n            to: \"Movie\".to_string(),\n            properties: vec![\n                SchemaProperty {\n                    name: \"rating\".to_string(),\n                    field_type: GeneratedType::RustType(RustType::F32),\n                    default_value: None,\n                    is_index: FieldPrefix::Empty,\n                },\n                SchemaProperty {\n                    name: \"comment\".to_string(),\n                    field_type: GeneratedType::RustType(RustType::String),\n                    default_value: None,\n                    is_index: FieldPrefix::Empty,\n                },\n            ],\n        };\n\n        let output = format!(\"{}\", schema);\n        assert!(output.contains(\"pub rating: f32,\"));\n        assert!(output.contains(\"pub comment: String,\"));\n    }\n\n    // ============================================================================\n    // VectorSchema Tests\n    // ============================================================================\n\n    #[test]",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_test_vector_schema_display_simple_326": {
      "name": "test_vector_schema_display_simple",
      "type": "method",
      "start_line": 326,
      "end_line": 342,
      "content_hash": "dae88f4efccecb02903e645cf72d5a3ec2a8e3d9",
      "content": "    fn test_vector_schema_display_simple() {\n        let schema = VectorSchema {\n            name: \"Embedding\".to_string(),\n            properties: vec![SchemaProperty {\n                name: \"metadata\".to_string(),\n                field_type: GeneratedType::RustType(RustType::String),\n                default_value: None,\n                is_index: FieldPrefix::Empty,\n            }],\n        };\n\n        let output = format!(\"{}\", schema);\n        assert!(output.contains(\"pub struct Embedding {\"));\n        assert!(output.contains(\"pub metadata: String,\"));\n    }\n\n    #[test]",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_test_vector_schema_display_empty_properties_343": {
      "name": "test_vector_schema_display_empty_properties",
      "type": "method",
      "start_line": 343,
      "end_line": 354,
      "content_hash": "3aba7ea7504f59a7036ba4a7f45c099a5b404638",
      "content": "    fn test_vector_schema_display_empty_properties() {\n        let schema = VectorSchema {\n            name: \"Vector\".to_string(),\n            properties: vec![],\n        };\n\n        let output = format!(\"{}\", schema);\n        assert!(output.contains(\"pub struct Vector {\"));\n        assert!(output.contains(\"}\"));\n    }\n\n    #[test]",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_test_vector_schema_typescript_generation_355": {
      "name": "test_vector_schema_typescript_generation",
      "type": "method",
      "start_line": 355,
      "end_line": 382,
      "content_hash": "98d651bbe17f7af445f7401968d58afc0dabeda8",
      "content": "    fn test_vector_schema_typescript_generation() {\n        let schema = VectorSchema {\n            name: \"DocVector\".to_string(),\n            properties: vec![\n                SchemaProperty {\n                    name: \"source\".to_string(),\n                    field_type: GeneratedType::RustType(RustType::String),\n                    default_value: None,\n                    is_index: FieldPrefix::Empty,\n                },\n                SchemaProperty {\n                    name: \"chunk_index\".to_string(),\n                    field_type: GeneratedType::RustType(RustType::U32),\n                    default_value: None,\n                    is_index: FieldPrefix::Empty,\n                },\n            ],\n        };\n\n        let output = schema.to_typescript();\n        assert!(output.contains(\"interface DocVector {\"));\n        assert!(output.contains(\"id: string;\"));\n        assert!(output.contains(\"data: Array<number>;\"));\n        assert!(output.contains(\"source: string;\"));\n        assert!(output.contains(\"chunk_index: number;\"));\n    }\n\n    #[test]",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_test_vector_schema_with_bool_property_383": {
      "name": "test_vector_schema_with_bool_property",
      "type": "method",
      "start_line": 383,
      "end_line": 397,
      "content_hash": "a960ca986d132923d536a0190be945f2859b8d84",
      "content": "    fn test_vector_schema_with_bool_property() {\n        let schema = VectorSchema {\n            name: \"FeatureVector\".to_string(),\n            properties: vec![SchemaProperty {\n                name: \"is_normalized\".to_string(),\n                field_type: GeneratedType::RustType(RustType::Bool),\n                default_value: None,\n                is_index: FieldPrefix::Empty,\n            }],\n        };\n\n        let output = format!(\"{}\", schema);\n        assert!(output.contains(\"pub is_normalized: bool,\"));\n    }\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    }
  }
}