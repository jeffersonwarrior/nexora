{
  "file_path": "/work/external-deps/claude-mem/src/cli/worker-cli.ts",
  "file_hash": "991a47b14018f5cac9d28d61130cae7bb9842ba7",
  "updated_at": "2025-12-26T17:34:21.601422",
  "symbols": {
    "function_main_7": {
      "name": "main",
      "type": "function",
      "start_line": 7,
      "end_line": 58,
      "content_hash": "90d408406dde935a333d307878093b1c488e8c6f",
      "content": "async function main() {\n  switch (command) {\n    case 'start': {\n      const result = await ProcessManager.start(port);\n      if (result.success) {\n        console.log(`Worker started (PID: ${result.pid})`);\n        const date = new Date().toISOString().slice(0, 10);\n        console.log(`Logs: ~/.claude-mem/logs/worker-${date}.log`);\n        process.exit(0);\n      } else {\n        console.error(`Failed to start: ${result.error}`);\n        process.exit(1);\n      }\n      break;\n    }\n\n    case 'stop': {\n      await ProcessManager.stop();\n      console.log('Worker stopped');\n      process.exit(0);\n    }\n\n    case 'restart': {\n      const result = await ProcessManager.restart(port);\n      if (result.success) {\n        console.log(`Worker restarted (PID: ${result.pid})`);\n        process.exit(0);\n      } else {\n        console.error(`Failed to restart: ${result.error}`);\n        process.exit(1);\n      }\n      break;\n    }\n\n    case 'status': {\n      const status = await ProcessManager.status();\n      if (status.running) {\n        console.log('Worker is running');\n        console.log(`  PID: ${status.pid}`);\n        console.log(`  Port: ${status.port}`);\n        console.log(`  Uptime: ${status.uptime}`);\n      } else {\n        console.log('Worker is not running');\n      }\n      process.exit(0);\n    }\n\n    default:\n      console.log('Usage: worker-cli.js <start|stop|restart|status>');\n      process.exit(1);\n  }\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    }
  }
}