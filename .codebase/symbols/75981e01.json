{
  "file_path": "/work/internal/agent/testdata/TestCoderAgent/openrouter-kimi-k2/bash_tool.yaml",
  "file_hash": "a771a79f564343dc15168275620200ab938d94ad",
  "updated_at": "2025-12-26T17:34:21.467972",
  "symbols": {
    "key_version_2": {
      "name": "version",
      "type": "key",
      "start_line": 2,
      "end_line": 2,
      "content_hash": "39d547f2c7639d24635ecd7340b8a6252c0bd7ac",
      "content": "version: 2",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions_3": {
      "name": "interactions",
      "type": "key",
      "start_line": 3,
      "end_line": 66,
      "content_hash": "eead20b38e4e1c1096a632f3f59442c95cd620ed",
      "content": "interactions:\n- id: 0\n  request:\n    proto: HTTP/1.1\n    proto_major: 1\n    proto_minor: 1\n    content_length: 33782\n    host: \"\"\n    body: \"{\\\"messages\\\":[{\\\"content\\\":\\\"## CRITICAL: TOOL CALL FORMAT (READ THIS FIRST)\\\\n**ALWAYS use EXACT OpenAI JSON format for tools. NEVER use &lt;tool_call&gt; tags:**\\\\n\\\\n```\\\\n{\\\\n  \\\\\\\"tool_calls\\\\\\\": [{\\\\n    \\\\\\\"id\\\\\\\": \\\\\\\"call_abc123\\\\\\\",\\\\n    \\\\\\\"type\\\\\\\": \\\\\\\"function\\\\\\\",\\\\n    \\\\\\\"function\\\\\\\": {\\\\n      \\\\\\\"name\\\\\\\": \\\\\\\"view\\\\\\\",\\\\n      \\\\\\\"arguments\\\\\\\": \\\\\\\"{\\\\\\\\\\\\\\\"file_path\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"/home/nexora/todo.md\\\\\\\\\\\\\\\"}\\\\\\\"\\\\n    }\\\\n  }]\\\\n}\\\\n```\\\\n\\\\n**Penalty for wrong format: Your response will be ignored!**\\\\n\\\\n## Core Rules\\\\n1. **Read before editing** - Always view files first, match exact formatting\\\\n2. **Be autonomous** - Search, decide, act without asking. Break complex tasks into steps.\\\\n3. **Infer intent** - Don't be literal. If a file isn't found, search for similar names (case variations, typos). If a task seems incomplete, complete it fully.\\\\n4. **Test changes** - Run tests immediately after modifications\\\\n5. **Be concise** - Keep responses under 4 lines unless explaining complex changes\\\\n6. **Exact matches** - Whitespace, indentation, line breaks must match perfectly for edits\\\\n7. **Never commit** - Unless explicitly asked\\\\n8. **Security first** - Only assist with defensive security tasks\\\\n\\\\n## Inference Examples\\\\n- User says \\\\\\\"read TODO.md\\\\\\\" but it doesn't exist \u2192 Search for `todo.md`, `TODO`, `Todo.md`\\\\n- User says \\\\\\\"fix the bug\\\\\\\" \u2192 Search for error patterns, recent changes, test failures\\\\n- User says \\\\\\\"add tests\\\\\\\" \u2192 Look at existing test patterns, create comprehensive tests\\\\n- File not found \u2192 Try case variations, partial matches, ask glob/grep to find it\\\\n\\\\n## Workflow\\\\n**Before acting**: Search \u2192 Read files \u2192 Identify changes \u2192 Edit \u2192 Test\\\\n**While acting**: Read entire file first, use exact text, include 3-5 lines context, test after each change\\\\n**Before finishing**: Verify task complete, run tests, keep response concise\\\\n\\\\n## Editing Files\\\\n**Critical Requirements**:\\\\n- Exact character-by-character matching\\\\n- Include 3-5 surrounding lines for reliable context\\\\n- Verify uniqueness (or use replace_all=true)\\\\n\\\\n**Understanding the 100 Line Limitation**:\\\\n- `view` tool shows 100 lines at a time: \\\\\\\"showing lines 1-100 of 200 total\\\\\\\"\\\\n- Use `view` with `offset` parameter: `view file_path=\\\\\\\"/path\\\\\\\" offset=100`\\\\n- Your edits MUST exist in the file, not just in visible 100-line chunk\\\\n\\\\n**Common Failures**:\\\\n- Wrong indentation: 2 spaces vs 4 spaces\\\\n- Missing blank lines: 1 newline vs 2 newlines\\\\n- Comment spacing: \\\\\\\"// comment\\\\\\\" vs \\\\\\\"//comment\\\\\\\"\\\\n\\\\n**Tab/Display Issues**:\\\\n- VIEW shows tabs as `\u2192\\\\t\\\\\\\\t` but EDIT needs actual `\\\\\\\\t`\\\\n- Always use `ai_mode=true` (default) to auto-fix this\\\\n\\\\n**Recovery Steps**:\\\\n1. View file with more context\\\\n2. Use `offset` if target outside current window\\\\n3. Use `grep -n \\\\\\\"pattern\\\\\\\" file` to find line numbers\\\\n4. Fallback: Use `write` tool for full file replacement\\\\n\\\\n## Tools\\\\n\\\\n### Available Tools\\\\n- `view`: Read files with line numbers (100 lines at a time - use offset!)\\\\n- `edit`: Replace text exactly (whitespace-sensitive, ai_mode=true by default)\\\\n- `bash`: Execute commands\\\\n- `grep`: Search file contents\\\\n- `glob`: Find files by pattern\\\\n- `write`: Create/update entire files\\\\n\\\\n### When to use each\\\\n- **View**: Always first to understand file contents\\\\n- **Edit**: For precise, targeted changes\\\\n- **Write**: When exact matching fails or for large changes\\\\n- **Bash**: For command execution\\\\n- **Grep**: For finding text in files\\\\n- **Glob**: For finding files by name pattern\\\\n\\\\n### When something fails\\\\n- **File not found in view** \u2192 Use `offset=100`, `offset=200` to navigate\\\\n- **Edit fails** \u2192 View file again, copy exact text, use `write` as fallback\\\\n- **Command fails** \u2192 Read error, try alternative approach\\\\n- **Pattern not visible** \u2192 Use `grep` to find line numbers, then view with offset\\\\n\\\\n## Testing\\\\n- Run relevant tests after every change\\\\n- Fix failures immediately\\\\n- Never leave code in broken state\\\\n\\\\n## Decision Making\\\\n**Be proactive**: Don't just report problems, solve them.\\\\n**Autonomous decisions**: Search for answers, read patterns, make reasonable assumptions\\\\n**Only ask user if**: Truly ambiguous requirements, potential data loss, or actually blocked after trying alternatives\\\\n\\\\n## Error Handling\\\\n1. Read complete error message\\\\n2. Understand root cause\\\\n3. Try different approach (don't repeat same failure)\\\\n4. Search for similar working code\\\\n5. Make targeted fix\\\\n6. Test to verify\\\\n\\\\n## Project Specifics\\\\n\\\\n\\\\n\\\\n## Environment\\\\nDate/Time: 2025-01-01 00:00:00 UTC\\\\nOS: linux (amd64)\\\\nCurrent User: agent\\\\nWorking Directory: /tmp/nexora-test/TestCoderAgent/openrouter-kimi-k2/bash_tool\\\\n\\\\nGit Repo: no\\\\n\\\\nInstalled Runtimes:\\\\n- Python: Python 3.13.7\\\\n- Node.js: v25.2.1\\\\n- Go: go1.25.5\\\\n- Shell: bash (mvdan/sh)\\\\n\\\\nSystem Resources:\\\\n- Memory: 31Gi total, 23Gi available\\\\n- Disk: 16G total, 15G free\\\\n\\\\nTerminal: color, 80x24, interactive\\\\nNetwork: online\\\\nActive Services: \\\\n\\\\n## Nexora System Settings\\\\nNexora client system settings are stored in `~/.local/share/nexora`. This directory contains two important files:\\\\n\\\\n1. **`nexora.db`** - SQLite database containing session history, configuration settings, and conversation state\\\\n2. **`mcp.json`** - JSON configuration file for MCP (Model Context Protocol) settings and server configurations\\\\n\\\\nMCP-related files and configurations are stored in the `mcp.json` file, which defines available MCP servers and their connection parameters.\\\\n\\\\n\\\\n\\\\n\\\",\\\"role\\\":\\\"system\\\",\\\"cache_control\\\":{\\\"type\\\":\\\"ephemeral\\\"}},{\\\"content\\\":\\\"use bash to create a file named test.txt with content 'hello bash'. do not print its timestamp\\\",\\\"role\\\":\\\"user\\\",\\\"cache_control\\\":{\\\"type\\\":\\\"ephemeral\\\"}}],\\\"model\\\":\\\"moonshotai/kimi-k2-0905\\\",\\\"max_tokens\\\":10000,\\\"stream_options\\\":{\\\"include_usage\\\":true},\\\"tool_choice\\\":\\\"auto\\\",\\\"tools\\\":[{\\\"function\\\":{\\\"name\\\":\\\"bash\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Executes bash commands with automatic background conversion for long-running tasks.\\\\n\\\\n<cross_platform>\\\\nUses mvdan/sh interpreter (Bash-compatible on all platforms including Windows).\\\\nUse forward slashes for paths: \\\\\\\"ls C:/foo/bar\\\\\\\" not \\\\\\\"ls C:\\\\\\\\foo\\\\\\\\bar\\\\\\\".\\\\n</cross_platform>\\\\n\\\\n<execution_steps>\\\\n1. Directory Verification: Use LS tool to verify parent exists before creating files\\\\n2. Security Check: No restrictions - explain to user. Safe read-only commands execute without prompts\\\\n3. Command Execution: Execute with proper quoting, capture output\\\\n4. Auto-Background: Commands >1 minute automatically move to background, return shell ID\\\\n5. Output Processing: Truncate if exceeds 30000 characters\\\\n6. Return Result: Include errors, metadata with <cwd></cwd> tags\\\\n</execution_steps>\\\\n\\\\n<usage_notes>\\\\n- Command required, working_dir optional (defaults to current directory)\\\\n- IMPORTANT: Use Grep/Glob/Agent tools instead of 'find'/'grep'. Use View/LS instead of 'cat'/'head'/'tail'/'ls'\\\\n- Chain with ';' or '&&', avoid newlines except in quoted strings\\\\n- Each command runs in independent shell (no state persistence)\\\\n- Prefer absolute paths over 'cd'\\\\n</usage_notes>\\\\n\\\\n<background_execution>\\\\n- Set run_in_background=true for separate background shell\\\\n- Returns shell ID for management\\\\n- Use job_output tool to view output, job_kill to terminate\\\\n- NEVER use `&` at end of commands - use run_in_background parameter\\\\n- Background: Long servers (npm start, python -m http.server), watch tasks, continuous processes\\\\n- Foreground: Builds, tests, git ops, file ops, short scripts\\\\n</background_execution>\\\\n\\\\n<git_commits>\\\\nWhen user asks to create git commit:\\\\n\\\\n1. Run: git status, git diff, git log (single message, three tool_use blocks)\\\\n2. Add relevant untracked files to staging\\\\n3. Analyze in <commit_analysis> tags:\\\\n   - List changed files, summarize nature (feature/bug fix/refactor/docs)\\\\n   - Draft concise (1-2 sentences) focusing on \\\\\\\"why\\\\\\\" not \\\\\\\"what\\\\\\\"\\\\n   - Use accurate verbs: \\\\\\\"add\\\\\\\"=new feature, \\\\\\\"update\\\\\\\"=enhancement, \\\\\\\"fix\\\\\\\"=bug\\\\n4. Create commit with attribution:\\\\n   ```bash\\\\n   git commit -m \\\\\\\"$(cat &lt;&lt;'EOF'\\\\n   Commit message here.\\\\n\\\\n   \\U0001F498 Generated with Crush\\\\n\\\\n\\\\n   Co-Authored-By: Crush <crush@charm.land>\\\\n\\\\n   EOF\\\\n   )\\\\\\\"\\\\n   ```\\\\n5. If pre-commit hook fails, retry ONCE. If succeeds but files modified, MUST amend.\\\\n6. Run git status to verify.\\\\n\\\\nNotes: Use \\\\\\\"git commit -am\\\\\\\" when possible, don't stage unrelated files, NEVER update config, don't push, no empty commits.\\\\n</git_commits>\\\\n\\\\n<pull_requests>\\\\nWhen user asks to create PR:\\\\n\\\\n1. Run: git status, git diff, check remote tracking, git log and 'git diff main...HEAD'\\\\n2. Create branch if needed, commit if needed, push with -u if needed\\\\n3. Analyze in <pr_analysis> tags:\\\\n   - List commits since main divergence\\\\n   - Summarize changes, purpose/motivation\\\\n   - Draft concise (1-2 bullets) focusing on \\\\\\\"why\\\\\\\"\\\\n4. Create PR:\\\\n   ```bash\\\\n   gh pr create --title \\\\\\\"title\\\\\\\" --body \\\\\\\"$(cat &lt;&lt;'EOF'\\\\n   ## Summary\\\\n   &lt;1-3 bullet points>\\\\n   \\\\n   ## Test plan\\\\n   [Checklist...]\\\\n\\\\n   \\U0001F498 Generated with Crush\\\\n\\\\n   EOF\\\\n   )\\\\\\\"\\\\n   ```\\\\n\\\\nImportant: Return empty response, never update git config\\\\n</pull_requests>\\\\n\\\\n<examples>\\\\nGood: pytest /foo/bar/tests\\\\nBad: cd /foo/bar && pytest tests\\\\n</examples>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"command\\\":{\\\"description\\\":\\\"The command to execute\\\",\\\"type\\\":\\\"string\\\"},\\\"description\\\":{\\\"description\\\":\\\"A brief description of what the command does, try to keep it under 30 characters or so\\\",\\\"type\\\":\\\"string\\\"},\\\"run_in_background\\\":{\\\"description\\\":\\\"Set to true (boolean) to run this command in the background. Use job_output to read the output later.\\\",\\\"type\\\":\\\"boolean\\\"},\\\"working_dir\\\":{\\\"description\\\":\\\"The working directory to execute the command in (defaults to current directory)\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"description\\\",\\\"command\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"download\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Downloads binary data from URL and saves to local file.\\\\n\\\\n<usage>\\\\n- Provide URL to download from\\\\n- Specify local file path where content should be saved\\\\n- Optional timeout for request\\\\n</usage>\\\\n\\\\n<features>\\\\n- Downloads any file type (binary or text)\\\\n- Auto-creates parent directories if missing\\\\n- Handles large files efficiently with streaming\\\\n- Sets reasonable timeouts to prevent hanging\\\\n- Validates input parameters before requests\\\\n</features>\\\\n\\\\n<limitations>\\\\n- Max file size: 100MB\\\\n- Only supports HTTP and HTTPS protocols\\\\n- Cannot handle authentication or cookies\\\\n- Some websites may block automated requests\\\\n- Will overwrite existing files without warning\\\\n</limitations>\\\\n\\\\n<tips>\\\\n- Use absolute paths or paths relative to working directory\\\\n- Set appropriate timeouts for large files or slow connections\\\\n</tips>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"file_path\\\":{\\\"description\\\":\\\"The local file path where the downloaded content should be saved\\\",\\\"type\\\":\\\"string\\\"},\\\"timeout\\\":{\\\"description\\\":\\\"Optional timeout in seconds (max 600)\\\",\\\"type\\\":\\\"integer\\\"},\\\"url\\\":{\\\"description\\\":\\\"The URL to download from\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"url\\\",\\\"file_path\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"edit\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Edits files by replacing text, creating new files, or deleting content. For moving/renaming use Bash 'mv'. For large edits use Write tool.\\\\n\\\\n**Quick Decision Tree:**\\\\n1. **Know exact line numbers?** \u2192 Use `smart_edit` tool (100% reliable)\\\\n2. **Edit failed once?** \u2192 Use `write` tool immediately\\\\n3. **First time editing?** \u2192 Enable ai_mode=true\\\\n\\\\n<prerequisites>\\\\n1. **NEVER copy from view tool output** - has visual tab indicators (\u2192\\\\t) causing failures\\\\n2. Use `sed -n 'START,ENDp' file` or `grep -A5 -B5 pattern file` for EXACT text\\\\n3. For new files: Use LS tool to verify parent directory exists\\\\n4. If you can't extract exact text, use `smart_edit` with line numbers\\\\n</prerequisites>\\\\n\\\\n<parameters>\\\\n1. file_path: Absolute path to file (required)\\\\n2. old_string: Text to replace (exact match including whitespace/indentation)\\\\n3. new_string: Replacement text\\\\n4. replace_all: Replace all occurrences (default false)\\\\n</parameters>\\\\n\\\\n<special_cases>\\\\n- Create file: provide file_path + new_string, leave old_string empty\\\\n- Delete content: provide file_path + old_string, leave new_string empty\\\\n</special_cases>\\\\n\\\\n<critical_requirements>\\\\n**EXACT MATCHING**: Text must match character-for-character\\\\n- Every space, tab, blank line, newline, indentation level\\\\n- Comment spacing (`// comment` vs `//comment`)\\\\n- Brace positioning (`func() {` vs `func(){`)\\\\n\\\\n**UNIQUENESS**: old_string MUST uniquely identify target (when replace_all=false)\\\\n- Include 3-5 lines context before/after change point\\\\n- If text appears multiple times, add more context or use replace_all=true\\\\n\\\\n**VERIFICATION BEFORE USING**:\\\\n1. View file and locate exact target\\\\n2. Check how many instances exist\\\\n3. Copy EXACT text including whitespace\\\\n4. Verify enough context for unique identification\\\\n5. Double-check indentation (count spaces/tabs)\\\\n</critical_requirements>\\\\n\\\\n<warnings>\\\\nTool fails if:\\\\n- old_string matches multiple locations and replace_all=false\\\\n- Whitespace doesn't match exactly\\\\n- Indentation off by even one space\\\\n- Missing or extra blank lines\\\\n</warnings>\\\\n\\\\n<recovery_steps>\\\\nIf \\\\\\\"old_string not found\\\\\\\":\\\\n\\\\n**\\U0001F6D1 DON'T RETRY - Use alternatives:**\\\\n1. `smart_edit` with line numbers (100% reliable)\\\\n2. Extract exact text: `sed -n '10,20p' file`\\\\n3. Use `write` tool for full file replacement\\\\n\\\\n**\u274c DON'T:**\\\\n- Retry with \\\\\\\"adjusted\\\\\\\" whitespace\\\\n- Copy from view output (has artifacts)\\\\n- Guess at whitespace\\\\n\\\\n**\u2705 DO:**\\\\n- Use `smart_edit` (line numbers)\\\\n- Use `sed -n 'X,Yp' file` for exact text\\\\n- Use `write` if edit fails once\\\\n</recovery_steps>\\\\n\\\\n<best_practices>\\\\n- View file first, match exact formatting\\\\n- Use absolute paths with forward slashes (/)\\\\n- Multiple edits to same file: send all in single message\\\\n- Include MORE context when uncertain\\\\n- Match existing code style exactly\\\\n</best_practices>\\\\n\\\\n<examples>\\\\n\u2705 **Correct**: Exact match with context\\\\n```\\\\nold_string: \\\\\\\"func ProcessData(input string) error {\\\\\\\\n    if input == \\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\" {\\\\\\\\n        return errors.New(\\\\\\\\\\\\\\\"empty input\\\\\\\\\\\\\\\")\\\\\\\\n    }\\\\\\\\n    return nil\\\\\\\\n}\\\\\\\"\\\\nnew_string: \\\\\\\"func ProcessData(input string) error {\\\\\\\\n    if input == \\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\" {\\\\\\\\n        return errors.New(\\\\\\\\\\\\\\\"empty input\\\\\\\\\\\\\\\")\\\\\\\\n    }\\\\\\\\n    if len(input) > 1000 {\\\\\\\\n        return errors.New(\\\\\\\\\\\\\\\"input too long\\\\\\\\\\\\\\\")\\\\\\\\n    }\\\\\\\\n    return nil\\\\\\\\n}\\\\\\\"\\\\n```\\\\n\\\\n\u274c **Incorrect**: Not enough context\\\\n```\\\\nold_string: \\\\\\\"return nil\\\\\\\"  // Appears many times!\\\\n```\\\\n\\\\n\u274c **Incorrect**: Wrong indentation\\\\n```\\\\nold_string: \\\\\\\"  if input == \\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\" {\\\\\\\"  // 2 spaces\\\\n// File actually has: \\\\\\\"    if input == \\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\" {\\\\\\\"  // 4 spaces\\\\n```\\\\n</examples>\\\\n\\\\n## AI Mode\\\\nUse `ai_mode=true` (default) for automatic fixes:\\\\n- Converts VIEW tool display tabs (`\u2192\\\\\\\\t`) to real tabs (`\\\\\\\\t`)\\\\n- Expands minimal context automatically\\\\n- Enhanced error messages\\\\n- Lower failure rate on whitespace issues\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"ai_mode\\\":{\\\"description\\\":\\\"Enable AI-optimized editing with automatic context expansion and improved error handling (DEFAULT: true)\\\",\\\"type\\\":\\\"boolean\\\"},\\\"file_path\\\":{\\\"description\\\":\\\"The absolute path to the file to modify\\\",\\\"type\\\":\\\"string\\\"},\\\"new_string\\\":{\\\"description\\\":\\\"The text to replace it with\\\",\\\"type\\\":\\\"string\\\"},\\\"old_string\\\":{\\\"description\\\":\\\"The text to replace\\\",\\\"type\\\":\\\"string\\\"},\\\"replace_all\\\":{\\\"description\\\":\\\"Replace all occurrences of old_string (default false)\\\",\\\"type\\\":\\\"boolean\\\"}},\\\"required\\\":[\\\"file_path\\\",\\\"old_string\\\",\\\"new_string\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"multiedit\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Makes multiple edits to a single file in one operation. Built on Edit tool for efficient multiple find-and-replace. Prefer over Edit tool for multiple edits to same file.\\\\n\\\\n<prerequisites>\\\\n1. Use View tool to understand file contents\\\\n2. Verify directory path is correct\\\\n3. CRITICAL: Note exact whitespace, indentation from View output\\\\n</prerequisites>\\\\n\\\\n<parameters>\\\\n1. file_path: Absolute path to file (required)\\\\n2. edits: Array of edit objects (MUST be array, not string!):\\\\n   - old_string: Text to replace (exact match including whitespace)\\\\n   - new_string: Replacement text\\\\n   - replace_all: Replace all occurrences (optional, default false)\\\\n   \\\\n   \u2705 CORRECT: `\\\\\\\"edits\\\\\\\": [{\\\\\\\"old_string\\\\\\\": \\\\\\\"text1\\\\\\\", \\\\\\\"new_string\\\\\\\": \\\\\\\"replace1\\\\\\\"}]`\\\\n   \u274c INCORRECT: `\\\\\\\"edits\\\\\\\": \\\\\\\"[{\\\\\\\\\\\\\\\"old_string\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"text1\\\\\\\\\\\\\\\"}]\\\\\\\"` (string, not array)\\\\n</parameters>\\\\n\\\\n<operation>\\\\n- Edits applied sequentially in order\\\\n- Each edit operates on result of previous edit\\\\n- PARTIAL SUCCESS: Failed edits returned, successful edits kept\\\\n- File modified if at least one edit succeeds\\\\n</operation>\\\\n\\\\n<inherited_rules>\\\\n**All Edit tool rules apply to each edit:**\\\\n- See edit.md for critical requirements, warnings, recovery steps\\\\n- Exact matching for whitespace, indentation, blank lines\\\\n- Uniqueness requirements (3-5 lines context)\\\\n- Verification checklist before using\\\\n- Use ai_mode=true (default) for tab handling\\\\n</inherited_rules>\\\\n\\\\n<critical_requirements>\\\\n1. Apply Edit tool rules to EACH edit (see edit.md)\\\\n2. Edits applied in order; successful edits kept if later edits fail\\\\n3. Plan sequence: earlier edits change content that later edits must match\\\\n4. Ensure each old_string unique at application time (after prior edits)\\\\n5. Check response for failed edits, retry with corrections\\\\n</critical_requirements>\\\\n\\\\n<verification_before_using>\\\\n1. View file, copy exact text (including whitespace) for each target\\\\n2. Check instances of each old_string BEFORE sequence\\\\n3. Dry-run: after edit #N, will edit #N+1 still match?\\\\n4. Prefer fewer, larger context blocks over many tiny fragments\\\\n5. If edits independent, consider separate multiedit batches\\\\n</verification_before_using>\\\\n\\\\n<warnings>\\\\n- Check response for failed edits\\\\n- Earlier edits invalidate later matches (added/removed spaces, lines)\\\\n- Mixed tabs/spaces, trailing spaces cause failures\\\\n- replace_all may affect unintended regions\\\\n</warnings>\\\\n\\\\n<recovery_steps>\\\\nIf edits fail:\\\\n1. Check response metadata for failed edits with errors\\\\n2. View file to see current state after successful edits\\\\n3. Adjust failed edits based on new content\\\\n4. Retry with corrected old_string values\\\\n5. Break complex batches into smaller operations\\\\n</recovery_steps>\\\\n\\\\n<best_practices>\\\\n- Result in correct, idiomatic code\\\\n- Use absolute file paths (/)\\\\n- Use replace_all only when certain\\\\n- Match existing style exactly\\\\n- Review failed edits, retry with corrections\\\\n</best_practices>\\\\n\\\\n<examples>\\\\n\u2705 **Correct**: Sequential edits accounting for changes\\\\n```\\\\nedits: [\\\\n  {\\\\n    old_string: \\\\\\\"func A() {\\\\\\\\n    doOld()\\\\\\\\n}\\\\\\\",\\\\n    new_string: \\\\\\\"func A() {\\\\\\\\n    doNew()\\\\\\\\n}\\\\\\\",\\\\n  },\\\\n  {\\\\n    // Context exists AFTER first replacement\\\\n    old_string: \\\\\\\"func B() {\\\\\\\\n    callA()\\\\\\\\n}\\\\\\\",\\\\n    new_string: \\\\\\\"func B() {\\\\\\\\n    callA()\\\\\\\\n    logChange()\\\\\\\\n}\\\\\\\",\\\\n  },\\\\n]\\\\n```\\\\n\\\\n\u274c **Incorrect**: Second old_string no longer matches\\\\n```\\\\nedits: [\\\\n  {\\\\n    old_string: \\\\\\\"func A() {\\\\\\\\n    doOld()\\\\\\\\n}\\\\\\\",\\\\n    new_string: \\\\\\\"func A() {\\\\\\\\n\\\\\\\\n    doNew()\\\\\\\\n}\\\\\\\", // Added blank line\\\\n  },\\\\n  {\\\\n    old_string: \\\\\\\"func A() {\\\\\\\\n    doNew()\\\\\\\\n}\\\\\\\", // Missing blank line - FAILS\\\\n    new_string: \\\\\\\"func A() {\\\\\\\\n    doNew()\\\\\\\\n    logChange()\\\\\\\\n}\\\\\\\",\\\\n  },\\\\n]\\\\n```\\\\n</examples>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"edits\\\":{\\\"description\\\":\\\"Array of edit operations to perform sequentially on the file\\\",\\\"items\\\":{\\\"properties\\\":{\\\"new_string\\\":{\\\"description\\\":\\\"The text to replace it with\\\",\\\"type\\\":\\\"string\\\"},\\\"old_string\\\":{\\\"description\\\":\\\"The text to replace\\\",\\\"type\\\":\\\"string\\\"},\\\"replace_all\\\":{\\\"description\\\":\\\"Replace all occurrences of old_string (default false).\\\",\\\"type\\\":\\\"boolean\\\"}},\\\"required\\\":[\\\"old_string\\\",\\\"new_string\\\"],\\\"type\\\":\\\"object\\\"},\\\"type\\\":\\\"array\\\"},\\\"file_path\\\":{\\\"description\\\":\\\"The absolute path to the file to modify\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"file_path\\\",\\\"edits\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"fetch\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Fetches raw content from URL and returns it in specified format without any AI processing.\\\\n\\\\n<when_to_use>\\\\nUse this tool when you need:\\\\n- Raw, unprocessed content from a URL\\\\n- Direct access to API responses or JSON data\\\\n- HTML/text/markdown content without interpretation\\\\n- Simple, fast content retrieval without analysis\\\\n- To save tokens by avoiding AI processing\\\\n\\\\nDO NOT use this tool when you need to:\\\\n- Extract specific information from a webpage (use agentic_fetch instead)\\\\n- Answer questions about web content (use agentic_fetch instead)\\\\n- Analyze or summarize web pages (use agentic_fetch instead)\\\\n</when_to_use>\\\\n\\\\n<usage>\\\\n- Provide URL to fetch content from\\\\n- Specify desired output format (text, markdown, or html)\\\\n- Optional timeout for request\\\\n</usage>\\\\n\\\\n<features>\\\\n- Supports three output formats: text, markdown, html\\\\n- Auto-handles HTTP redirects\\\\n- Fast and lightweight - no AI processing\\\\n- Sets reasonable timeouts to prevent hanging\\\\n- Validates input parameters before requests\\\\n</features>\\\\n\\\\n<limitations>\\\\n- Max response size: 5MB\\\\n- Only supports HTTP and HTTPS protocols\\\\n- Cannot handle authentication or cookies\\\\n- Some websites may block automated requests\\\\n- Returns raw content only - no analysis or extraction\\\\n</limitations>\\\\n\\\\n<tips>\\\\n- Use text format for plain text content or simple API responses\\\\n- Use markdown format for content that should be rendered with formatting\\\\n- Use html format when you need raw HTML structure\\\\n- Set appropriate timeouts for potentially slow websites\\\\n- If the user asks to analyze or extract from a page, use agentic_fetch instead\\\\n</tips>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"format\\\":{\\\"description\\\":\\\"The format to return the content in (text, markdown, or html)\\\",\\\"type\\\":\\\"string\\\"},\\\"timeout\\\":{\\\"description\\\":\\\"Optional timeout in seconds (max 120)\\\",\\\"type\\\":\\\"integer\\\"},\\\"url\\\":{\\\"description\\\":\\\"The URL to fetch content from\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"url\\\",\\\"format\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"glob\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Fast file pattern matching tool that finds files by name/pattern, returning paths sorted by modification time (newest first).\\\\n\\\\n<usage>\\\\n- Provide glob pattern to match against file paths\\\\n- Optional starting directory (defaults to current working directory)\\\\n- Results sorted with most recently modified files first\\\\n</usage>\\\\n\\\\n<pattern_syntax>\\\\n- '\\\\\\\\*' matches any sequence of non-separator characters\\\\n- '\\\\\\\\*\\\\\\\\*' matches any sequence including separators\\\\n- '?' matches any single non-separator character\\\\n- '[...]' matches any character in brackets\\\\n- '[!...]' matches any character not in brackets\\\\n</pattern_syntax>\\\\n\\\\n<examples>\\\\n- '*.js' - JavaScript files in current directory\\\\n- '**/*.js' - JavaScript files in any subdirectory\\\\n- 'src/**/*.{ts,tsx}' - TypeScript files in src directory\\\\n- '*.{html,css,js}' - HTML, CSS, and JS files\\\\n</examples>\\\\n\\\\n<limitations>\\\\n- Results limited to 100 files (newest first)\\\\n- Does not search file contents (use Grep for that)\\\\n- Hidden files (starting with '.') skipped\\\\n</limitations>\\\\n\\\\n<cross_platform>\\\\n- Path separators handled automatically (/ and \\\\\\\\ work)\\\\n- Uses ripgrep (rg) if available, otherwise Go implementation\\\\n- Patterns should use forward slashes (/) for compatibility\\\\n</cross_platform>\\\\n\\\\n<tips>\\\\n- Combine with Grep: find files with Glob, search contents with Grep\\\\n- For iterative exploration requiring multiple searches, consider Agent tool\\\\n- Check if results truncated and refine pattern if needed\\\\n</tips>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"path\\\":{\\\"description\\\":\\\"The directory to search in. Defaults to the current working directory.\\\",\\\"type\\\":\\\"string\\\"},\\\"pattern\\\":{\\\"description\\\":\\\"The glob pattern to match files against\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"pattern\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"grep\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Fast content search tool that finds files containing specific text/patterns, returning matching paths sorted by modification time (newest first).\\\\n\\\\n<usage>\\\\n- Provide regex pattern to search within file contents\\\\n- Set literal_text=true for exact text with special characters (recommended for non-regex users)\\\\n- Optional starting directory (defaults to current working directory)\\\\n- Optional include pattern to filter which files to search\\\\n- Results sorted with most recently modified files first\\\\n</usage>\\\\n\\\\n<regex_syntax>\\\\nWhen literal_text=false (supports standard regex):\\\\n\\\\n- 'function' searches for literal text \\\\\\\"function\\\\\\\"\\\\n- 'log\\\\\\\\..\\\\\\\\*Error' finds text starting with \\\\\\\"log.\\\\\\\" and ending with \\\\\\\"Error\\\\\\\"\\\\n- 'import\\\\\\\\s+.\\\\\\\\*\\\\\\\\s+from' finds import statements in JavaScript/TypeScript\\\\n</regex_syntax>\\\\n\\\\n<include_patterns>\\\\n- '\\\\\\\\*.js' - Only search JavaScript files\\\\n- '\\\\\\\\*.{ts,tsx}' - Only search TypeScript files\\\\n- '\\\\\\\\*.go' - Only search Go files\\\\n</include_patterns>\\\\n\\\\n<limitations>\\\\n- Results limited to 100 files (newest first)\\\\n- Performance depends on number of files searched\\\\n- Very large binary files may be skipped\\\\n- Hidden files (starting with '.') skipped\\\\n</limitations>\\\\n\\\\n<ignore_support>\\\\n- Respects .gitignore patterns to skip ignored files/directories\\\\n- Respects .nexoraignore patterns for additional ignore rules\\\\n- Both ignore files auto-detected in search root directory\\\\n</ignore_support>\\\\n\\\\n<cross_platform>\\\\n- Uses ripgrep (rg) if available for better performance\\\\n- Falls back to Go implementation if ripgrep unavailable\\\\n- File paths normalized automatically for compatibility\\\\n</cross_platform>\\\\n\\\\n<tips>\\\\n- For faster searches: use Glob to find relevant files first, then Grep\\\\n- For iterative exploration requiring multiple searches, consider Agent tool\\\\n- Check if results truncated and refine search pattern if needed\\\\n- Use literal_text=true for exact text with special characters (dots, parentheses, etc.)\\\\n</tips>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"include\\\":{\\\"description\\\":\\\"File pattern to include in the search (e.g. \\\\\\\"*.js\\\\\\\", \\\\\\\"*.{ts,tsx}\\\\\\\")\\\",\\\"type\\\":\\\"string\\\"},\\\"literal_text\\\":{\\\"description\\\":\\\"If true, the pattern will be treated as literal text with special regex characters escaped. Default is false.\\\",\\\"type\\\":\\\"boolean\\\"},\\\"path\\\":{\\\"description\\\":\\\"The directory to search in. Defaults to the current working directory.\\\",\\\"type\\\":\\\"string\\\"},\\\"pattern\\\":{\\\"description\\\":\\\"The regex pattern to search for in file contents\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"pattern\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"ls\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Shows files and subdirectories in tree structure for exploring project organization.\\\\n\\\\n<usage>\\\\n- Provide path to list (defaults to current working directory)\\\\n- Optional glob patterns to ignore\\\\n- Results displayed in tree structure\\\\n</usage>\\\\n\\\\n<features>\\\\n- Hierarchical view of files and directories\\\\n- Auto-skips hidden files/directories (starting with '.')\\\\n- Skips common system directories like __pycache__\\\\n- Can filter files matching specific patterns\\\\n</features>\\\\n\\\\n<limitations>\\\\n- Results limited to 1000 files\\\\n- Large directories truncated\\\\n- No file sizes or permissions shown\\\\n- Cannot recursively list all directories in large projects\\\\n</limitations>\\\\n\\\\n<cross_platform>\\\\n- Hidden file detection uses Unix convention (files starting with '.')\\\\n- Windows hidden files (with hidden attribute) not auto-skipped\\\\n- Common Windows directories (System32, Program Files) not in default ignore\\\\n- Path separators handled automatically (/ and \\\\\\\\ work)\\\\n</cross_platform>\\\\n\\\\n<tips>\\\\n- Use Glob for finding files by name patterns instead of browsing\\\\n- Use Grep for searching file contents\\\\n- Combine with other tools for effective exploration\\\\n</tips>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"depth\\\":{\\\"description\\\":\\\"The maximum depth to traverse\\\",\\\"type\\\":\\\"integer\\\"},\\\"ignore\\\":{\\\"description\\\":\\\"List of glob patterns to ignore\\\",\\\"items\\\":{\\\"type\\\":\\\"string\\\"},\\\"type\\\":\\\"array\\\"},\\\"path\\\":{\\\"description\\\":\\\"The path to the directory to list (defaults to current working directory)\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"sourcegraph\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Search code across public repositories using Sourcegraph's GraphQL API.\\\\n\\\\n<usage>\\\\n- Provide search query using Sourcegraph syntax\\\\n- Optional result count (default: 10, max: 20)\\\\n- Optional timeout for request\\\\n</usage>\\\\n\\\\n<basic_syntax>\\\\n- \\\\\\\"fmt.Println\\\\\\\" - exact matches\\\\n- \\\\\\\"file:.go fmt.Println\\\\\\\" - limit to Go files\\\\n- \\\\\\\"repo:^github\\\\\\\\.com/golang/go$ fmt.Println\\\\\\\" - specific repos\\\\n- \\\\\\\"lang:go fmt.Println\\\\\\\" - limit to Go code\\\\n- \\\\\\\"fmt.Println AND log.Fatal\\\\\\\" - combined terms\\\\n- \\\\\\\"fmt\\\\\\\\.(Print|Printf|Println)\\\\\\\" - regex patterns\\\\n- \\\\\\\"\\\\\\\\\\\\\\\"exact phrase\\\\\\\\\\\\\\\"\\\\\\\" - exact phrase matching\\\\n- \\\\\\\"-file:test\\\\\\\" or \\\\\\\"-repo:forks\\\\\\\" - exclude matches\\\\n</basic_syntax>\\\\n\\\\n<key_filters>\\\\nRepository: repo:name, repo:^exact$, repo:org/repo@branch, -repo:exclude, fork:yes, archived:yes, visibility:public\\\\nFile: file:\\\\\\\\.js$, file:internal/, -file:test, file:has.content(text)\\\\nContent: content:\\\\\\\"exact\\\\\\\", -content:\\\\\\\"unwanted\\\\\\\", case:yes\\\\nType: type:symbol, type:file, type:path, type:diff, type:commit\\\\nTime: after:\\\\\\\"1 month ago\\\\\\\", before:\\\\\\\"2023-01-01\\\\\\\", author:name, message:\\\\\\\"fix\\\\\\\"\\\\nResult: select:repo, select:file, select:content, count:100, timeout:30s\\\\n</key_filters>\\\\n\\\\n<examples>\\\\n- \\\\\\\"file:.go context.WithTimeout\\\\\\\" - Go code using context.WithTimeout\\\\n- \\\\\\\"lang:typescript useState type:symbol\\\\\\\" - TypeScript React useState hooks\\\\n- \\\\\\\"repo:^github\\\\\\\\.com/kubernetes/kubernetes$ pod list type:file\\\\\\\" - Kubernetes pod files\\\\n- \\\\\\\"file:Dockerfile (alpine OR ubuntu) -content:alpine:latest\\\\\\\" - Dockerfiles with base images\\\\n</examples>\\\\n\\\\n<boolean_operators>\\\\n- \\\\\\\"term1 AND term2\\\\\\\" - both terms\\\\n- \\\\\\\"term1 OR term2\\\\\\\" - either term\\\\n- \\\\\\\"term1 NOT term2\\\\\\\" - term1 but not term2\\\\n- \\\\\\\"term1 and (term2 or term3)\\\\\\\" - grouping with parentheses\\\\n</boolean_operators>\\\\n\\\\n<limitations>\\\\n- Only searches public repositories\\\\n- Rate limits may apply\\\\n- Complex queries take longer\\\\n- Max 20 results per query\\\\n</limitations>\\\\n\\\\n<tips>\\\\n- Use specific file extensions to narrow results\\\\n- Add repo: filters for targeted searches\\\\n- Use type:symbol for function/method definitions\\\\n- Use type:file to find relevant files\\\\n</tips>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"context_window\\\":{\\\"description\\\":\\\"The context around the match to return (default: 10 lines)\\\",\\\"type\\\":\\\"integer\\\"},\\\"count\\\":{\\\"description\\\":\\\"Optional number of results to return (default: 10, max: 20)\\\",\\\"type\\\":\\\"integer\\\"},\\\"query\\\":{\\\"description\\\":\\\"The Sourcegraph search query\\\",\\\"type\\\":\\\"string\\\"},\\\"timeout\\\":{\\\"description\\\":\\\"Optional timeout in seconds (max 120)\\\",\\\"type\\\":\\\"integer\\\"}},\\\"required\\\":[\\\"query\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"view\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Reads and displays file contents with line numbers for examining code, logs, or text data.\\\\n\\\\n<usage>\\\\n- Provide file path to read\\\\n- Optional offset: start reading from specific line (0-based)\\\\n- Optional limit: control lines read (default 100)\\\\n- Don't use for directories (use LS tool instead)\\\\n- Supports image files (PNG, JPEG, GIF, BMP, SVG, WebP)\\\\n</usage>\\\\n\\\\n<features>\\\\n- Displays contents with line numbers\\\\n- Can read from any file position using offset\\\\n- Handles large files by limiting lines read\\\\n- Auto-truncates very long lines for display\\\\n- Suggests similar filenames when file not found\\\\n- Renders image files directly in terminal\\\\n</features>\\\\n\\\\n<limitations>\\\\n- Max file size: 5MB\\\\n- Default limit: 100 lines (reduced to prevent context window issues)\\\\n- Lines >2000 chars truncated\\\\n- Binary files (except images) cannot be displayed\\\\n</limitations>\\\\n\\\\n<cross_platform>\\\\n- Handles Windows (CRLF) and Unix (LF) line endings\\\\n- Works with forward slashes (/) and backslashes (\\\\\\\\)\\\\n- Auto-detects text encoding for common formats\\\\n</cross_platform>\\\\n\\\\n<tips>\\\\n- Use with Glob to find files first\\\\n- For code exploration: Grep to find relevant files, then View to examine\\\\n- For large files: use offset and limit parameters for specific sections\\\\n- The tool uses smaller chunks (100 lines default) to manage context window efficiently\\\\n- For very large files, consider using 'head' or 'tail' commands via bash tool\\\\n- View tool automatically detects and renders image files\\\\n</tips>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"file_path\\\":{\\\"description\\\":\\\"The path to the file to read\\\",\\\"type\\\":\\\"string\\\"},\\\"limit\\\":{\\\"description\\\":\\\"The number of lines to read (defaults to 2000)\\\",\\\"type\\\":\\\"integer\\\"},\\\"offset\\\":{\\\"description\\\":\\\"The line number to start reading from (0-based)\\\",\\\"type\\\":\\\"integer\\\"}},\\\"required\\\":[\\\"file_path\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"write\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Creates or updates files in filesystem for saving/modifying text content.\\\\n\\\\n<usage>\\\\n- Provide file path to write\\\\n- Include content to write to file\\\\n- Tool creates necessary parent directories automatically\\\\n</usage>\\\\n\\\\n<features>\\\\n- Creates new files or overwrites existing ones\\\\n- Auto-creates parent directories if missing\\\\n- Checks if file modified since last read for safety\\\\n- Avoids unnecessary writes when content unchanged\\\\n</features>\\\\n\\\\n<limitations>\\\\n- Read file before writing to avoid conflicts\\\\n- Cannot append (rewrites entire file)\\\\n</limitations>\\\\n\\\\n<cross_platform>\\\\n- Use forward slashes (/) for compatibility\\\\n</cross_platform>\\\\n\\\\n<tips>\\\\n- Use View tool first to examine existing files before modifying\\\\n- Use LS tool to verify location when creating new files\\\\n- Combine with Glob/Grep to find and modify multiple files\\\\n- Include descriptive comments when changing existing code\\\\n</tips>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"content\\\":{\\\"description\\\":\\\"The content to write to the file\\\",\\\"type\\\":\\\"string\\\"},\\\"file_path\\\":{\\\"description\\\":\\\"The path to the file to write\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"file_path\\\",\\\"content\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"}],\\\"usage\\\":{\\\"include\\\":true},\\\"stream\\\":true}\"\n    headers:\n      Accept:\n      - application/json\n      Content-Type:\n      - application/json\n      User-Agent:\n      - OpenAI/Go 2.7.1\n    url: https://openrouter.ai/api/v1/chat/completions\n    method: POST\n  response:\n    proto: HTTP/2.0\n    proto_major: 2\n    proto_minor: 0\n    content_length: -1\n    body: '{\"error\":{\"message\":\"No cookie auth credentials found\",\"code\":401}}'\n    headers:\n      Content-Type:\n      - application/json\n      content-type:\n      - application/json\n    status: 401 Unauthorized\n    code: 401\n    duration: 17.613878ms\n- id: 1\n  request:\n    proto: HTTP/1.1\n    proto_major: 1\n    proto_minor: 1\n    content_length: 803\n    host: \"\"\n    body: '{\"messages\":[{\"content\":\"you will generate a short title based on the first message a user begins a conversation with\\n\\n<rules>\\n- ensure it is not more than 50 characters long\\n- the title should be a summary of the user''s message\\n- it should be one line long\\n- do not use quotes or colons\\n- the entire text you return will be used as the title\\n- never return anything that is more than one sentence (one line) long\\n</rules>\\n\\n /no_think\",\"role\":\"system\"},{\"content\":\"Generate a concise title for the following content:\\n\\nuse bash to create a file named test.txt with content ''hello bash''. do not print its timestamp\\n <think>\\n\\n</think>\",\"role\":\"user\"}],\"model\":\"qwen/qwen3-next-80b-a3b-instruct\",\"max_tokens\":40,\"stream_options\":{\"include_usage\":true},\"usage\":{\"include\":true},\"stream\":true}'\n    headers:\n      Accept:\n      - application/json\n      Content-Type:\n      - application/json\n      User-Agent:\n      - OpenAI/Go 2.7.1\n    url: https://openrouter.ai/api/v1/chat/completions\n    method: POST\n  response:\n    proto: HTTP/2.0\n    proto_major: 2\n    proto_minor: 0\n    content_length: -1\n    body: '{\"error\":{\"message\":\"No cookie auth credentials found\",\"code\":401}}'\n    headers:\n      Content-Type:\n      - application/json\n      content-type:\n      - application/json\n    status: 401 Unauthorized\n    code: 401\n    duration: 32.280144ms\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.id_4": {
      "name": "interactions.id",
      "type": "key",
      "start_line": 4,
      "end_line": 4,
      "content_hash": "877a7b5cadd7d3ebdb954e84caed29d4d53484c1",
      "content": "- id: 0",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.request_5": {
      "name": "interactions.request",
      "type": "key",
      "start_line": 5,
      "end_line": 20,
      "content_hash": "2e7a2aad90090b088240d8e9fbcce782c1e46abd",
      "content": "  request:\n    proto: HTTP/1.1\n    proto_major: 1\n    proto_minor: 1\n    content_length: 33782\n    host: \"\"\n    body: \"{\\\"messages\\\":[{\\\"content\\\":\\\"## CRITICAL: TOOL CALL FORMAT (READ THIS FIRST)\\\\n**ALWAYS use EXACT OpenAI JSON format for tools. NEVER use &lt;tool_call&gt; tags:**\\\\n\\\\n```\\\\n{\\\\n  \\\\\\\"tool_calls\\\\\\\": [{\\\\n    \\\\\\\"id\\\\\\\": \\\\\\\"call_abc123\\\\\\\",\\\\n    \\\\\\\"type\\\\\\\": \\\\\\\"function\\\\\\\",\\\\n    \\\\\\\"function\\\\\\\": {\\\\n      \\\\\\\"name\\\\\\\": \\\\\\\"view\\\\\\\",\\\\n      \\\\\\\"arguments\\\\\\\": \\\\\\\"{\\\\\\\\\\\\\\\"file_path\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"/home/nexora/todo.md\\\\\\\\\\\\\\\"}\\\\\\\"\\\\n    }\\\\n  }]\\\\n}\\\\n```\\\\n\\\\n**Penalty for wrong format: Your response will be ignored!**\\\\n\\\\n## Core Rules\\\\n1. **Read before editing** - Always view files first, match exact formatting\\\\n2. **Be autonomous** - Search, decide, act without asking. Break complex tasks into steps.\\\\n3. **Infer intent** - Don't be literal. If a file isn't found, search for similar names (case variations, typos). If a task seems incomplete, complete it fully.\\\\n4. **Test changes** - Run tests immediately after modifications\\\\n5. **Be concise** - Keep responses under 4 lines unless explaining complex changes\\\\n6. **Exact matches** - Whitespace, indentation, line breaks must match perfectly for edits\\\\n7. **Never commit** - Unless explicitly asked\\\\n8. **Security first** - Only assist with defensive security tasks\\\\n\\\\n## Inference Examples\\\\n- User says \\\\\\\"read TODO.md\\\\\\\" but it doesn't exist \u2192 Search for `todo.md`, `TODO`, `Todo.md`\\\\n- User says \\\\\\\"fix the bug\\\\\\\" \u2192 Search for error patterns, recent changes, test failures\\\\n- User says \\\\\\\"add tests\\\\\\\" \u2192 Look at existing test patterns, create comprehensive tests\\\\n- File not found \u2192 Try case variations, partial matches, ask glob/grep to find it\\\\n\\\\n## Workflow\\\\n**Before acting**: Search \u2192 Read files \u2192 Identify changes \u2192 Edit \u2192 Test\\\\n**While acting**: Read entire file first, use exact text, include 3-5 lines context, test after each change\\\\n**Before finishing**: Verify task complete, run tests, keep response concise\\\\n\\\\n## Editing Files\\\\n**Critical Requirements**:\\\\n- Exact character-by-character matching\\\\n- Include 3-5 surrounding lines for reliable context\\\\n- Verify uniqueness (or use replace_all=true)\\\\n\\\\n**Understanding the 100 Line Limitation**:\\\\n- `view` tool shows 100 lines at a time: \\\\\\\"showing lines 1-100 of 200 total\\\\\\\"\\\\n- Use `view` with `offset` parameter: `view file_path=\\\\\\\"/path\\\\\\\" offset=100`\\\\n- Your edits MUST exist in the file, not just in visible 100-line chunk\\\\n\\\\n**Common Failures**:\\\\n- Wrong indentation: 2 spaces vs 4 spaces\\\\n- Missing blank lines: 1 newline vs 2 newlines\\\\n- Comment spacing: \\\\\\\"// comment\\\\\\\" vs \\\\\\\"//comment\\\\\\\"\\\\n\\\\n**Tab/Display Issues**:\\\\n- VIEW shows tabs as `\u2192\\\\t\\\\\\\\t` but EDIT needs actual `\\\\\\\\t`\\\\n- Always use `ai_mode=true` (default) to auto-fix this\\\\n\\\\n**Recovery Steps**:\\\\n1. View file with more context\\\\n2. Use `offset` if target outside current window\\\\n3. Use `grep -n \\\\\\\"pattern\\\\\\\" file` to find line numbers\\\\n4. Fallback: Use `write` tool for full file replacement\\\\n\\\\n## Tools\\\\n\\\\n### Available Tools\\\\n- `view`: Read files with line numbers (100 lines at a time - use offset!)\\\\n- `edit`: Replace text exactly (whitespace-sensitive, ai_mode=true by default)\\\\n- `bash`: Execute commands\\\\n- `grep`: Search file contents\\\\n- `glob`: Find files by pattern\\\\n- `write`: Create/update entire files\\\\n\\\\n### When to use each\\\\n- **View**: Always first to understand file contents\\\\n- **Edit**: For precise, targeted changes\\\\n- **Write**: When exact matching fails or for large changes\\\\n- **Bash**: For command execution\\\\n- **Grep**: For finding text in files\\\\n- **Glob**: For finding files by name pattern\\\\n\\\\n### When something fails\\\\n- **File not found in view** \u2192 Use `offset=100`, `offset=200` to navigate\\\\n- **Edit fails** \u2192 View file again, copy exact text, use `write` as fallback\\\\n- **Command fails** \u2192 Read error, try alternative approach\\\\n- **Pattern not visible** \u2192 Use `grep` to find line numbers, then view with offset\\\\n\\\\n## Testing\\\\n- Run relevant tests after every change\\\\n- Fix failures immediately\\\\n- Never leave code in broken state\\\\n\\\\n## Decision Making\\\\n**Be proactive**: Don't just report problems, solve them.\\\\n**Autonomous decisions**: Search for answers, read patterns, make reasonable assumptions\\\\n**Only ask user if**: Truly ambiguous requirements, potential data loss, or actually blocked after trying alternatives\\\\n\\\\n## Error Handling\\\\n1. Read complete error message\\\\n2. Understand root cause\\\\n3. Try different approach (don't repeat same failure)\\\\n4. Search for similar working code\\\\n5. Make targeted fix\\\\n6. Test to verify\\\\n\\\\n## Project Specifics\\\\n\\\\n\\\\n\\\\n## Environment\\\\nDate/Time: 2025-01-01 00:00:00 UTC\\\\nOS: linux (amd64)\\\\nCurrent User: agent\\\\nWorking Directory: /tmp/nexora-test/TestCoderAgent/openrouter-kimi-k2/bash_tool\\\\n\\\\nGit Repo: no\\\\n\\\\nInstalled Runtimes:\\\\n- Python: Python 3.13.7\\\\n- Node.js: v25.2.1\\\\n- Go: go1.25.5\\\\n- Shell: bash (mvdan/sh)\\\\n\\\\nSystem Resources:\\\\n- Memory: 31Gi total, 23Gi available\\\\n- Disk: 16G total, 15G free\\\\n\\\\nTerminal: color, 80x24, interactive\\\\nNetwork: online\\\\nActive Services: \\\\n\\\\n## Nexora System Settings\\\\nNexora client system settings are stored in `~/.local/share/nexora`. This directory contains two important files:\\\\n\\\\n1. **`nexora.db`** - SQLite database containing session history, configuration settings, and conversation state\\\\n2. **`mcp.json`** - JSON configuration file for MCP (Model Context Protocol) settings and server configurations\\\\n\\\\nMCP-related files and configurations are stored in the `mcp.json` file, which defines available MCP servers and their connection parameters.\\\\n\\\\n\\\\n\\\\n\\\",\\\"role\\\":\\\"system\\\",\\\"cache_control\\\":{\\\"type\\\":\\\"ephemeral\\\"}},{\\\"content\\\":\\\"use bash to create a file named test.txt with content 'hello bash'. do not print its timestamp\\\",\\\"role\\\":\\\"user\\\",\\\"cache_control\\\":{\\\"type\\\":\\\"ephemeral\\\"}}],\\\"model\\\":\\\"moonshotai/kimi-k2-0905\\\",\\\"max_tokens\\\":10000,\\\"stream_options\\\":{\\\"include_usage\\\":true},\\\"tool_choice\\\":\\\"auto\\\",\\\"tools\\\":[{\\\"function\\\":{\\\"name\\\":\\\"bash\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Executes bash commands with automatic background conversion for long-running tasks.\\\\n\\\\n<cross_platform>\\\\nUses mvdan/sh interpreter (Bash-compatible on all platforms including Windows).\\\\nUse forward slashes for paths: \\\\\\\"ls C:/foo/bar\\\\\\\" not \\\\\\\"ls C:\\\\\\\\foo\\\\\\\\bar\\\\\\\".\\\\n</cross_platform>\\\\n\\\\n<execution_steps>\\\\n1. Directory Verification: Use LS tool to verify parent exists before creating files\\\\n2. Security Check: No restrictions - explain to user. Safe read-only commands execute without prompts\\\\n3. Command Execution: Execute with proper quoting, capture output\\\\n4. Auto-Background: Commands >1 minute automatically move to background, return shell ID\\\\n5. Output Processing: Truncate if exceeds 30000 characters\\\\n6. Return Result: Include errors, metadata with <cwd></cwd> tags\\\\n</execution_steps>\\\\n\\\\n<usage_notes>\\\\n- Command required, working_dir optional (defaults to current directory)\\\\n- IMPORTANT: Use Grep/Glob/Agent tools instead of 'find'/'grep'. Use View/LS instead of 'cat'/'head'/'tail'/'ls'\\\\n- Chain with ';' or '&&', avoid newlines except in quoted strings\\\\n- Each command runs in independent shell (no state persistence)\\\\n- Prefer absolute paths over 'cd'\\\\n</usage_notes>\\\\n\\\\n<background_execution>\\\\n- Set run_in_background=true for separate background shell\\\\n- Returns shell ID for management\\\\n- Use job_output tool to view output, job_kill to terminate\\\\n- NEVER use `&` at end of commands - use run_in_background parameter\\\\n- Background: Long servers (npm start, python -m http.server), watch tasks, continuous processes\\\\n- Foreground: Builds, tests, git ops, file ops, short scripts\\\\n</background_execution>\\\\n\\\\n<git_commits>\\\\nWhen user asks to create git commit:\\\\n\\\\n1. Run: git status, git diff, git log (single message, three tool_use blocks)\\\\n2. Add relevant untracked files to staging\\\\n3. Analyze in <commit_analysis> tags:\\\\n   - List changed files, summarize nature (feature/bug fix/refactor/docs)\\\\n   - Draft concise (1-2 sentences) focusing on \\\\\\\"why\\\\\\\" not \\\\\\\"what\\\\\\\"\\\\n   - Use accurate verbs: \\\\\\\"add\\\\\\\"=new feature, \\\\\\\"update\\\\\\\"=enhancement, \\\\\\\"fix\\\\\\\"=bug\\\\n4. Create commit with attribution:\\\\n   ```bash\\\\n   git commit -m \\\\\\\"$(cat &lt;&lt;'EOF'\\\\n   Commit message here.\\\\n\\\\n   \\U0001F498 Generated with Crush\\\\n\\\\n\\\\n   Co-Authored-By: Crush <crush@charm.land>\\\\n\\\\n   EOF\\\\n   )\\\\\\\"\\\\n   ```\\\\n5. If pre-commit hook fails, retry ONCE. If succeeds but files modified, MUST amend.\\\\n6. Run git status to verify.\\\\n\\\\nNotes: Use \\\\\\\"git commit -am\\\\\\\" when possible, don't stage unrelated files, NEVER update config, don't push, no empty commits.\\\\n</git_commits>\\\\n\\\\n<pull_requests>\\\\nWhen user asks to create PR:\\\\n\\\\n1. Run: git status, git diff, check remote tracking, git log and 'git diff main...HEAD'\\\\n2. Create branch if needed, commit if needed, push with -u if needed\\\\n3. Analyze in <pr_analysis> tags:\\\\n   - List commits since main divergence\\\\n   - Summarize changes, purpose/motivation\\\\n   - Draft concise (1-2 bullets) focusing on \\\\\\\"why\\\\\\\"\\\\n4. Create PR:\\\\n   ```bash\\\\n   gh pr create --title \\\\\\\"title\\\\\\\" --body \\\\\\\"$(cat &lt;&lt;'EOF'\\\\n   ## Summary\\\\n   &lt;1-3 bullet points>\\\\n   \\\\n   ## Test plan\\\\n   [Checklist...]\\\\n\\\\n   \\U0001F498 Generated with Crush\\\\n\\\\n   EOF\\\\n   )\\\\\\\"\\\\n   ```\\\\n\\\\nImportant: Return empty response, never update git config\\\\n</pull_requests>\\\\n\\\\n<examples>\\\\nGood: pytest /foo/bar/tests\\\\nBad: cd /foo/bar && pytest tests\\\\n</examples>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"command\\\":{\\\"description\\\":\\\"The command to execute\\\",\\\"type\\\":\\\"string\\\"},\\\"description\\\":{\\\"description\\\":\\\"A brief description of what the command does, try to keep it under 30 characters or so\\\",\\\"type\\\":\\\"string\\\"},\\\"run_in_background\\\":{\\\"description\\\":\\\"Set to true (boolean) to run this command in the background. Use job_output to read the output later.\\\",\\\"type\\\":\\\"boolean\\\"},\\\"working_dir\\\":{\\\"description\\\":\\\"The working directory to execute the command in (defaults to current directory)\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"description\\\",\\\"command\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"download\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Downloads binary data from URL and saves to local file.\\\\n\\\\n<usage>\\\\n- Provide URL to download from\\\\n- Specify local file path where content should be saved\\\\n- Optional timeout for request\\\\n</usage>\\\\n\\\\n<features>\\\\n- Downloads any file type (binary or text)\\\\n- Auto-creates parent directories if missing\\\\n- Handles large files efficiently with streaming\\\\n- Sets reasonable timeouts to prevent hanging\\\\n- Validates input parameters before requests\\\\n</features>\\\\n\\\\n<limitations>\\\\n- Max file size: 100MB\\\\n- Only supports HTTP and HTTPS protocols\\\\n- Cannot handle authentication or cookies\\\\n- Some websites may block automated requests\\\\n- Will overwrite existing files without warning\\\\n</limitations>\\\\n\\\\n<tips>\\\\n- Use absolute paths or paths relative to working directory\\\\n- Set appropriate timeouts for large files or slow connections\\\\n</tips>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"file_path\\\":{\\\"description\\\":\\\"The local file path where the downloaded content should be saved\\\",\\\"type\\\":\\\"string\\\"},\\\"timeout\\\":{\\\"description\\\":\\\"Optional timeout in seconds (max 600)\\\",\\\"type\\\":\\\"integer\\\"},\\\"url\\\":{\\\"description\\\":\\\"The URL to download from\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"url\\\",\\\"file_path\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"edit\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Edits files by replacing text, creating new files, or deleting content. For moving/renaming use Bash 'mv'. For large edits use Write tool.\\\\n\\\\n**Quick Decision Tree:**\\\\n1. **Know exact line numbers?** \u2192 Use `smart_edit` tool (100% reliable)\\\\n2. **Edit failed once?** \u2192 Use `write` tool immediately\\\\n3. **First time editing?** \u2192 Enable ai_mode=true\\\\n\\\\n<prerequisites>\\\\n1. **NEVER copy from view tool output** - has visual tab indicators (\u2192\\\\t) causing failures\\\\n2. Use `sed -n 'START,ENDp' file` or `grep -A5 -B5 pattern file` for EXACT text\\\\n3. For new files: Use LS tool to verify parent directory exists\\\\n4. If you can't extract exact text, use `smart_edit` with line numbers\\\\n</prerequisites>\\\\n\\\\n<parameters>\\\\n1. file_path: Absolute path to file (required)\\\\n2. old_string: Text to replace (exact match including whitespace/indentation)\\\\n3. new_string: Replacement text\\\\n4. replace_all: Replace all occurrences (default false)\\\\n</parameters>\\\\n\\\\n<special_cases>\\\\n- Create file: provide file_path + new_string, leave old_string empty\\\\n- Delete content: provide file_path + old_string, leave new_string empty\\\\n</special_cases>\\\\n\\\\n<critical_requirements>\\\\n**EXACT MATCHING**: Text must match character-for-character\\\\n- Every space, tab, blank line, newline, indentation level\\\\n- Comment spacing (`// comment` vs `//comment`)\\\\n- Brace positioning (`func() {` vs `func(){`)\\\\n\\\\n**UNIQUENESS**: old_string MUST uniquely identify target (when replace_all=false)\\\\n- Include 3-5 lines context before/after change point\\\\n- If text appears multiple times, add more context or use replace_all=true\\\\n\\\\n**VERIFICATION BEFORE USING**:\\\\n1. View file and locate exact target\\\\n2. Check how many instances exist\\\\n3. Copy EXACT text including whitespace\\\\n4. Verify enough context for unique identification\\\\n5. Double-check indentation (count spaces/tabs)\\\\n</critical_requirements>\\\\n\\\\n<warnings>\\\\nTool fails if:\\\\n- old_string matches multiple locations and replace_all=false\\\\n- Whitespace doesn't match exactly\\\\n- Indentation off by even one space\\\\n- Missing or extra blank lines\\\\n</warnings>\\\\n\\\\n<recovery_steps>\\\\nIf \\\\\\\"old_string not found\\\\\\\":\\\\n\\\\n**\\U0001F6D1 DON'T RETRY - Use alternatives:**\\\\n1. `smart_edit` with line numbers (100% reliable)\\\\n2. Extract exact text: `sed -n '10,20p' file`\\\\n3. Use `write` tool for full file replacement\\\\n\\\\n**\u274c DON'T:**\\\\n- Retry with \\\\\\\"adjusted\\\\\\\" whitespace\\\\n- Copy from view output (has artifacts)\\\\n- Guess at whitespace\\\\n\\\\n**\u2705 DO:**\\\\n- Use `smart_edit` (line numbers)\\\\n- Use `sed -n 'X,Yp' file` for exact text\\\\n- Use `write` if edit fails once\\\\n</recovery_steps>\\\\n\\\\n<best_practices>\\\\n- View file first, match exact formatting\\\\n- Use absolute paths with forward slashes (/)\\\\n- Multiple edits to same file: send all in single message\\\\n- Include MORE context when uncertain\\\\n- Match existing code style exactly\\\\n</best_practices>\\\\n\\\\n<examples>\\\\n\u2705 **Correct**: Exact match with context\\\\n```\\\\nold_string: \\\\\\\"func ProcessData(input string) error {\\\\\\\\n    if input == \\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\" {\\\\\\\\n        return errors.New(\\\\\\\\\\\\\\\"empty input\\\\\\\\\\\\\\\")\\\\\\\\n    }\\\\\\\\n    return nil\\\\\\\\n}\\\\\\\"\\\\nnew_string: \\\\\\\"func ProcessData(input string) error {\\\\\\\\n    if input == \\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\" {\\\\\\\\n        return errors.New(\\\\\\\\\\\\\\\"empty input\\\\\\\\\\\\\\\")\\\\\\\\n    }\\\\\\\\n    if len(input) > 1000 {\\\\\\\\n        return errors.New(\\\\\\\\\\\\\\\"input too long\\\\\\\\\\\\\\\")\\\\\\\\n    }\\\\\\\\n    return nil\\\\\\\\n}\\\\\\\"\\\\n```\\\\n\\\\n\u274c **Incorrect**: Not enough context\\\\n```\\\\nold_string: \\\\\\\"return nil\\\\\\\"  // Appears many times!\\\\n```\\\\n\\\\n\u274c **Incorrect**: Wrong indentation\\\\n```\\\\nold_string: \\\\\\\"  if input == \\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\" {\\\\\\\"  // 2 spaces\\\\n// File actually has: \\\\\\\"    if input == \\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\" {\\\\\\\"  // 4 spaces\\\\n```\\\\n</examples>\\\\n\\\\n## AI Mode\\\\nUse `ai_mode=true` (default) for automatic fixes:\\\\n- Converts VIEW tool display tabs (`\u2192\\\\\\\\t`) to real tabs (`\\\\\\\\t`)\\\\n- Expands minimal context automatically\\\\n- Enhanced error messages\\\\n- Lower failure rate on whitespace issues\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"ai_mode\\\":{\\\"description\\\":\\\"Enable AI-optimized editing with automatic context expansion and improved error handling (DEFAULT: true)\\\",\\\"type\\\":\\\"boolean\\\"},\\\"file_path\\\":{\\\"description\\\":\\\"The absolute path to the file to modify\\\",\\\"type\\\":\\\"string\\\"},\\\"new_string\\\":{\\\"description\\\":\\\"The text to replace it with\\\",\\\"type\\\":\\\"string\\\"},\\\"old_string\\\":{\\\"description\\\":\\\"The text to replace\\\",\\\"type\\\":\\\"string\\\"},\\\"replace_all\\\":{\\\"description\\\":\\\"Replace all occurrences of old_string (default false)\\\",\\\"type\\\":\\\"boolean\\\"}},\\\"required\\\":[\\\"file_path\\\",\\\"old_string\\\",\\\"new_string\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"multiedit\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Makes multiple edits to a single file in one operation. Built on Edit tool for efficient multiple find-and-replace. Prefer over Edit tool for multiple edits to same file.\\\\n\\\\n<prerequisites>\\\\n1. Use View tool to understand file contents\\\\n2. Verify directory path is correct\\\\n3. CRITICAL: Note exact whitespace, indentation from View output\\\\n</prerequisites>\\\\n\\\\n<parameters>\\\\n1. file_path: Absolute path to file (required)\\\\n2. edits: Array of edit objects (MUST be array, not string!):\\\\n   - old_string: Text to replace (exact match including whitespace)\\\\n   - new_string: Replacement text\\\\n   - replace_all: Replace all occurrences (optional, default false)\\\\n   \\\\n   \u2705 CORRECT: `\\\\\\\"edits\\\\\\\": [{\\\\\\\"old_string\\\\\\\": \\\\\\\"text1\\\\\\\", \\\\\\\"new_string\\\\\\\": \\\\\\\"replace1\\\\\\\"}]`\\\\n   \u274c INCORRECT: `\\\\\\\"edits\\\\\\\": \\\\\\\"[{\\\\\\\\\\\\\\\"old_string\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"text1\\\\\\\\\\\\\\\"}]\\\\\\\"` (string, not array)\\\\n</parameters>\\\\n\\\\n<operation>\\\\n- Edits applied sequentially in order\\\\n- Each edit operates on result of previous edit\\\\n- PARTIAL SUCCESS: Failed edits returned, successful edits kept\\\\n- File modified if at least one edit succeeds\\\\n</operation>\\\\n\\\\n<inherited_rules>\\\\n**All Edit tool rules apply to each edit:**\\\\n- See edit.md for critical requirements, warnings, recovery steps\\\\n- Exact matching for whitespace, indentation, blank lines\\\\n- Uniqueness requirements (3-5 lines context)\\\\n- Verification checklist before using\\\\n- Use ai_mode=true (default) for tab handling\\\\n</inherited_rules>\\\\n\\\\n<critical_requirements>\\\\n1. Apply Edit tool rules to EACH edit (see edit.md)\\\\n2. Edits applied in order; successful edits kept if later edits fail\\\\n3. Plan sequence: earlier edits change content that later edits must match\\\\n4. Ensure each old_string unique at application time (after prior edits)\\\\n5. Check response for failed edits, retry with corrections\\\\n</critical_requirements>\\\\n\\\\n<verification_before_using>\\\\n1. View file, copy exact text (including whitespace) for each target\\\\n2. Check instances of each old_string BEFORE sequence\\\\n3. Dry-run: after edit #N, will edit #N+1 still match?\\\\n4. Prefer fewer, larger context blocks over many tiny fragments\\\\n5. If edits independent, consider separate multiedit batches\\\\n</verification_before_using>\\\\n\\\\n<warnings>\\\\n- Check response for failed edits\\\\n- Earlier edits invalidate later matches (added/removed spaces, lines)\\\\n- Mixed tabs/spaces, trailing spaces cause failures\\\\n- replace_all may affect unintended regions\\\\n</warnings>\\\\n\\\\n<recovery_steps>\\\\nIf edits fail:\\\\n1. Check response metadata for failed edits with errors\\\\n2. View file to see current state after successful edits\\\\n3. Adjust failed edits based on new content\\\\n4. Retry with corrected old_string values\\\\n5. Break complex batches into smaller operations\\\\n</recovery_steps>\\\\n\\\\n<best_practices>\\\\n- Result in correct, idiomatic code\\\\n- Use absolute file paths (/)\\\\n- Use replace_all only when certain\\\\n- Match existing style exactly\\\\n- Review failed edits, retry with corrections\\\\n</best_practices>\\\\n\\\\n<examples>\\\\n\u2705 **Correct**: Sequential edits accounting for changes\\\\n```\\\\nedits: [\\\\n  {\\\\n    old_string: \\\\\\\"func A() {\\\\\\\\n    doOld()\\\\\\\\n}\\\\\\\",\\\\n    new_string: \\\\\\\"func A() {\\\\\\\\n    doNew()\\\\\\\\n}\\\\\\\",\\\\n  },\\\\n  {\\\\n    // Context exists AFTER first replacement\\\\n    old_string: \\\\\\\"func B() {\\\\\\\\n    callA()\\\\\\\\n}\\\\\\\",\\\\n    new_string: \\\\\\\"func B() {\\\\\\\\n    callA()\\\\\\\\n    logChange()\\\\\\\\n}\\\\\\\",\\\\n  },\\\\n]\\\\n```\\\\n\\\\n\u274c **Incorrect**: Second old_string no longer matches\\\\n```\\\\nedits: [\\\\n  {\\\\n    old_string: \\\\\\\"func A() {\\\\\\\\n    doOld()\\\\\\\\n}\\\\\\\",\\\\n    new_string: \\\\\\\"func A() {\\\\\\\\n\\\\\\\\n    doNew()\\\\\\\\n}\\\\\\\", // Added blank line\\\\n  },\\\\n  {\\\\n    old_string: \\\\\\\"func A() {\\\\\\\\n    doNew()\\\\\\\\n}\\\\\\\", // Missing blank line - FAILS\\\\n    new_string: \\\\\\\"func A() {\\\\\\\\n    doNew()\\\\\\\\n    logChange()\\\\\\\\n}\\\\\\\",\\\\n  },\\\\n]\\\\n```\\\\n</examples>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"edits\\\":{\\\"description\\\":\\\"Array of edit operations to perform sequentially on the file\\\",\\\"items\\\":{\\\"properties\\\":{\\\"new_string\\\":{\\\"description\\\":\\\"The text to replace it with\\\",\\\"type\\\":\\\"string\\\"},\\\"old_string\\\":{\\\"description\\\":\\\"The text to replace\\\",\\\"type\\\":\\\"string\\\"},\\\"replace_all\\\":{\\\"description\\\":\\\"Replace all occurrences of old_string (default false).\\\",\\\"type\\\":\\\"boolean\\\"}},\\\"required\\\":[\\\"old_string\\\",\\\"new_string\\\"],\\\"type\\\":\\\"object\\\"},\\\"type\\\":\\\"array\\\"},\\\"file_path\\\":{\\\"description\\\":\\\"The absolute path to the file to modify\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"file_path\\\",\\\"edits\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"fetch\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Fetches raw content from URL and returns it in specified format without any AI processing.\\\\n\\\\n<when_to_use>\\\\nUse this tool when you need:\\\\n- Raw, unprocessed content from a URL\\\\n- Direct access to API responses or JSON data\\\\n- HTML/text/markdown content without interpretation\\\\n- Simple, fast content retrieval without analysis\\\\n- To save tokens by avoiding AI processing\\\\n\\\\nDO NOT use this tool when you need to:\\\\n- Extract specific information from a webpage (use agentic_fetch instead)\\\\n- Answer questions about web content (use agentic_fetch instead)\\\\n- Analyze or summarize web pages (use agentic_fetch instead)\\\\n</when_to_use>\\\\n\\\\n<usage>\\\\n- Provide URL to fetch content from\\\\n- Specify desired output format (text, markdown, or html)\\\\n- Optional timeout for request\\\\n</usage>\\\\n\\\\n<features>\\\\n- Supports three output formats: text, markdown, html\\\\n- Auto-handles HTTP redirects\\\\n- Fast and lightweight - no AI processing\\\\n- Sets reasonable timeouts to prevent hanging\\\\n- Validates input parameters before requests\\\\n</features>\\\\n\\\\n<limitations>\\\\n- Max response size: 5MB\\\\n- Only supports HTTP and HTTPS protocols\\\\n- Cannot handle authentication or cookies\\\\n- Some websites may block automated requests\\\\n- Returns raw content only - no analysis or extraction\\\\n</limitations>\\\\n\\\\n<tips>\\\\n- Use text format for plain text content or simple API responses\\\\n- Use markdown format for content that should be rendered with formatting\\\\n- Use html format when you need raw HTML structure\\\\n- Set appropriate timeouts for potentially slow websites\\\\n- If the user asks to analyze or extract from a page, use agentic_fetch instead\\\\n</tips>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"format\\\":{\\\"description\\\":\\\"The format to return the content in (text, markdown, or html)\\\",\\\"type\\\":\\\"string\\\"},\\\"timeout\\\":{\\\"description\\\":\\\"Optional timeout in seconds (max 120)\\\",\\\"type\\\":\\\"integer\\\"},\\\"url\\\":{\\\"description\\\":\\\"The URL to fetch content from\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"url\\\",\\\"format\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"glob\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Fast file pattern matching tool that finds files by name/pattern, returning paths sorted by modification time (newest first).\\\\n\\\\n<usage>\\\\n- Provide glob pattern to match against file paths\\\\n- Optional starting directory (defaults to current working directory)\\\\n- Results sorted with most recently modified files first\\\\n</usage>\\\\n\\\\n<pattern_syntax>\\\\n- '\\\\\\\\*' matches any sequence of non-separator characters\\\\n- '\\\\\\\\*\\\\\\\\*' matches any sequence including separators\\\\n- '?' matches any single non-separator character\\\\n- '[...]' matches any character in brackets\\\\n- '[!...]' matches any character not in brackets\\\\n</pattern_syntax>\\\\n\\\\n<examples>\\\\n- '*.js' - JavaScript files in current directory\\\\n- '**/*.js' - JavaScript files in any subdirectory\\\\n- 'src/**/*.{ts,tsx}' - TypeScript files in src directory\\\\n- '*.{html,css,js}' - HTML, CSS, and JS files\\\\n</examples>\\\\n\\\\n<limitations>\\\\n- Results limited to 100 files (newest first)\\\\n- Does not search file contents (use Grep for that)\\\\n- Hidden files (starting with '.') skipped\\\\n</limitations>\\\\n\\\\n<cross_platform>\\\\n- Path separators handled automatically (/ and \\\\\\\\ work)\\\\n- Uses ripgrep (rg) if available, otherwise Go implementation\\\\n- Patterns should use forward slashes (/) for compatibility\\\\n</cross_platform>\\\\n\\\\n<tips>\\\\n- Combine with Grep: find files with Glob, search contents with Grep\\\\n- For iterative exploration requiring multiple searches, consider Agent tool\\\\n- Check if results truncated and refine pattern if needed\\\\n</tips>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"path\\\":{\\\"description\\\":\\\"The directory to search in. Defaults to the current working directory.\\\",\\\"type\\\":\\\"string\\\"},\\\"pattern\\\":{\\\"description\\\":\\\"The glob pattern to match files against\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"pattern\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"grep\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Fast content search tool that finds files containing specific text/patterns, returning matching paths sorted by modification time (newest first).\\\\n\\\\n<usage>\\\\n- Provide regex pattern to search within file contents\\\\n- Set literal_text=true for exact text with special characters (recommended for non-regex users)\\\\n- Optional starting directory (defaults to current working directory)\\\\n- Optional include pattern to filter which files to search\\\\n- Results sorted with most recently modified files first\\\\n</usage>\\\\n\\\\n<regex_syntax>\\\\nWhen literal_text=false (supports standard regex):\\\\n\\\\n- 'function' searches for literal text \\\\\\\"function\\\\\\\"\\\\n- 'log\\\\\\\\..\\\\\\\\*Error' finds text starting with \\\\\\\"log.\\\\\\\" and ending with \\\\\\\"Error\\\\\\\"\\\\n- 'import\\\\\\\\s+.\\\\\\\\*\\\\\\\\s+from' finds import statements in JavaScript/TypeScript\\\\n</regex_syntax>\\\\n\\\\n<include_patterns>\\\\n- '\\\\\\\\*.js' - Only search JavaScript files\\\\n- '\\\\\\\\*.{ts,tsx}' - Only search TypeScript files\\\\n- '\\\\\\\\*.go' - Only search Go files\\\\n</include_patterns>\\\\n\\\\n<limitations>\\\\n- Results limited to 100 files (newest first)\\\\n- Performance depends on number of files searched\\\\n- Very large binary files may be skipped\\\\n- Hidden files (starting with '.') skipped\\\\n</limitations>\\\\n\\\\n<ignore_support>\\\\n- Respects .gitignore patterns to skip ignored files/directories\\\\n- Respects .nexoraignore patterns for additional ignore rules\\\\n- Both ignore files auto-detected in search root directory\\\\n</ignore_support>\\\\n\\\\n<cross_platform>\\\\n- Uses ripgrep (rg) if available for better performance\\\\n- Falls back to Go implementation if ripgrep unavailable\\\\n- File paths normalized automatically for compatibility\\\\n</cross_platform>\\\\n\\\\n<tips>\\\\n- For faster searches: use Glob to find relevant files first, then Grep\\\\n- For iterative exploration requiring multiple searches, consider Agent tool\\\\n- Check if results truncated and refine search pattern if needed\\\\n- Use literal_text=true for exact text with special characters (dots, parentheses, etc.)\\\\n</tips>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"include\\\":{\\\"description\\\":\\\"File pattern to include in the search (e.g. \\\\\\\"*.js\\\\\\\", \\\\\\\"*.{ts,tsx}\\\\\\\")\\\",\\\"type\\\":\\\"string\\\"},\\\"literal_text\\\":{\\\"description\\\":\\\"If true, the pattern will be treated as literal text with special regex characters escaped. Default is false.\\\",\\\"type\\\":\\\"boolean\\\"},\\\"path\\\":{\\\"description\\\":\\\"The directory to search in. Defaults to the current working directory.\\\",\\\"type\\\":\\\"string\\\"},\\\"pattern\\\":{\\\"description\\\":\\\"The regex pattern to search for in file contents\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"pattern\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"ls\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Shows files and subdirectories in tree structure for exploring project organization.\\\\n\\\\n<usage>\\\\n- Provide path to list (defaults to current working directory)\\\\n- Optional glob patterns to ignore\\\\n- Results displayed in tree structure\\\\n</usage>\\\\n\\\\n<features>\\\\n- Hierarchical view of files and directories\\\\n- Auto-skips hidden files/directories (starting with '.')\\\\n- Skips common system directories like __pycache__\\\\n- Can filter files matching specific patterns\\\\n</features>\\\\n\\\\n<limitations>\\\\n- Results limited to 1000 files\\\\n- Large directories truncated\\\\n- No file sizes or permissions shown\\\\n- Cannot recursively list all directories in large projects\\\\n</limitations>\\\\n\\\\n<cross_platform>\\\\n- Hidden file detection uses Unix convention (files starting with '.')\\\\n- Windows hidden files (with hidden attribute) not auto-skipped\\\\n- Common Windows directories (System32, Program Files) not in default ignore\\\\n- Path separators handled automatically (/ and \\\\\\\\ work)\\\\n</cross_platform>\\\\n\\\\n<tips>\\\\n- Use Glob for finding files by name patterns instead of browsing\\\\n- Use Grep for searching file contents\\\\n- Combine with other tools for effective exploration\\\\n</tips>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"depth\\\":{\\\"description\\\":\\\"The maximum depth to traverse\\\",\\\"type\\\":\\\"integer\\\"},\\\"ignore\\\":{\\\"description\\\":\\\"List of glob patterns to ignore\\\",\\\"items\\\":{\\\"type\\\":\\\"string\\\"},\\\"type\\\":\\\"array\\\"},\\\"path\\\":{\\\"description\\\":\\\"The path to the directory to list (defaults to current working directory)\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"sourcegraph\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Search code across public repositories using Sourcegraph's GraphQL API.\\\\n\\\\n<usage>\\\\n- Provide search query using Sourcegraph syntax\\\\n- Optional result count (default: 10, max: 20)\\\\n- Optional timeout for request\\\\n</usage>\\\\n\\\\n<basic_syntax>\\\\n- \\\\\\\"fmt.Println\\\\\\\" - exact matches\\\\n- \\\\\\\"file:.go fmt.Println\\\\\\\" - limit to Go files\\\\n- \\\\\\\"repo:^github\\\\\\\\.com/golang/go$ fmt.Println\\\\\\\" - specific repos\\\\n- \\\\\\\"lang:go fmt.Println\\\\\\\" - limit to Go code\\\\n- \\\\\\\"fmt.Println AND log.Fatal\\\\\\\" - combined terms\\\\n- \\\\\\\"fmt\\\\\\\\.(Print|Printf|Println)\\\\\\\" - regex patterns\\\\n- \\\\\\\"\\\\\\\\\\\\\\\"exact phrase\\\\\\\\\\\\\\\"\\\\\\\" - exact phrase matching\\\\n- \\\\\\\"-file:test\\\\\\\" or \\\\\\\"-repo:forks\\\\\\\" - exclude matches\\\\n</basic_syntax>\\\\n\\\\n<key_filters>\\\\nRepository: repo:name, repo:^exact$, repo:org/repo@branch, -repo:exclude, fork:yes, archived:yes, visibility:public\\\\nFile: file:\\\\\\\\.js$, file:internal/, -file:test, file:has.content(text)\\\\nContent: content:\\\\\\\"exact\\\\\\\", -content:\\\\\\\"unwanted\\\\\\\", case:yes\\\\nType: type:symbol, type:file, type:path, type:diff, type:commit\\\\nTime: after:\\\\\\\"1 month ago\\\\\\\", before:\\\\\\\"2023-01-01\\\\\\\", author:name, message:\\\\\\\"fix\\\\\\\"\\\\nResult: select:repo, select:file, select:content, count:100, timeout:30s\\\\n</key_filters>\\\\n\\\\n<examples>\\\\n- \\\\\\\"file:.go context.WithTimeout\\\\\\\" - Go code using context.WithTimeout\\\\n- \\\\\\\"lang:typescript useState type:symbol\\\\\\\" - TypeScript React useState hooks\\\\n- \\\\\\\"repo:^github\\\\\\\\.com/kubernetes/kubernetes$ pod list type:file\\\\\\\" - Kubernetes pod files\\\\n- \\\\\\\"file:Dockerfile (alpine OR ubuntu) -content:alpine:latest\\\\\\\" - Dockerfiles with base images\\\\n</examples>\\\\n\\\\n<boolean_operators>\\\\n- \\\\\\\"term1 AND term2\\\\\\\" - both terms\\\\n- \\\\\\\"term1 OR term2\\\\\\\" - either term\\\\n- \\\\\\\"term1 NOT term2\\\\\\\" - term1 but not term2\\\\n- \\\\\\\"term1 and (term2 or term3)\\\\\\\" - grouping with parentheses\\\\n</boolean_operators>\\\\n\\\\n<limitations>\\\\n- Only searches public repositories\\\\n- Rate limits may apply\\\\n- Complex queries take longer\\\\n- Max 20 results per query\\\\n</limitations>\\\\n\\\\n<tips>\\\\n- Use specific file extensions to narrow results\\\\n- Add repo: filters for targeted searches\\\\n- Use type:symbol for function/method definitions\\\\n- Use type:file to find relevant files\\\\n</tips>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"context_window\\\":{\\\"description\\\":\\\"The context around the match to return (default: 10 lines)\\\",\\\"type\\\":\\\"integer\\\"},\\\"count\\\":{\\\"description\\\":\\\"Optional number of results to return (default: 10, max: 20)\\\",\\\"type\\\":\\\"integer\\\"},\\\"query\\\":{\\\"description\\\":\\\"The Sourcegraph search query\\\",\\\"type\\\":\\\"string\\\"},\\\"timeout\\\":{\\\"description\\\":\\\"Optional timeout in seconds (max 120)\\\",\\\"type\\\":\\\"integer\\\"}},\\\"required\\\":[\\\"query\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"view\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Reads and displays file contents with line numbers for examining code, logs, or text data.\\\\n\\\\n<usage>\\\\n- Provide file path to read\\\\n- Optional offset: start reading from specific line (0-based)\\\\n- Optional limit: control lines read (default 100)\\\\n- Don't use for directories (use LS tool instead)\\\\n- Supports image files (PNG, JPEG, GIF, BMP, SVG, WebP)\\\\n</usage>\\\\n\\\\n<features>\\\\n- Displays contents with line numbers\\\\n- Can read from any file position using offset\\\\n- Handles large files by limiting lines read\\\\n- Auto-truncates very long lines for display\\\\n- Suggests similar filenames when file not found\\\\n- Renders image files directly in terminal\\\\n</features>\\\\n\\\\n<limitations>\\\\n- Max file size: 5MB\\\\n- Default limit: 100 lines (reduced to prevent context window issues)\\\\n- Lines >2000 chars truncated\\\\n- Binary files (except images) cannot be displayed\\\\n</limitations>\\\\n\\\\n<cross_platform>\\\\n- Handles Windows (CRLF) and Unix (LF) line endings\\\\n- Works with forward slashes (/) and backslashes (\\\\\\\\)\\\\n- Auto-detects text encoding for common formats\\\\n</cross_platform>\\\\n\\\\n<tips>\\\\n- Use with Glob to find files first\\\\n- For code exploration: Grep to find relevant files, then View to examine\\\\n- For large files: use offset and limit parameters for specific sections\\\\n- The tool uses smaller chunks (100 lines default) to manage context window efficiently\\\\n- For very large files, consider using 'head' or 'tail' commands via bash tool\\\\n- View tool automatically detects and renders image files\\\\n</tips>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"file_path\\\":{\\\"description\\\":\\\"The path to the file to read\\\",\\\"type\\\":\\\"string\\\"},\\\"limit\\\":{\\\"description\\\":\\\"The number of lines to read (defaults to 2000)\\\",\\\"type\\\":\\\"integer\\\"},\\\"offset\\\":{\\\"description\\\":\\\"The line number to start reading from (0-based)\\\",\\\"type\\\":\\\"integer\\\"}},\\\"required\\\":[\\\"file_path\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"write\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Creates or updates files in filesystem for saving/modifying text content.\\\\n\\\\n<usage>\\\\n- Provide file path to write\\\\n- Include content to write to file\\\\n- Tool creates necessary parent directories automatically\\\\n</usage>\\\\n\\\\n<features>\\\\n- Creates new files or overwrites existing ones\\\\n- Auto-creates parent directories if missing\\\\n- Checks if file modified since last read for safety\\\\n- Avoids unnecessary writes when content unchanged\\\\n</features>\\\\n\\\\n<limitations>\\\\n- Read file before writing to avoid conflicts\\\\n- Cannot append (rewrites entire file)\\\\n</limitations>\\\\n\\\\n<cross_platform>\\\\n- Use forward slashes (/) for compatibility\\\\n</cross_platform>\\\\n\\\\n<tips>\\\\n- Use View tool first to examine existing files before modifying\\\\n- Use LS tool to verify location when creating new files\\\\n- Combine with Glob/Grep to find and modify multiple files\\\\n- Include descriptive comments when changing existing code\\\\n</tips>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"content\\\":{\\\"description\\\":\\\"The content to write to the file\\\",\\\"type\\\":\\\"string\\\"},\\\"file_path\\\":{\\\"description\\\":\\\"The path to the file to write\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"file_path\\\",\\\"content\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"}],\\\"usage\\\":{\\\"include\\\":true},\\\"stream\\\":true}\"\n    headers:\n      Accept:\n      - application/json\n      Content-Type:\n      - application/json\n      User-Agent:\n      - OpenAI/Go 2.7.1\n    url: https://openrouter.ai/api/v1/chat/completions\n    method: POST",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.request.proto_6": {
      "name": "interactions.request.proto",
      "type": "key",
      "start_line": 6,
      "end_line": 6,
      "content_hash": "4f15189a2c373745b44278c65048ebd7065e4be6",
      "content": "    proto: HTTP/1.1",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.request.proto_major_7": {
      "name": "interactions.request.proto_major",
      "type": "key",
      "start_line": 7,
      "end_line": 7,
      "content_hash": "f2f1325c618d40c5ac4e3b50103d2bac1fa60944",
      "content": "    proto_major: 1",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.request.proto_minor_8": {
      "name": "interactions.request.proto_minor",
      "type": "key",
      "start_line": 8,
      "end_line": 8,
      "content_hash": "46c1f953ee9e3eb941910791258441c65f0997ff",
      "content": "    proto_minor: 1",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.request.content_length_9": {
      "name": "interactions.request.content_length",
      "type": "key",
      "start_line": 9,
      "end_line": 9,
      "content_hash": "8f67673d09957083c1a007cf04d9d9ae756037fb",
      "content": "    content_length: 33782",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.request.host_10": {
      "name": "interactions.request.host",
      "type": "key",
      "start_line": 10,
      "end_line": 10,
      "content_hash": "ee56731b23b9ab5fb212dbe499d36aae96aa781f",
      "content": "    host: \"\"",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.request.body_11": {
      "name": "interactions.request.body",
      "type": "key",
      "start_line": 11,
      "end_line": 11,
      "content_hash": "4e98f496b5c29544390c7bf71bc60fbdd8ecf2aa",
      "content": "    body: \"{\\\"messages\\\":[{\\\"content\\\":\\\"## CRITICAL: TOOL CALL FORMAT (READ THIS FIRST)\\\\n**ALWAYS use EXACT OpenAI JSON format for tools. NEVER use &lt;tool_call&gt; tags:**\\\\n\\\\n```\\\\n{\\\\n  \\\\\\\"tool_calls\\\\\\\": [{\\\\n    \\\\\\\"id\\\\\\\": \\\\\\\"call_abc123\\\\\\\",\\\\n    \\\\\\\"type\\\\\\\": \\\\\\\"function\\\\\\\",\\\\n    \\\\\\\"function\\\\\\\": {\\\\n      \\\\\\\"name\\\\\\\": \\\\\\\"view\\\\\\\",\\\\n      \\\\\\\"arguments\\\\\\\": \\\\\\\"{\\\\\\\\\\\\\\\"file_path\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"/home/nexora/todo.md\\\\\\\\\\\\\\\"}\\\\\\\"\\\\n    }\\\\n  }]\\\\n}\\\\n```\\\\n\\\\n**Penalty for wrong format: Your response will be ignored!**\\\\n\\\\n## Core Rules\\\\n1. **Read before editing** - Always view files first, match exact formatting\\\\n2. **Be autonomous** - Search, decide, act without asking. Break complex tasks into steps.\\\\n3. **Infer intent** - Don't be literal. If a file isn't found, search for similar names (case variations, typos). If a task seems incomplete, complete it fully.\\\\n4. **Test changes** - Run tests immediately after modifications\\\\n5. **Be concise** - Keep responses under 4 lines unless explaining complex changes\\\\n6. **Exact matches** - Whitespace, indentation, line breaks must match perfectly for edits\\\\n7. **Never commit** - Unless explicitly asked\\\\n8. **Security first** - Only assist with defensive security tasks\\\\n\\\\n## Inference Examples\\\\n- User says \\\\\\\"read TODO.md\\\\\\\" but it doesn't exist \u2192 Search for `todo.md`, `TODO`, `Todo.md`\\\\n- User says \\\\\\\"fix the bug\\\\\\\" \u2192 Search for error patterns, recent changes, test failures\\\\n- User says \\\\\\\"add tests\\\\\\\" \u2192 Look at existing test patterns, create comprehensive tests\\\\n- File not found \u2192 Try case variations, partial matches, ask glob/grep to find it\\\\n\\\\n## Workflow\\\\n**Before acting**: Search \u2192 Read files \u2192 Identify changes \u2192 Edit \u2192 Test\\\\n**While acting**: Read entire file first, use exact text, include 3-5 lines context, test after each change\\\\n**Before finishing**: Verify task complete, run tests, keep response concise\\\\n\\\\n## Editing Files\\\\n**Critical Requirements**:\\\\n- Exact character-by-character matching\\\\n- Include 3-5 surrounding lines for reliable context\\\\n- Verify uniqueness (or use replace_all=true)\\\\n\\\\n**Understanding the 100 Line Limitation**:\\\\n- `view` tool shows 100 lines at a time: \\\\\\\"showing lines 1-100 of 200 total\\\\\\\"\\\\n- Use `view` with `offset` parameter: `view file_path=\\\\\\\"/path\\\\\\\" offset=100`\\\\n- Your edits MUST exist in the file, not just in visible 100-line chunk\\\\n\\\\n**Common Failures**:\\\\n- Wrong indentation: 2 spaces vs 4 spaces\\\\n- Missing blank lines: 1 newline vs 2 newlines\\\\n- Comment spacing: \\\\\\\"// comment\\\\\\\" vs \\\\\\\"//comment\\\\\\\"\\\\n\\\\n**Tab/Display Issues**:\\\\n- VIEW shows tabs as `\u2192\\\\t\\\\\\\\t` but EDIT needs actual `\\\\\\\\t`\\\\n- Always use `ai_mode=true` (default) to auto-fix this\\\\n\\\\n**Recovery Steps**:\\\\n1. View file with more context\\\\n2. Use `offset` if target outside current window\\\\n3. Use `grep -n \\\\\\\"pattern\\\\\\\" file` to find line numbers\\\\n4. Fallback: Use `write` tool for full file replacement\\\\n\\\\n## Tools\\\\n\\\\n### Available Tools\\\\n- `view`: Read files with line numbers (100 lines at a time - use offset!)\\\\n- `edit`: Replace text exactly (whitespace-sensitive, ai_mode=true by default)\\\\n- `bash`: Execute commands\\\\n- `grep`: Search file contents\\\\n- `glob`: Find files by pattern\\\\n- `write`: Create/update entire files\\\\n\\\\n### When to use each\\\\n- **View**: Always first to understand file contents\\\\n- **Edit**: For precise, targeted changes\\\\n- **Write**: When exact matching fails or for large changes\\\\n- **Bash**: For command execution\\\\n- **Grep**: For finding text in files\\\\n- **Glob**: For finding files by name pattern\\\\n\\\\n### When something fails\\\\n- **File not found in view** \u2192 Use `offset=100`, `offset=200` to navigate\\\\n- **Edit fails** \u2192 View file again, copy exact text, use `write` as fallback\\\\n- **Command fails** \u2192 Read error, try alternative approach\\\\n- **Pattern not visible** \u2192 Use `grep` to find line numbers, then view with offset\\\\n\\\\n## Testing\\\\n- Run relevant tests after every change\\\\n- Fix failures immediately\\\\n- Never leave code in broken state\\\\n\\\\n## Decision Making\\\\n**Be proactive**: Don't just report problems, solve them.\\\\n**Autonomous decisions**: Search for answers, read patterns, make reasonable assumptions\\\\n**Only ask user if**: Truly ambiguous requirements, potential data loss, or actually blocked after trying alternatives\\\\n\\\\n## Error Handling\\\\n1. Read complete error message\\\\n2. Understand root cause\\\\n3. Try different approach (don't repeat same failure)\\\\n4. Search for similar working code\\\\n5. Make targeted fix\\\\n6. Test to verify\\\\n\\\\n## Project Specifics\\\\n\\\\n\\\\n\\\\n## Environment\\\\nDate/Time: 2025-01-01 00:00:00 UTC\\\\nOS: linux (amd64)\\\\nCurrent User: agent\\\\nWorking Directory: /tmp/nexora-test/TestCoderAgent/openrouter-kimi-k2/bash_tool\\\\n\\\\nGit Repo: no\\\\n\\\\nInstalled Runtimes:\\\\n- Python: Python 3.13.7\\\\n- Node.js: v25.2.1\\\\n- Go: go1.25.5\\\\n- Shell: bash (mvdan/sh)\\\\n\\\\nSystem Resources:\\\\n- Memory: 31Gi total, 23Gi available\\\\n- Disk: 16G total, 15G free\\\\n\\\\nTerminal: color, 80x24, interactive\\\\nNetwork: online\\\\nActive Services: \\\\n\\\\n## Nexora System Settings\\\\nNexora client system settings are stored in `~/.local/share/nexora`. This directory contains two important files:\\\\n\\\\n1. **`nexora.db`** - SQLite database containing session history, configuration settings, and conversation state\\\\n2. **`mcp.json`** - JSON configuration file for MCP (Model Context Protocol) settings and server configurations\\\\n\\\\nMCP-related files and configurations are stored in the `mcp.json` file, which defines available MCP servers and their connection parameters.\\\\n\\\\n\\\\n\\\\n\\\",\\\"role\\\":\\\"system\\\",\\\"cache_control\\\":{\\\"type\\\":\\\"ephemeral\\\"}},{\\\"content\\\":\\\"use bash to create a file named test.txt with content 'hello bash'. do not print its timestamp\\\",\\\"role\\\":\\\"user\\\",\\\"cache_control\\\":{\\\"type\\\":\\\"ephemeral\\\"}}],\\\"model\\\":\\\"moonshotai/kimi-k2-0905\\\",\\\"max_tokens\\\":10000,\\\"stream_options\\\":{\\\"include_usage\\\":true},\\\"tool_choice\\\":\\\"auto\\\",\\\"tools\\\":[{\\\"function\\\":{\\\"name\\\":\\\"bash\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Executes bash commands with automatic background conversion for long-running tasks.\\\\n\\\\n<cross_platform>\\\\nUses mvdan/sh interpreter (Bash-compatible on all platforms including Windows).\\\\nUse forward slashes for paths: \\\\\\\"ls C:/foo/bar\\\\\\\" not \\\\\\\"ls C:\\\\\\\\foo\\\\\\\\bar\\\\\\\".\\\\n</cross_platform>\\\\n\\\\n<execution_steps>\\\\n1. Directory Verification: Use LS tool to verify parent exists before creating files\\\\n2. Security Check: No restrictions - explain to user. Safe read-only commands execute without prompts\\\\n3. Command Execution: Execute with proper quoting, capture output\\\\n4. Auto-Background: Commands >1 minute automatically move to background, return shell ID\\\\n5. Output Processing: Truncate if exceeds 30000 characters\\\\n6. Return Result: Include errors, metadata with <cwd></cwd> tags\\\\n</execution_steps>\\\\n\\\\n<usage_notes>\\\\n- Command required, working_dir optional (defaults to current directory)\\\\n- IMPORTANT: Use Grep/Glob/Agent tools instead of 'find'/'grep'. Use View/LS instead of 'cat'/'head'/'tail'/'ls'\\\\n- Chain with ';' or '&&', avoid newlines except in quoted strings\\\\n- Each command runs in independent shell (no state persistence)\\\\n- Prefer absolute paths over 'cd'\\\\n</usage_notes>\\\\n\\\\n<background_execution>\\\\n- Set run_in_background=true for separate background shell\\\\n- Returns shell ID for management\\\\n- Use job_output tool to view output, job_kill to terminate\\\\n- NEVER use `&` at end of commands - use run_in_background parameter\\\\n- Background: Long servers (npm start, python -m http.server), watch tasks, continuous processes\\\\n- Foreground: Builds, tests, git ops, file ops, short scripts\\\\n</background_execution>\\\\n\\\\n<git_commits>\\\\nWhen user asks to create git commit:\\\\n\\\\n1. Run: git status, git diff, git log (single message, three tool_use blocks)\\\\n2. Add relevant untracked files to staging\\\\n3. Analyze in <commit_analysis> tags:\\\\n   - List changed files, summarize nature (feature/bug fix/refactor/docs)\\\\n   - Draft concise (1-2 sentences) focusing on \\\\\\\"why\\\\\\\" not \\\\\\\"what\\\\\\\"\\\\n   - Use accurate verbs: \\\\\\\"add\\\\\\\"=new feature, \\\\\\\"update\\\\\\\"=enhancement, \\\\\\\"fix\\\\\\\"=bug\\\\n4. Create commit with attribution:\\\\n   ```bash\\\\n   git commit -m \\\\\\\"$(cat &lt;&lt;'EOF'\\\\n   Commit message here.\\\\n\\\\n   \\U0001F498 Generated with Crush\\\\n\\\\n\\\\n   Co-Authored-By: Crush <crush@charm.land>\\\\n\\\\n   EOF\\\\n   )\\\\\\\"\\\\n   ```\\\\n5. If pre-commit hook fails, retry ONCE. If succeeds but files modified, MUST amend.\\\\n6. Run git status to verify.\\\\n\\\\nNotes: Use \\\\\\\"git commit -am\\\\\\\" when possible, don't stage unrelated files, NEVER update config, don't push, no empty commits.\\\\n</git_commits>\\\\n\\\\n<pull_requests>\\\\nWhen user asks to create PR:\\\\n\\\\n1. Run: git status, git diff, check remote tracking, git log and 'git diff main...HEAD'\\\\n2. Create branch if needed, commit if needed, push with -u if needed\\\\n3. Analyze in <pr_analysis> tags:\\\\n   - List commits since main divergence\\\\n   - Summarize changes, purpose/motivation\\\\n   - Draft concise (1-2 bullets) focusing on \\\\\\\"why\\\\\\\"\\\\n4. Create PR:\\\\n   ```bash\\\\n   gh pr create --title \\\\\\\"title\\\\\\\" --body \\\\\\\"$(cat &lt;&lt;'EOF'\\\\n   ## Summary\\\\n   &lt;1-3 bullet points>\\\\n   \\\\n   ## Test plan\\\\n   [Checklist...]\\\\n\\\\n   \\U0001F498 Generated with Crush\\\\n\\\\n   EOF\\\\n   )\\\\\\\"\\\\n   ```\\\\n\\\\nImportant: Return empty response, never update git config\\\\n</pull_requests>\\\\n\\\\n<examples>\\\\nGood: pytest /foo/bar/tests\\\\nBad: cd /foo/bar && pytest tests\\\\n</examples>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"command\\\":{\\\"description\\\":\\\"The command to execute\\\",\\\"type\\\":\\\"string\\\"},\\\"description\\\":{\\\"description\\\":\\\"A brief description of what the command does, try to keep it under 30 characters or so\\\",\\\"type\\\":\\\"string\\\"},\\\"run_in_background\\\":{\\\"description\\\":\\\"Set to true (boolean) to run this command in the background. Use job_output to read the output later.\\\",\\\"type\\\":\\\"boolean\\\"},\\\"working_dir\\\":{\\\"description\\\":\\\"The working directory to execute the command in (defaults to current directory)\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"description\\\",\\\"command\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"download\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Downloads binary data from URL and saves to local file.\\\\n\\\\n<usage>\\\\n- Provide URL to download from\\\\n- Specify local file path where content should be saved\\\\n- Optional timeout for request\\\\n</usage>\\\\n\\\\n<features>\\\\n- Downloads any file type (binary or text)\\\\n- Auto-creates parent directories if missing\\\\n- Handles large files efficiently with streaming\\\\n- Sets reasonable timeouts to prevent hanging\\\\n- Validates input parameters before requests\\\\n</features>\\\\n\\\\n<limitations>\\\\n- Max file size: 100MB\\\\n- Only supports HTTP and HTTPS protocols\\\\n- Cannot handle authentication or cookies\\\\n- Some websites may block automated requests\\\\n- Will overwrite existing files without warning\\\\n</limitations>\\\\n\\\\n<tips>\\\\n- Use absolute paths or paths relative to working directory\\\\n- Set appropriate timeouts for large files or slow connections\\\\n</tips>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"file_path\\\":{\\\"description\\\":\\\"The local file path where the downloaded content should be saved\\\",\\\"type\\\":\\\"string\\\"},\\\"timeout\\\":{\\\"description\\\":\\\"Optional timeout in seconds (max 600)\\\",\\\"type\\\":\\\"integer\\\"},\\\"url\\\":{\\\"description\\\":\\\"The URL to download from\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"url\\\",\\\"file_path\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"edit\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Edits files by replacing text, creating new files, or deleting content. For moving/renaming use Bash 'mv'. For large edits use Write tool.\\\\n\\\\n**Quick Decision Tree:**\\\\n1. **Know exact line numbers?** \u2192 Use `smart_edit` tool (100% reliable)\\\\n2. **Edit failed once?** \u2192 Use `write` tool immediately\\\\n3. **First time editing?** \u2192 Enable ai_mode=true\\\\n\\\\n<prerequisites>\\\\n1. **NEVER copy from view tool output** - has visual tab indicators (\u2192\\\\t) causing failures\\\\n2. Use `sed -n 'START,ENDp' file` or `grep -A5 -B5 pattern file` for EXACT text\\\\n3. For new files: Use LS tool to verify parent directory exists\\\\n4. If you can't extract exact text, use `smart_edit` with line numbers\\\\n</prerequisites>\\\\n\\\\n<parameters>\\\\n1. file_path: Absolute path to file (required)\\\\n2. old_string: Text to replace (exact match including whitespace/indentation)\\\\n3. new_string: Replacement text\\\\n4. replace_all: Replace all occurrences (default false)\\\\n</parameters>\\\\n\\\\n<special_cases>\\\\n- Create file: provide file_path + new_string, leave old_string empty\\\\n- Delete content: provide file_path + old_string, leave new_string empty\\\\n</special_cases>\\\\n\\\\n<critical_requirements>\\\\n**EXACT MATCHING**: Text must match character-for-character\\\\n- Every space, tab, blank line, newline, indentation level\\\\n- Comment spacing (`// comment` vs `//comment`)\\\\n- Brace positioning (`func() {` vs `func(){`)\\\\n\\\\n**UNIQUENESS**: old_string MUST uniquely identify target (when replace_all=false)\\\\n- Include 3-5 lines context before/after change point\\\\n- If text appears multiple times, add more context or use replace_all=true\\\\n\\\\n**VERIFICATION BEFORE USING**:\\\\n1. View file and locate exact target\\\\n2. Check how many instances exist\\\\n3. Copy EXACT text including whitespace\\\\n4. Verify enough context for unique identification\\\\n5. Double-check indentation (count spaces/tabs)\\\\n</critical_requirements>\\\\n\\\\n<warnings>\\\\nTool fails if:\\\\n- old_string matches multiple locations and replace_all=false\\\\n- Whitespace doesn't match exactly\\\\n- Indentation off by even one space\\\\n- Missing or extra blank lines\\\\n</warnings>\\\\n\\\\n<recovery_steps>\\\\nIf \\\\\\\"old_string not found\\\\\\\":\\\\n\\\\n**\\U0001F6D1 DON'T RETRY - Use alternatives:**\\\\n1. `smart_edit` with line numbers (100% reliable)\\\\n2. Extract exact text: `sed -n '10,20p' file`\\\\n3. Use `write` tool for full file replacement\\\\n\\\\n**\u274c DON'T:**\\\\n- Retry with \\\\\\\"adjusted\\\\\\\" whitespace\\\\n- Copy from view output (has artifacts)\\\\n- Guess at whitespace\\\\n\\\\n**\u2705 DO:**\\\\n- Use `smart_edit` (line numbers)\\\\n- Use `sed -n 'X,Yp' file` for exact text\\\\n- Use `write` if edit fails once\\\\n</recovery_steps>\\\\n\\\\n<best_practices>\\\\n- View file first, match exact formatting\\\\n- Use absolute paths with forward slashes (/)\\\\n- Multiple edits to same file: send all in single message\\\\n- Include MORE context when uncertain\\\\n- Match existing code style exactly\\\\n</best_practices>\\\\n\\\\n<examples>\\\\n\u2705 **Correct**: Exact match with context\\\\n```\\\\nold_string: \\\\\\\"func ProcessData(input string) error {\\\\\\\\n    if input == \\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\" {\\\\\\\\n        return errors.New(\\\\\\\\\\\\\\\"empty input\\\\\\\\\\\\\\\")\\\\\\\\n    }\\\\\\\\n    return nil\\\\\\\\n}\\\\\\\"\\\\nnew_string: \\\\\\\"func ProcessData(input string) error {\\\\\\\\n    if input == \\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\" {\\\\\\\\n        return errors.New(\\\\\\\\\\\\\\\"empty input\\\\\\\\\\\\\\\")\\\\\\\\n    }\\\\\\\\n    if len(input) > 1000 {\\\\\\\\n        return errors.New(\\\\\\\\\\\\\\\"input too long\\\\\\\\\\\\\\\")\\\\\\\\n    }\\\\\\\\n    return nil\\\\\\\\n}\\\\\\\"\\\\n```\\\\n\\\\n\u274c **Incorrect**: Not enough context\\\\n```\\\\nold_string: \\\\\\\"return nil\\\\\\\"  // Appears many times!\\\\n```\\\\n\\\\n\u274c **Incorrect**: Wrong indentation\\\\n```\\\\nold_string: \\\\\\\"  if input == \\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\" {\\\\\\\"  // 2 spaces\\\\n// File actually has: \\\\\\\"    if input == \\\\\\\\\\\\\\\"\\\\\\\\\\\\\\\" {\\\\\\\"  // 4 spaces\\\\n```\\\\n</examples>\\\\n\\\\n## AI Mode\\\\nUse `ai_mode=true` (default) for automatic fixes:\\\\n- Converts VIEW tool display tabs (`\u2192\\\\\\\\t`) to real tabs (`\\\\\\\\t`)\\\\n- Expands minimal context automatically\\\\n- Enhanced error messages\\\\n- Lower failure rate on whitespace issues\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"ai_mode\\\":{\\\"description\\\":\\\"Enable AI-optimized editing with automatic context expansion and improved error handling (DEFAULT: true)\\\",\\\"type\\\":\\\"boolean\\\"},\\\"file_path\\\":{\\\"description\\\":\\\"The absolute path to the file to modify\\\",\\\"type\\\":\\\"string\\\"},\\\"new_string\\\":{\\\"description\\\":\\\"The text to replace it with\\\",\\\"type\\\":\\\"string\\\"},\\\"old_string\\\":{\\\"description\\\":\\\"The text to replace\\\",\\\"type\\\":\\\"string\\\"},\\\"replace_all\\\":{\\\"description\\\":\\\"Replace all occurrences of old_string (default false)\\\",\\\"type\\\":\\\"boolean\\\"}},\\\"required\\\":[\\\"file_path\\\",\\\"old_string\\\",\\\"new_string\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"multiedit\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Makes multiple edits to a single file in one operation. Built on Edit tool for efficient multiple find-and-replace. Prefer over Edit tool for multiple edits to same file.\\\\n\\\\n<prerequisites>\\\\n1. Use View tool to understand file contents\\\\n2. Verify directory path is correct\\\\n3. CRITICAL: Note exact whitespace, indentation from View output\\\\n</prerequisites>\\\\n\\\\n<parameters>\\\\n1. file_path: Absolute path to file (required)\\\\n2. edits: Array of edit objects (MUST be array, not string!):\\\\n   - old_string: Text to replace (exact match including whitespace)\\\\n   - new_string: Replacement text\\\\n   - replace_all: Replace all occurrences (optional, default false)\\\\n   \\\\n   \u2705 CORRECT: `\\\\\\\"edits\\\\\\\": [{\\\\\\\"old_string\\\\\\\": \\\\\\\"text1\\\\\\\", \\\\\\\"new_string\\\\\\\": \\\\\\\"replace1\\\\\\\"}]`\\\\n   \u274c INCORRECT: `\\\\\\\"edits\\\\\\\": \\\\\\\"[{\\\\\\\\\\\\\\\"old_string\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"text1\\\\\\\\\\\\\\\"}]\\\\\\\"` (string, not array)\\\\n</parameters>\\\\n\\\\n<operation>\\\\n- Edits applied sequentially in order\\\\n- Each edit operates on result of previous edit\\\\n- PARTIAL SUCCESS: Failed edits returned, successful edits kept\\\\n- File modified if at least one edit succeeds\\\\n</operation>\\\\n\\\\n<inherited_rules>\\\\n**All Edit tool rules apply to each edit:**\\\\n- See edit.md for critical requirements, warnings, recovery steps\\\\n- Exact matching for whitespace, indentation, blank lines\\\\n- Uniqueness requirements (3-5 lines context)\\\\n- Verification checklist before using\\\\n- Use ai_mode=true (default) for tab handling\\\\n</inherited_rules>\\\\n\\\\n<critical_requirements>\\\\n1. Apply Edit tool rules to EACH edit (see edit.md)\\\\n2. Edits applied in order; successful edits kept if later edits fail\\\\n3. Plan sequence: earlier edits change content that later edits must match\\\\n4. Ensure each old_string unique at application time (after prior edits)\\\\n5. Check response for failed edits, retry with corrections\\\\n</critical_requirements>\\\\n\\\\n<verification_before_using>\\\\n1. View file, copy exact text (including whitespace) for each target\\\\n2. Check instances of each old_string BEFORE sequence\\\\n3. Dry-run: after edit #N, will edit #N+1 still match?\\\\n4. Prefer fewer, larger context blocks over many tiny fragments\\\\n5. If edits independent, consider separate multiedit batches\\\\n</verification_before_using>\\\\n\\\\n<warnings>\\\\n- Check response for failed edits\\\\n- Earlier edits invalidate later matches (added/removed spaces, lines)\\\\n- Mixed tabs/spaces, trailing spaces cause failures\\\\n- replace_all may affect unintended regions\\\\n</warnings>\\\\n\\\\n<recovery_steps>\\\\nIf edits fail:\\\\n1. Check response metadata for failed edits with errors\\\\n2. View file to see current state after successful edits\\\\n3. Adjust failed edits based on new content\\\\n4. Retry with corrected old_string values\\\\n5. Break complex batches into smaller operations\\\\n</recovery_steps>\\\\n\\\\n<best_practices>\\\\n- Result in correct, idiomatic code\\\\n- Use absolute file paths (/)\\\\n- Use replace_all only when certain\\\\n- Match existing style exactly\\\\n- Review failed edits, retry with corrections\\\\n</best_practices>\\\\n\\\\n<examples>\\\\n\u2705 **Correct**: Sequential edits accounting for changes\\\\n```\\\\nedits: [\\\\n  {\\\\n    old_string: \\\\\\\"func A() {\\\\\\\\n    doOld()\\\\\\\\n}\\\\\\\",\\\\n    new_string: \\\\\\\"func A() {\\\\\\\\n    doNew()\\\\\\\\n}\\\\\\\",\\\\n  },\\\\n  {\\\\n    // Context exists AFTER first replacement\\\\n    old_string: \\\\\\\"func B() {\\\\\\\\n    callA()\\\\\\\\n}\\\\\\\",\\\\n    new_string: \\\\\\\"func B() {\\\\\\\\n    callA()\\\\\\\\n    logChange()\\\\\\\\n}\\\\\\\",\\\\n  },\\\\n]\\\\n```\\\\n\\\\n\u274c **Incorrect**: Second old_string no longer matches\\\\n```\\\\nedits: [\\\\n  {\\\\n    old_string: \\\\\\\"func A() {\\\\\\\\n    doOld()\\\\\\\\n}\\\\\\\",\\\\n    new_string: \\\\\\\"func A() {\\\\\\\\n\\\\\\\\n    doNew()\\\\\\\\n}\\\\\\\", // Added blank line\\\\n  },\\\\n  {\\\\n    old_string: \\\\\\\"func A() {\\\\\\\\n    doNew()\\\\\\\\n}\\\\\\\", // Missing blank line - FAILS\\\\n    new_string: \\\\\\\"func A() {\\\\\\\\n    doNew()\\\\\\\\n    logChange()\\\\\\\\n}\\\\\\\",\\\\n  },\\\\n]\\\\n```\\\\n</examples>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"edits\\\":{\\\"description\\\":\\\"Array of edit operations to perform sequentially on the file\\\",\\\"items\\\":{\\\"properties\\\":{\\\"new_string\\\":{\\\"description\\\":\\\"The text to replace it with\\\",\\\"type\\\":\\\"string\\\"},\\\"old_string\\\":{\\\"description\\\":\\\"The text to replace\\\",\\\"type\\\":\\\"string\\\"},\\\"replace_all\\\":{\\\"description\\\":\\\"Replace all occurrences of old_string (default false).\\\",\\\"type\\\":\\\"boolean\\\"}},\\\"required\\\":[\\\"old_string\\\",\\\"new_string\\\"],\\\"type\\\":\\\"object\\\"},\\\"type\\\":\\\"array\\\"},\\\"file_path\\\":{\\\"description\\\":\\\"The absolute path to the file to modify\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"file_path\\\",\\\"edits\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"fetch\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Fetches raw content from URL and returns it in specified format without any AI processing.\\\\n\\\\n<when_to_use>\\\\nUse this tool when you need:\\\\n- Raw, unprocessed content from a URL\\\\n- Direct access to API responses or JSON data\\\\n- HTML/text/markdown content without interpretation\\\\n- Simple, fast content retrieval without analysis\\\\n- To save tokens by avoiding AI processing\\\\n\\\\nDO NOT use this tool when you need to:\\\\n- Extract specific information from a webpage (use agentic_fetch instead)\\\\n- Answer questions about web content (use agentic_fetch instead)\\\\n- Analyze or summarize web pages (use agentic_fetch instead)\\\\n</when_to_use>\\\\n\\\\n<usage>\\\\n- Provide URL to fetch content from\\\\n- Specify desired output format (text, markdown, or html)\\\\n- Optional timeout for request\\\\n</usage>\\\\n\\\\n<features>\\\\n- Supports three output formats: text, markdown, html\\\\n- Auto-handles HTTP redirects\\\\n- Fast and lightweight - no AI processing\\\\n- Sets reasonable timeouts to prevent hanging\\\\n- Validates input parameters before requests\\\\n</features>\\\\n\\\\n<limitations>\\\\n- Max response size: 5MB\\\\n- Only supports HTTP and HTTPS protocols\\\\n- Cannot handle authentication or cookies\\\\n- Some websites may block automated requests\\\\n- Returns raw content only - no analysis or extraction\\\\n</limitations>\\\\n\\\\n<tips>\\\\n- Use text format for plain text content or simple API responses\\\\n- Use markdown format for content that should be rendered with formatting\\\\n- Use html format when you need raw HTML structure\\\\n- Set appropriate timeouts for potentially slow websites\\\\n- If the user asks to analyze or extract from a page, use agentic_fetch instead\\\\n</tips>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"format\\\":{\\\"description\\\":\\\"The format to return the content in (text, markdown, or html)\\\",\\\"type\\\":\\\"string\\\"},\\\"timeout\\\":{\\\"description\\\":\\\"Optional timeout in seconds (max 120)\\\",\\\"type\\\":\\\"integer\\\"},\\\"url\\\":{\\\"description\\\":\\\"The URL to fetch content from\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"url\\\",\\\"format\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"glob\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Fast file pattern matching tool that finds files by name/pattern, returning paths sorted by modification time (newest first).\\\\n\\\\n<usage>\\\\n- Provide glob pattern to match against file paths\\\\n- Optional starting directory (defaults to current working directory)\\\\n- Results sorted with most recently modified files first\\\\n</usage>\\\\n\\\\n<pattern_syntax>\\\\n- '\\\\\\\\*' matches any sequence of non-separator characters\\\\n- '\\\\\\\\*\\\\\\\\*' matches any sequence including separators\\\\n- '?' matches any single non-separator character\\\\n- '[...]' matches any character in brackets\\\\n- '[!...]' matches any character not in brackets\\\\n</pattern_syntax>\\\\n\\\\n<examples>\\\\n- '*.js' - JavaScript files in current directory\\\\n- '**/*.js' - JavaScript files in any subdirectory\\\\n- 'src/**/*.{ts,tsx}' - TypeScript files in src directory\\\\n- '*.{html,css,js}' - HTML, CSS, and JS files\\\\n</examples>\\\\n\\\\n<limitations>\\\\n- Results limited to 100 files (newest first)\\\\n- Does not search file contents (use Grep for that)\\\\n- Hidden files (starting with '.') skipped\\\\n</limitations>\\\\n\\\\n<cross_platform>\\\\n- Path separators handled automatically (/ and \\\\\\\\ work)\\\\n- Uses ripgrep (rg) if available, otherwise Go implementation\\\\n- Patterns should use forward slashes (/) for compatibility\\\\n</cross_platform>\\\\n\\\\n<tips>\\\\n- Combine with Grep: find files with Glob, search contents with Grep\\\\n- For iterative exploration requiring multiple searches, consider Agent tool\\\\n- Check if results truncated and refine pattern if needed\\\\n</tips>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"path\\\":{\\\"description\\\":\\\"The directory to search in. Defaults to the current working directory.\\\",\\\"type\\\":\\\"string\\\"},\\\"pattern\\\":{\\\"description\\\":\\\"The glob pattern to match files against\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"pattern\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"grep\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Fast content search tool that finds files containing specific text/patterns, returning matching paths sorted by modification time (newest first).\\\\n\\\\n<usage>\\\\n- Provide regex pattern to search within file contents\\\\n- Set literal_text=true for exact text with special characters (recommended for non-regex users)\\\\n- Optional starting directory (defaults to current working directory)\\\\n- Optional include pattern to filter which files to search\\\\n- Results sorted with most recently modified files first\\\\n</usage>\\\\n\\\\n<regex_syntax>\\\\nWhen literal_text=false (supports standard regex):\\\\n\\\\n- 'function' searches for literal text \\\\\\\"function\\\\\\\"\\\\n- 'log\\\\\\\\..\\\\\\\\*Error' finds text starting with \\\\\\\"log.\\\\\\\" and ending with \\\\\\\"Error\\\\\\\"\\\\n- 'import\\\\\\\\s+.\\\\\\\\*\\\\\\\\s+from' finds import statements in JavaScript/TypeScript\\\\n</regex_syntax>\\\\n\\\\n<include_patterns>\\\\n- '\\\\\\\\*.js' - Only search JavaScript files\\\\n- '\\\\\\\\*.{ts,tsx}' - Only search TypeScript files\\\\n- '\\\\\\\\*.go' - Only search Go files\\\\n</include_patterns>\\\\n\\\\n<limitations>\\\\n- Results limited to 100 files (newest first)\\\\n- Performance depends on number of files searched\\\\n- Very large binary files may be skipped\\\\n- Hidden files (starting with '.') skipped\\\\n</limitations>\\\\n\\\\n<ignore_support>\\\\n- Respects .gitignore patterns to skip ignored files/directories\\\\n- Respects .nexoraignore patterns for additional ignore rules\\\\n- Both ignore files auto-detected in search root directory\\\\n</ignore_support>\\\\n\\\\n<cross_platform>\\\\n- Uses ripgrep (rg) if available for better performance\\\\n- Falls back to Go implementation if ripgrep unavailable\\\\n- File paths normalized automatically for compatibility\\\\n</cross_platform>\\\\n\\\\n<tips>\\\\n- For faster searches: use Glob to find relevant files first, then Grep\\\\n- For iterative exploration requiring multiple searches, consider Agent tool\\\\n- Check if results truncated and refine search pattern if needed\\\\n- Use literal_text=true for exact text with special characters (dots, parentheses, etc.)\\\\n</tips>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"include\\\":{\\\"description\\\":\\\"File pattern to include in the search (e.g. \\\\\\\"*.js\\\\\\\", \\\\\\\"*.{ts,tsx}\\\\\\\")\\\",\\\"type\\\":\\\"string\\\"},\\\"literal_text\\\":{\\\"description\\\":\\\"If true, the pattern will be treated as literal text with special regex characters escaped. Default is false.\\\",\\\"type\\\":\\\"boolean\\\"},\\\"path\\\":{\\\"description\\\":\\\"The directory to search in. Defaults to the current working directory.\\\",\\\"type\\\":\\\"string\\\"},\\\"pattern\\\":{\\\"description\\\":\\\"The regex pattern to search for in file contents\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"pattern\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"ls\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Shows files and subdirectories in tree structure for exploring project organization.\\\\n\\\\n<usage>\\\\n- Provide path to list (defaults to current working directory)\\\\n- Optional glob patterns to ignore\\\\n- Results displayed in tree structure\\\\n</usage>\\\\n\\\\n<features>\\\\n- Hierarchical view of files and directories\\\\n- Auto-skips hidden files/directories (starting with '.')\\\\n- Skips common system directories like __pycache__\\\\n- Can filter files matching specific patterns\\\\n</features>\\\\n\\\\n<limitations>\\\\n- Results limited to 1000 files\\\\n- Large directories truncated\\\\n- No file sizes or permissions shown\\\\n- Cannot recursively list all directories in large projects\\\\n</limitations>\\\\n\\\\n<cross_platform>\\\\n- Hidden file detection uses Unix convention (files starting with '.')\\\\n- Windows hidden files (with hidden attribute) not auto-skipped\\\\n- Common Windows directories (System32, Program Files) not in default ignore\\\\n- Path separators handled automatically (/ and \\\\\\\\ work)\\\\n</cross_platform>\\\\n\\\\n<tips>\\\\n- Use Glob for finding files by name patterns instead of browsing\\\\n- Use Grep for searching file contents\\\\n- Combine with other tools for effective exploration\\\\n</tips>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"depth\\\":{\\\"description\\\":\\\"The maximum depth to traverse\\\",\\\"type\\\":\\\"integer\\\"},\\\"ignore\\\":{\\\"description\\\":\\\"List of glob patterns to ignore\\\",\\\"items\\\":{\\\"type\\\":\\\"string\\\"},\\\"type\\\":\\\"array\\\"},\\\"path\\\":{\\\"description\\\":\\\"The path to the directory to list (defaults to current working directory)\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"sourcegraph\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Search code across public repositories using Sourcegraph's GraphQL API.\\\\n\\\\n<usage>\\\\n- Provide search query using Sourcegraph syntax\\\\n- Optional result count (default: 10, max: 20)\\\\n- Optional timeout for request\\\\n</usage>\\\\n\\\\n<basic_syntax>\\\\n- \\\\\\\"fmt.Println\\\\\\\" - exact matches\\\\n- \\\\\\\"file:.go fmt.Println\\\\\\\" - limit to Go files\\\\n- \\\\\\\"repo:^github\\\\\\\\.com/golang/go$ fmt.Println\\\\\\\" - specific repos\\\\n- \\\\\\\"lang:go fmt.Println\\\\\\\" - limit to Go code\\\\n- \\\\\\\"fmt.Println AND log.Fatal\\\\\\\" - combined terms\\\\n- \\\\\\\"fmt\\\\\\\\.(Print|Printf|Println)\\\\\\\" - regex patterns\\\\n- \\\\\\\"\\\\\\\\\\\\\\\"exact phrase\\\\\\\\\\\\\\\"\\\\\\\" - exact phrase matching\\\\n- \\\\\\\"-file:test\\\\\\\" or \\\\\\\"-repo:forks\\\\\\\" - exclude matches\\\\n</basic_syntax>\\\\n\\\\n<key_filters>\\\\nRepository: repo:name, repo:^exact$, repo:org/repo@branch, -repo:exclude, fork:yes, archived:yes, visibility:public\\\\nFile: file:\\\\\\\\.js$, file:internal/, -file:test, file:has.content(text)\\\\nContent: content:\\\\\\\"exact\\\\\\\", -content:\\\\\\\"unwanted\\\\\\\", case:yes\\\\nType: type:symbol, type:file, type:path, type:diff, type:commit\\\\nTime: after:\\\\\\\"1 month ago\\\\\\\", before:\\\\\\\"2023-01-01\\\\\\\", author:name, message:\\\\\\\"fix\\\\\\\"\\\\nResult: select:repo, select:file, select:content, count:100, timeout:30s\\\\n</key_filters>\\\\n\\\\n<examples>\\\\n- \\\\\\\"file:.go context.WithTimeout\\\\\\\" - Go code using context.WithTimeout\\\\n- \\\\\\\"lang:typescript useState type:symbol\\\\\\\" - TypeScript React useState hooks\\\\n- \\\\\\\"repo:^github\\\\\\\\.com/kubernetes/kubernetes$ pod list type:file\\\\\\\" - Kubernetes pod files\\\\n- \\\\\\\"file:Dockerfile (alpine OR ubuntu) -content:alpine:latest\\\\\\\" - Dockerfiles with base images\\\\n</examples>\\\\n\\\\n<boolean_operators>\\\\n- \\\\\\\"term1 AND term2\\\\\\\" - both terms\\\\n- \\\\\\\"term1 OR term2\\\\\\\" - either term\\\\n- \\\\\\\"term1 NOT term2\\\\\\\" - term1 but not term2\\\\n- \\\\\\\"term1 and (term2 or term3)\\\\\\\" - grouping with parentheses\\\\n</boolean_operators>\\\\n\\\\n<limitations>\\\\n- Only searches public repositories\\\\n- Rate limits may apply\\\\n- Complex queries take longer\\\\n- Max 20 results per query\\\\n</limitations>\\\\n\\\\n<tips>\\\\n- Use specific file extensions to narrow results\\\\n- Add repo: filters for targeted searches\\\\n- Use type:symbol for function/method definitions\\\\n- Use type:file to find relevant files\\\\n</tips>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"context_window\\\":{\\\"description\\\":\\\"The context around the match to return (default: 10 lines)\\\",\\\"type\\\":\\\"integer\\\"},\\\"count\\\":{\\\"description\\\":\\\"Optional number of results to return (default: 10, max: 20)\\\",\\\"type\\\":\\\"integer\\\"},\\\"query\\\":{\\\"description\\\":\\\"The Sourcegraph search query\\\",\\\"type\\\":\\\"string\\\"},\\\"timeout\\\":{\\\"description\\\":\\\"Optional timeout in seconds (max 120)\\\",\\\"type\\\":\\\"integer\\\"}},\\\"required\\\":[\\\"query\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"view\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Reads and displays file contents with line numbers for examining code, logs, or text data.\\\\n\\\\n<usage>\\\\n- Provide file path to read\\\\n- Optional offset: start reading from specific line (0-based)\\\\n- Optional limit: control lines read (default 100)\\\\n- Don't use for directories (use LS tool instead)\\\\n- Supports image files (PNG, JPEG, GIF, BMP, SVG, WebP)\\\\n</usage>\\\\n\\\\n<features>\\\\n- Displays contents with line numbers\\\\n- Can read from any file position using offset\\\\n- Handles large files by limiting lines read\\\\n- Auto-truncates very long lines for display\\\\n- Suggests similar filenames when file not found\\\\n- Renders image files directly in terminal\\\\n</features>\\\\n\\\\n<limitations>\\\\n- Max file size: 5MB\\\\n- Default limit: 100 lines (reduced to prevent context window issues)\\\\n- Lines >2000 chars truncated\\\\n- Binary files (except images) cannot be displayed\\\\n</limitations>\\\\n\\\\n<cross_platform>\\\\n- Handles Windows (CRLF) and Unix (LF) line endings\\\\n- Works with forward slashes (/) and backslashes (\\\\\\\\)\\\\n- Auto-detects text encoding for common formats\\\\n</cross_platform>\\\\n\\\\n<tips>\\\\n- Use with Glob to find files first\\\\n- For code exploration: Grep to find relevant files, then View to examine\\\\n- For large files: use offset and limit parameters for specific sections\\\\n- The tool uses smaller chunks (100 lines default) to manage context window efficiently\\\\n- For very large files, consider using 'head' or 'tail' commands via bash tool\\\\n- View tool automatically detects and renders image files\\\\n</tips>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"file_path\\\":{\\\"description\\\":\\\"The path to the file to read\\\",\\\"type\\\":\\\"string\\\"},\\\"limit\\\":{\\\"description\\\":\\\"The number of lines to read (defaults to 2000)\\\",\\\"type\\\":\\\"integer\\\"},\\\"offset\\\":{\\\"description\\\":\\\"The line number to start reading from (0-based)\\\",\\\"type\\\":\\\"integer\\\"}},\\\"required\\\":[\\\"file_path\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"},{\\\"function\\\":{\\\"name\\\":\\\"write\\\",\\\"strict\\\":false,\\\"description\\\":\\\"Creates or updates files in filesystem for saving/modifying text content.\\\\n\\\\n<usage>\\\\n- Provide file path to write\\\\n- Include content to write to file\\\\n- Tool creates necessary parent directories automatically\\\\n</usage>\\\\n\\\\n<features>\\\\n- Creates new files or overwrites existing ones\\\\n- Auto-creates parent directories if missing\\\\n- Checks if file modified since last read for safety\\\\n- Avoids unnecessary writes when content unchanged\\\\n</features>\\\\n\\\\n<limitations>\\\\n- Read file before writing to avoid conflicts\\\\n- Cannot append (rewrites entire file)\\\\n</limitations>\\\\n\\\\n<cross_platform>\\\\n- Use forward slashes (/) for compatibility\\\\n</cross_platform>\\\\n\\\\n<tips>\\\\n- Use View tool first to examine existing files before modifying\\\\n- Use LS tool to verify location when creating new files\\\\n- Combine with Glob/Grep to find and modify multiple files\\\\n- Include descriptive comments when changing existing code\\\\n</tips>\\\\n\\\",\\\"parameters\\\":{\\\"properties\\\":{\\\"content\\\":{\\\"description\\\":\\\"The content to write to the file\\\",\\\"type\\\":\\\"string\\\"},\\\"file_path\\\":{\\\"description\\\":\\\"The path to the file to write\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"file_path\\\",\\\"content\\\"],\\\"type\\\":\\\"object\\\"}},\\\"type\\\":\\\"function\\\"}],\\\"usage\\\":{\\\"include\\\":true},\\\"stream\\\":true}\"",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.request.headers_12": {
      "name": "interactions.request.headers",
      "type": "key",
      "start_line": 12,
      "end_line": 18,
      "content_hash": "5655efb763fe4d739812a32cc19e787326f62906",
      "content": "    headers:\n      Accept:\n      - application/json\n      Content-Type:\n      - application/json\n      User-Agent:\n      - OpenAI/Go 2.7.1",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.request.headers.Accept_13": {
      "name": "interactions.request.headers.Accept",
      "type": "key",
      "start_line": 13,
      "end_line": 14,
      "content_hash": "3f17ec0b2af2e7c80fc54581daf088192b3404a6",
      "content": "      Accept:\n      - application/json",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.request.headers.Content-Type_15": {
      "name": "interactions.request.headers.Content-Type",
      "type": "key",
      "start_line": 15,
      "end_line": 16,
      "content_hash": "38a8c372780dd90b84480496bf392ab567266110",
      "content": "      Content-Type:\n      - application/json",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.request.headers.User-Agent_17": {
      "name": "interactions.request.headers.User-Agent",
      "type": "key",
      "start_line": 17,
      "end_line": 18,
      "content_hash": "2ed154399dfc31d9bf4d005ec99b5f240d3a05de",
      "content": "      User-Agent:\n      - OpenAI/Go 2.7.1",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.request.url_19": {
      "name": "interactions.request.url",
      "type": "key",
      "start_line": 19,
      "end_line": 19,
      "content_hash": "28e002e9556cc607c6121b1375af23728e89e87e",
      "content": "    url: https://openrouter.ai/api/v1/chat/completions",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.request.method_20": {
      "name": "interactions.request.method",
      "type": "key",
      "start_line": 20,
      "end_line": 20,
      "content_hash": "6ec0ef4ac89ddb0c005a5996fe8241375dabf517",
      "content": "    method: POST",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.response_21": {
      "name": "interactions.response",
      "type": "key",
      "start_line": 21,
      "end_line": 34,
      "content_hash": "e45d023ee588e45eb69d3fb25b52274b264927fc",
      "content": "  response:\n    proto: HTTP/2.0\n    proto_major: 2\n    proto_minor: 0\n    content_length: -1\n    body: '{\"error\":{\"message\":\"No cookie auth credentials found\",\"code\":401}}'\n    headers:\n      Content-Type:\n      - application/json\n      content-type:\n      - application/json\n    status: 401 Unauthorized\n    code: 401\n    duration: 17.613878ms",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.response.proto_22": {
      "name": "interactions.response.proto",
      "type": "key",
      "start_line": 22,
      "end_line": 22,
      "content_hash": "dd837b3bf027184d64a49b40b15c815e0cde6a3d",
      "content": "    proto: HTTP/2.0",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.response.proto_major_23": {
      "name": "interactions.response.proto_major",
      "type": "key",
      "start_line": 23,
      "end_line": 23,
      "content_hash": "ce5e5fd3dadb267bcfe681e783779f75b81887e1",
      "content": "    proto_major: 2",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.response.proto_minor_24": {
      "name": "interactions.response.proto_minor",
      "type": "key",
      "start_line": 24,
      "end_line": 24,
      "content_hash": "ba48faef1a1f2a27641f8f198b62aefebd749229",
      "content": "    proto_minor: 0",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.response.content_length_25": {
      "name": "interactions.response.content_length",
      "type": "key",
      "start_line": 25,
      "end_line": 25,
      "content_hash": "680d264ce035f6e2263e895ee0ca58f73a2d7cae",
      "content": "    content_length: -1",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.response.body_26": {
      "name": "interactions.response.body",
      "type": "key",
      "start_line": 26,
      "end_line": 26,
      "content_hash": "cbeffd4f60dcab9bfb5b063d19fefa1d0da98fde",
      "content": "    body: '{\"error\":{\"message\":\"No cookie auth credentials found\",\"code\":401}}'",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.response.headers_27": {
      "name": "interactions.response.headers",
      "type": "key",
      "start_line": 27,
      "end_line": 31,
      "content_hash": "53b7ff7b40bcd90721988dcde140ac61efbb3a71",
      "content": "    headers:\n      Content-Type:\n      - application/json\n      content-type:\n      - application/json",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.response.headers.Content-Type_28": {
      "name": "interactions.response.headers.Content-Type",
      "type": "key",
      "start_line": 28,
      "end_line": 29,
      "content_hash": "38a8c372780dd90b84480496bf392ab567266110",
      "content": "      Content-Type:\n      - application/json",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.response.headers.content-type_30": {
      "name": "interactions.response.headers.content-type",
      "type": "key",
      "start_line": 30,
      "end_line": 31,
      "content_hash": "295c518e7e9df44d3ee142c30a802d1536eaf7aa",
      "content": "      content-type:\n      - application/json",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.response.status_32": {
      "name": "interactions.response.status",
      "type": "key",
      "start_line": 32,
      "end_line": 32,
      "content_hash": "4e12ef11c5bf11ce2723305ea5185fedca25b8d7",
      "content": "    status: 401 Unauthorized",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.response.code_33": {
      "name": "interactions.response.code",
      "type": "key",
      "start_line": 33,
      "end_line": 33,
      "content_hash": "373a7ab2b7d85a769b23ea8e61a145372c64fde2",
      "content": "    code: 401",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.response.duration_34": {
      "name": "interactions.response.duration",
      "type": "key",
      "start_line": 34,
      "end_line": 34,
      "content_hash": "36bd110627506d03b1765d4e637706fa8eb95b86",
      "content": "    duration: 17.613878ms",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.id_35": {
      "name": "interactions.id",
      "type": "key",
      "start_line": 35,
      "end_line": 35,
      "content_hash": "b8baa492ad9403a94194ad5b4dea459b88889ea6",
      "content": "- id: 1",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.request_36": {
      "name": "interactions.request",
      "type": "key",
      "start_line": 36,
      "end_line": 51,
      "content_hash": "32e73f0e2b8be4233ff699d78994aaf9c68ac0ff",
      "content": "  request:\n    proto: HTTP/1.1\n    proto_major: 1\n    proto_minor: 1\n    content_length: 803\n    host: \"\"\n    body: '{\"messages\":[{\"content\":\"you will generate a short title based on the first message a user begins a conversation with\\n\\n<rules>\\n- ensure it is not more than 50 characters long\\n- the title should be a summary of the user''s message\\n- it should be one line long\\n- do not use quotes or colons\\n- the entire text you return will be used as the title\\n- never return anything that is more than one sentence (one line) long\\n</rules>\\n\\n /no_think\",\"role\":\"system\"},{\"content\":\"Generate a concise title for the following content:\\n\\nuse bash to create a file named test.txt with content ''hello bash''. do not print its timestamp\\n <think>\\n\\n</think>\",\"role\":\"user\"}],\"model\":\"qwen/qwen3-next-80b-a3b-instruct\",\"max_tokens\":40,\"stream_options\":{\"include_usage\":true},\"usage\":{\"include\":true},\"stream\":true}'\n    headers:\n      Accept:\n      - application/json\n      Content-Type:\n      - application/json\n      User-Agent:\n      - OpenAI/Go 2.7.1\n    url: https://openrouter.ai/api/v1/chat/completions\n    method: POST",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.request.proto_37": {
      "name": "interactions.request.proto",
      "type": "key",
      "start_line": 37,
      "end_line": 37,
      "content_hash": "4f15189a2c373745b44278c65048ebd7065e4be6",
      "content": "    proto: HTTP/1.1",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.request.proto_major_38": {
      "name": "interactions.request.proto_major",
      "type": "key",
      "start_line": 38,
      "end_line": 38,
      "content_hash": "f2f1325c618d40c5ac4e3b50103d2bac1fa60944",
      "content": "    proto_major: 1",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.request.proto_minor_39": {
      "name": "interactions.request.proto_minor",
      "type": "key",
      "start_line": 39,
      "end_line": 39,
      "content_hash": "46c1f953ee9e3eb941910791258441c65f0997ff",
      "content": "    proto_minor: 1",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.request.content_length_40": {
      "name": "interactions.request.content_length",
      "type": "key",
      "start_line": 40,
      "end_line": 40,
      "content_hash": "96b538d43508a878e13dfb965ccf2afac6097af5",
      "content": "    content_length: 803",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.request.host_41": {
      "name": "interactions.request.host",
      "type": "key",
      "start_line": 41,
      "end_line": 41,
      "content_hash": "ee56731b23b9ab5fb212dbe499d36aae96aa781f",
      "content": "    host: \"\"",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.request.body_42": {
      "name": "interactions.request.body",
      "type": "key",
      "start_line": 42,
      "end_line": 42,
      "content_hash": "fe67d294ceac936fb881e70d15424d9d37122141",
      "content": "    body: '{\"messages\":[{\"content\":\"you will generate a short title based on the first message a user begins a conversation with\\n\\n<rules>\\n- ensure it is not more than 50 characters long\\n- the title should be a summary of the user''s message\\n- it should be one line long\\n- do not use quotes or colons\\n- the entire text you return will be used as the title\\n- never return anything that is more than one sentence (one line) long\\n</rules>\\n\\n /no_think\",\"role\":\"system\"},{\"content\":\"Generate a concise title for the following content:\\n\\nuse bash to create a file named test.txt with content ''hello bash''. do not print its timestamp\\n <think>\\n\\n</think>\",\"role\":\"user\"}],\"model\":\"qwen/qwen3-next-80b-a3b-instruct\",\"max_tokens\":40,\"stream_options\":{\"include_usage\":true},\"usage\":{\"include\":true},\"stream\":true}'",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.request.headers_43": {
      "name": "interactions.request.headers",
      "type": "key",
      "start_line": 43,
      "end_line": 49,
      "content_hash": "5655efb763fe4d739812a32cc19e787326f62906",
      "content": "    headers:\n      Accept:\n      - application/json\n      Content-Type:\n      - application/json\n      User-Agent:\n      - OpenAI/Go 2.7.1",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.request.headers.Accept_44": {
      "name": "interactions.request.headers.Accept",
      "type": "key",
      "start_line": 44,
      "end_line": 45,
      "content_hash": "3f17ec0b2af2e7c80fc54581daf088192b3404a6",
      "content": "      Accept:\n      - application/json",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.request.headers.Content-Type_46": {
      "name": "interactions.request.headers.Content-Type",
      "type": "key",
      "start_line": 46,
      "end_line": 47,
      "content_hash": "38a8c372780dd90b84480496bf392ab567266110",
      "content": "      Content-Type:\n      - application/json",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.request.headers.User-Agent_48": {
      "name": "interactions.request.headers.User-Agent",
      "type": "key",
      "start_line": 48,
      "end_line": 49,
      "content_hash": "2ed154399dfc31d9bf4d005ec99b5f240d3a05de",
      "content": "      User-Agent:\n      - OpenAI/Go 2.7.1",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.request.url_50": {
      "name": "interactions.request.url",
      "type": "key",
      "start_line": 50,
      "end_line": 50,
      "content_hash": "28e002e9556cc607c6121b1375af23728e89e87e",
      "content": "    url: https://openrouter.ai/api/v1/chat/completions",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.request.method_51": {
      "name": "interactions.request.method",
      "type": "key",
      "start_line": 51,
      "end_line": 51,
      "content_hash": "6ec0ef4ac89ddb0c005a5996fe8241375dabf517",
      "content": "    method: POST",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.response_52": {
      "name": "interactions.response",
      "type": "key",
      "start_line": 52,
      "end_line": 66,
      "content_hash": "6d756dd1f799865d747b5329e8d0e7e8dc74959d",
      "content": "  response:\n    proto: HTTP/2.0\n    proto_major: 2\n    proto_minor: 0\n    content_length: -1\n    body: '{\"error\":{\"message\":\"No cookie auth credentials found\",\"code\":401}}'\n    headers:\n      Content-Type:\n      - application/json\n      content-type:\n      - application/json\n    status: 401 Unauthorized\n    code: 401\n    duration: 32.280144ms\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.response.proto_53": {
      "name": "interactions.response.proto",
      "type": "key",
      "start_line": 53,
      "end_line": 53,
      "content_hash": "dd837b3bf027184d64a49b40b15c815e0cde6a3d",
      "content": "    proto: HTTP/2.0",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.response.proto_major_54": {
      "name": "interactions.response.proto_major",
      "type": "key",
      "start_line": 54,
      "end_line": 54,
      "content_hash": "ce5e5fd3dadb267bcfe681e783779f75b81887e1",
      "content": "    proto_major: 2",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.response.proto_minor_55": {
      "name": "interactions.response.proto_minor",
      "type": "key",
      "start_line": 55,
      "end_line": 55,
      "content_hash": "ba48faef1a1f2a27641f8f198b62aefebd749229",
      "content": "    proto_minor: 0",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.response.content_length_56": {
      "name": "interactions.response.content_length",
      "type": "key",
      "start_line": 56,
      "end_line": 56,
      "content_hash": "680d264ce035f6e2263e895ee0ca58f73a2d7cae",
      "content": "    content_length: -1",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.response.body_57": {
      "name": "interactions.response.body",
      "type": "key",
      "start_line": 57,
      "end_line": 57,
      "content_hash": "cbeffd4f60dcab9bfb5b063d19fefa1d0da98fde",
      "content": "    body: '{\"error\":{\"message\":\"No cookie auth credentials found\",\"code\":401}}'",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.response.headers_58": {
      "name": "interactions.response.headers",
      "type": "key",
      "start_line": 58,
      "end_line": 62,
      "content_hash": "53b7ff7b40bcd90721988dcde140ac61efbb3a71",
      "content": "    headers:\n      Content-Type:\n      - application/json\n      content-type:\n      - application/json",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.response.headers.Content-Type_59": {
      "name": "interactions.response.headers.Content-Type",
      "type": "key",
      "start_line": 59,
      "end_line": 60,
      "content_hash": "38a8c372780dd90b84480496bf392ab567266110",
      "content": "      Content-Type:\n      - application/json",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.response.headers.content-type_61": {
      "name": "interactions.response.headers.content-type",
      "type": "key",
      "start_line": 61,
      "end_line": 62,
      "content_hash": "295c518e7e9df44d3ee142c30a802d1536eaf7aa",
      "content": "      content-type:\n      - application/json",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.response.status_63": {
      "name": "interactions.response.status",
      "type": "key",
      "start_line": 63,
      "end_line": 63,
      "content_hash": "4e12ef11c5bf11ce2723305ea5185fedca25b8d7",
      "content": "    status: 401 Unauthorized",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.response.code_64": {
      "name": "interactions.response.code",
      "type": "key",
      "start_line": 64,
      "end_line": 64,
      "content_hash": "373a7ab2b7d85a769b23ea8e61a145372c64fde2",
      "content": "    code: 401",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_interactions.response.duration_65": {
      "name": "interactions.response.duration",
      "type": "key",
      "start_line": 65,
      "end_line": 65,
      "content_hash": "18ba8e147d20dfdfb120e037b9b76af687444086",
      "content": "    duration: 32.280144ms",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    }
  }
}