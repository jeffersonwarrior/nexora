{
  "file_path": "/work/external-deps/Context-Engine/.github/workflows/publish-vscode-extension.yml",
  "file_hash": "abbd1eedece851e7945d63fbf1140e3e53edfd38",
  "updated_at": "2025-12-26T17:34:23.883638",
  "symbols": {
    "key_name_1": {
      "name": "name",
      "type": "key",
      "start_line": 1,
      "end_line": 1,
      "content_hash": "96a65c105f02a87f9583555967c3327277b8997e",
      "content": "name: Publish VS Code Extension",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_on_3": {
      "name": "on",
      "type": "key",
      "start_line": 3,
      "end_line": 9,
      "content_hash": "6fcad534e46b599af1d4bc0605f02bb7980e6db1",
      "content": "on:\n  workflow_dispatch:\n  push:\n    branches:\n      - test\n    paths:\n      - \"vscode-extension/context-engine-uploader/package.json\"",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_on.workflow_dispatch_4": {
      "name": "on.workflow_dispatch",
      "type": "key",
      "start_line": 4,
      "end_line": 4,
      "content_hash": "9d55e62244dd2e683f9f9153af7efd66d4894293",
      "content": "  workflow_dispatch:",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_on.push_5": {
      "name": "on.push",
      "type": "key",
      "start_line": 5,
      "end_line": 9,
      "content_hash": "2d5bb9715296590b1dfb2d1727072b654c9e802e",
      "content": "  push:\n    branches:\n      - test\n    paths:\n      - \"vscode-extension/context-engine-uploader/package.json\"",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_on.push.branches_6": {
      "name": "on.push.branches",
      "type": "key",
      "start_line": 6,
      "end_line": 7,
      "content_hash": "6a840bcb8aa9885eba71750d85c6f98276628537",
      "content": "    branches:\n      - test",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_on.push.paths_8": {
      "name": "on.push.paths",
      "type": "key",
      "start_line": 8,
      "end_line": 9,
      "content_hash": "17ce01f2c2b209443da9fbece3b12067c361b65e",
      "content": "    paths:\n      - \"vscode-extension/context-engine-uploader/package.json\"",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_concurrency_11": {
      "name": "concurrency",
      "type": "key",
      "start_line": 11,
      "end_line": 13,
      "content_hash": "b62058bf8c794c9ac44dcf1457ee1644e8d08c8a",
      "content": "concurrency:\n  group: vscode-marketplace-publish\n  cancel-in-progress: false",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_concurrency.group_12": {
      "name": "concurrency.group",
      "type": "key",
      "start_line": 12,
      "end_line": 12,
      "content_hash": "5a589bb263ea99e381ba3c676db6bffaf186b577",
      "content": "  group: vscode-marketplace-publish",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_concurrency.cancel-in-progress_13": {
      "name": "concurrency.cancel-in-progress",
      "type": "key",
      "start_line": 13,
      "end_line": 13,
      "content_hash": "bcd4c936a10848d39ceca2f9a445d702a8e23614",
      "content": "  cancel-in-progress: false",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs_15": {
      "name": "jobs",
      "type": "key",
      "start_line": 15,
      "end_line": 69,
      "content_hash": "cdbb18e66a233b4f9bab3b3a34ebcdd26df5e11c",
      "content": "jobs:\n  publish:\n    runs-on: ubuntu-latest\n    permissions:\n      contents: read\n\n    steps:\n      - uses: actions/checkout@v4\n        with:\n          fetch-depth: 0\n\n      - name: Use Node.js 20\n        uses: actions/setup-node@v4\n        with:\n          node-version: \"20\"\n\n      - name: Set up Python\n        uses: actions/setup-python@v5\n        with:\n          python-version: \"3.11\"\n\n      - name: Check extension version change\n        id: version_check\n        shell: bash\n        run: |\n          set -euo pipefail\n\n          FILE=\"vscode-extension/context-engine-uploader/package.json\"\n          CURRENT_VERSION=\"$(node -p \"require('./' + process.env.FILE).version\" )\"\n\n          PREVIOUS_VERSION=\"\"\n          if git cat-file -e \"${{ github.event.before }}:${FILE}\" 2>/dev/null; then\n            PREVIOUS_VERSION=\"$(git show \"${{ github.event.before }}:${FILE}\" | node -e 'let d=\"\";process.stdin.on(\"data\",c=>d+=c);process.stdin.on(\"end\",()=>{try{console.log(JSON.parse(d).version||\"\")}catch(e){console.log(\"\")}})')\"\n          fi\n\n          echo \"current_version=${CURRENT_VERSION}\" >> \"$GITHUB_OUTPUT\"\n          echo \"previous_version=${PREVIOUS_VERSION}\" >> \"$GITHUB_OUTPUT\"\n\n          if [[ -n \"$CURRENT_VERSION\" && \"$CURRENT_VERSION\" != \"$PREVIOUS_VERSION\" ]]; then\n            echo \"changed=true\" >> \"$GITHUB_OUTPUT\"\n          else\n            echo \"changed=false\" >> \"$GITHUB_OUTPUT\"\n          fi\n        env:\n          FILE: \"vscode-extension/context-engine-uploader/package.json\"\n\n      - name: Publish to VS Code Marketplace\n        if: steps.version_check.outputs.changed == 'true'\n        shell: bash\n        env:\n          VSCE_PAT: ${{ secrets.VSCE_PAT }}\n        run: |\n          chmod +x vscode-extension/build/publish-vscode-extension.sh\n          vscode-extension/build/publish-vscode-extension.sh --bundle-deps\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish_16": {
      "name": "jobs.publish",
      "type": "key",
      "start_line": 16,
      "end_line": 69,
      "content_hash": "356deecacd35e0c6eb469e3e41355735308bf5d6",
      "content": "  publish:\n    runs-on: ubuntu-latest\n    permissions:\n      contents: read\n\n    steps:\n      - uses: actions/checkout@v4\n        with:\n          fetch-depth: 0\n\n      - name: Use Node.js 20\n        uses: actions/setup-node@v4\n        with:\n          node-version: \"20\"\n\n      - name: Set up Python\n        uses: actions/setup-python@v5\n        with:\n          python-version: \"3.11\"\n\n      - name: Check extension version change\n        id: version_check\n        shell: bash\n        run: |\n          set -euo pipefail\n\n          FILE=\"vscode-extension/context-engine-uploader/package.json\"\n          CURRENT_VERSION=\"$(node -p \"require('./' + process.env.FILE).version\" )\"\n\n          PREVIOUS_VERSION=\"\"\n          if git cat-file -e \"${{ github.event.before }}:${FILE}\" 2>/dev/null; then\n            PREVIOUS_VERSION=\"$(git show \"${{ github.event.before }}:${FILE}\" | node -e 'let d=\"\";process.stdin.on(\"data\",c=>d+=c);process.stdin.on(\"end\",()=>{try{console.log(JSON.parse(d).version||\"\")}catch(e){console.log(\"\")}})')\"\n          fi\n\n          echo \"current_version=${CURRENT_VERSION}\" >> \"$GITHUB_OUTPUT\"\n          echo \"previous_version=${PREVIOUS_VERSION}\" >> \"$GITHUB_OUTPUT\"\n\n          if [[ -n \"$CURRENT_VERSION\" && \"$CURRENT_VERSION\" != \"$PREVIOUS_VERSION\" ]]; then\n            echo \"changed=true\" >> \"$GITHUB_OUTPUT\"\n          else\n            echo \"changed=false\" >> \"$GITHUB_OUTPUT\"\n          fi\n        env:\n          FILE: \"vscode-extension/context-engine-uploader/package.json\"\n\n      - name: Publish to VS Code Marketplace\n        if: steps.version_check.outputs.changed == 'true'\n        shell: bash\n        env:\n          VSCE_PAT: ${{ secrets.VSCE_PAT }}\n        run: |\n          chmod +x vscode-extension/build/publish-vscode-extension.sh\n          vscode-extension/build/publish-vscode-extension.sh --bundle-deps\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.runs-on_17": {
      "name": "jobs.publish.runs-on",
      "type": "key",
      "start_line": 17,
      "end_line": 17,
      "content_hash": "af41e65e8de6d5fac9a3ffe97c9153f19e320298",
      "content": "    runs-on: ubuntu-latest",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.permissions_18": {
      "name": "jobs.publish.permissions",
      "type": "key",
      "start_line": 18,
      "end_line": 19,
      "content_hash": "7dea3f18021d24a7de1dce78a9d0ff3f1728a01c",
      "content": "    permissions:\n      contents: read",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.permissions.contents_19": {
      "name": "jobs.publish.permissions.contents",
      "type": "key",
      "start_line": 19,
      "end_line": 19,
      "content_hash": "f2046ba96290365428b2ab8dfef59603a0705386",
      "content": "      contents: read",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.steps_21": {
      "name": "jobs.publish.steps",
      "type": "key",
      "start_line": 21,
      "end_line": 69,
      "content_hash": "f0966f4e53cf5a23113e69f832166e1685fea28f",
      "content": "    steps:\n      - uses: actions/checkout@v4\n        with:\n          fetch-depth: 0\n\n      - name: Use Node.js 20\n        uses: actions/setup-node@v4\n        with:\n          node-version: \"20\"\n\n      - name: Set up Python\n        uses: actions/setup-python@v5\n        with:\n          python-version: \"3.11\"\n\n      - name: Check extension version change\n        id: version_check\n        shell: bash\n        run: |\n          set -euo pipefail\n\n          FILE=\"vscode-extension/context-engine-uploader/package.json\"\n          CURRENT_VERSION=\"$(node -p \"require('./' + process.env.FILE).version\" )\"\n\n          PREVIOUS_VERSION=\"\"\n          if git cat-file -e \"${{ github.event.before }}:${FILE}\" 2>/dev/null; then\n            PREVIOUS_VERSION=\"$(git show \"${{ github.event.before }}:${FILE}\" | node -e 'let d=\"\";process.stdin.on(\"data\",c=>d+=c);process.stdin.on(\"end\",()=>{try{console.log(JSON.parse(d).version||\"\")}catch(e){console.log(\"\")}})')\"\n          fi\n\n          echo \"current_version=${CURRENT_VERSION}\" >> \"$GITHUB_OUTPUT\"\n          echo \"previous_version=${PREVIOUS_VERSION}\" >> \"$GITHUB_OUTPUT\"\n\n          if [[ -n \"$CURRENT_VERSION\" && \"$CURRENT_VERSION\" != \"$PREVIOUS_VERSION\" ]]; then\n            echo \"changed=true\" >> \"$GITHUB_OUTPUT\"\n          else\n            echo \"changed=false\" >> \"$GITHUB_OUTPUT\"\n          fi\n        env:\n          FILE: \"vscode-extension/context-engine-uploader/package.json\"\n\n      - name: Publish to VS Code Marketplace\n        if: steps.version_check.outputs.changed == 'true'\n        shell: bash\n        env:\n          VSCE_PAT: ${{ secrets.VSCE_PAT }}\n        run: |\n          chmod +x vscode-extension/build/publish-vscode-extension.sh\n          vscode-extension/build/publish-vscode-extension.sh --bundle-deps\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.steps.uses_22": {
      "name": "jobs.publish.steps.uses",
      "type": "key",
      "start_line": 22,
      "end_line": 22,
      "content_hash": "94d776ea972ae48be1086fe6571c992a21d00df4",
      "content": "      - uses: actions/checkout@v4",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.steps.with_23": {
      "name": "jobs.publish.steps.with",
      "type": "key",
      "start_line": 23,
      "end_line": 24,
      "content_hash": "38910da64e7409895b0e8a55e07cd91314738251",
      "content": "        with:\n          fetch-depth: 0",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.steps.with.fetch-depth_24": {
      "name": "jobs.publish.steps.with.fetch-depth",
      "type": "key",
      "start_line": 24,
      "end_line": 24,
      "content_hash": "687e678a957c0b91b601014b0e772738670300ff",
      "content": "          fetch-depth: 0",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.steps.name_26": {
      "name": "jobs.publish.steps.name",
      "type": "key",
      "start_line": 26,
      "end_line": 26,
      "content_hash": "c527663fc3cd05082f8b9f35cf4dd9677f5a0739",
      "content": "      - name: Use Node.js 20",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.steps.uses_27": {
      "name": "jobs.publish.steps.uses",
      "type": "key",
      "start_line": 27,
      "end_line": 27,
      "content_hash": "41d462b6f163386b74268ce4f3e5695fc56e3806",
      "content": "        uses: actions/setup-node@v4",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.steps.with_28": {
      "name": "jobs.publish.steps.with",
      "type": "key",
      "start_line": 28,
      "end_line": 29,
      "content_hash": "9d0bd38357a16c703d1ca9145adeb8f69a1f50a5",
      "content": "        with:\n          node-version: \"20\"",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.steps.with.node-version_29": {
      "name": "jobs.publish.steps.with.node-version",
      "type": "key",
      "start_line": 29,
      "end_line": 29,
      "content_hash": "e32fd4eae64b2e413f551e1e79506c5e95197e02",
      "content": "          node-version: \"20\"",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.steps.name_31": {
      "name": "jobs.publish.steps.name",
      "type": "key",
      "start_line": 31,
      "end_line": 31,
      "content_hash": "fef97d9d1664fc41517892abc6ccd206d5183da6",
      "content": "      - name: Set up Python",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.steps.uses_32": {
      "name": "jobs.publish.steps.uses",
      "type": "key",
      "start_line": 32,
      "end_line": 32,
      "content_hash": "639a56beb0ff5ae579712b9c37b3c6851ced9784",
      "content": "        uses: actions/setup-python@v5",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.steps.with_33": {
      "name": "jobs.publish.steps.with",
      "type": "key",
      "start_line": 33,
      "end_line": 34,
      "content_hash": "df9dd01b01ead04ec4e188608faf26e9f9e0243a",
      "content": "        with:\n          python-version: \"3.11\"",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.steps.with.python-version_34": {
      "name": "jobs.publish.steps.with.python-version",
      "type": "key",
      "start_line": 34,
      "end_line": 34,
      "content_hash": "ab6432580d7ea1ec500dfde10ce27f9984f8e4c7",
      "content": "          python-version: \"3.11\"",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.steps.name_36": {
      "name": "jobs.publish.steps.name",
      "type": "key",
      "start_line": 36,
      "end_line": 36,
      "content_hash": "f920fb5bdf91a4eb6f5288ebcf4283b87f83660c",
      "content": "      - name: Check extension version change",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.steps.id_37": {
      "name": "jobs.publish.steps.id",
      "type": "key",
      "start_line": 37,
      "end_line": 37,
      "content_hash": "963975f06da3ac358a546620ebb9d675ecbb70f1",
      "content": "        id: version_check",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.steps.shell_38": {
      "name": "jobs.publish.steps.shell",
      "type": "key",
      "start_line": 38,
      "end_line": 38,
      "content_hash": "070f3c79ffb5e86b2dba7ae8c3a975b5526378b8",
      "content": "        shell: bash",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.steps.run_39": {
      "name": "jobs.publish.steps.run",
      "type": "key",
      "start_line": 39,
      "end_line": 57,
      "content_hash": "c62ef2ea9c63a6db2f0619bc5e0f07b8cebd9631",
      "content": "        run: |\n          set -euo pipefail\n\n          FILE=\"vscode-extension/context-engine-uploader/package.json\"\n          CURRENT_VERSION=\"$(node -p \"require('./' + process.env.FILE).version\" )\"\n\n          PREVIOUS_VERSION=\"\"\n          if git cat-file -e \"${{ github.event.before }}:${FILE}\" 2>/dev/null; then\n            PREVIOUS_VERSION=\"$(git show \"${{ github.event.before }}:${FILE}\" | node -e 'let d=\"\";process.stdin.on(\"data\",c=>d+=c);process.stdin.on(\"end\",()=>{try{console.log(JSON.parse(d).version||\"\")}catch(e){console.log(\"\")}})')\"\n          fi\n\n          echo \"current_version=${CURRENT_VERSION}\" >> \"$GITHUB_OUTPUT\"\n          echo \"previous_version=${PREVIOUS_VERSION}\" >> \"$GITHUB_OUTPUT\"\n\n          if [[ -n \"$CURRENT_VERSION\" && \"$CURRENT_VERSION\" != \"$PREVIOUS_VERSION\" ]]; then\n            echo \"changed=true\" >> \"$GITHUB_OUTPUT\"\n          else\n            echo \"changed=false\" >> \"$GITHUB_OUTPUT\"\n          fi",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.steps.env_58": {
      "name": "jobs.publish.steps.env",
      "type": "key",
      "start_line": 58,
      "end_line": 59,
      "content_hash": "be287ea270d6c220950f7934cb71591fd8dfde76",
      "content": "        env:\n          FILE: \"vscode-extension/context-engine-uploader/package.json\"",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.steps.env.FILE_59": {
      "name": "jobs.publish.steps.env.FILE",
      "type": "key",
      "start_line": 59,
      "end_line": 59,
      "content_hash": "98db51853d828231a78417c3933612f7a43358d8",
      "content": "          FILE: \"vscode-extension/context-engine-uploader/package.json\"",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.steps.name_61": {
      "name": "jobs.publish.steps.name",
      "type": "key",
      "start_line": 61,
      "end_line": 61,
      "content_hash": "6e326b192db833c48c6382a6c6cfc94458eeae89",
      "content": "      - name: Publish to VS Code Marketplace",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.steps.if_62": {
      "name": "jobs.publish.steps.if",
      "type": "key",
      "start_line": 62,
      "end_line": 62,
      "content_hash": "f51cd38e82176a6ac9d2127bbc500a86bb19592a",
      "content": "        if: steps.version_check.outputs.changed == 'true'",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.steps.shell_63": {
      "name": "jobs.publish.steps.shell",
      "type": "key",
      "start_line": 63,
      "end_line": 63,
      "content_hash": "070f3c79ffb5e86b2dba7ae8c3a975b5526378b8",
      "content": "        shell: bash",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.steps.env_64": {
      "name": "jobs.publish.steps.env",
      "type": "key",
      "start_line": 64,
      "end_line": 65,
      "content_hash": "83d77ce768bd544bb76692a8e54d638a8517f3e0",
      "content": "        env:\n          VSCE_PAT: ${{ secrets.VSCE_PAT }}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.steps.env.VSCE_PAT_65": {
      "name": "jobs.publish.steps.env.VSCE_PAT",
      "type": "key",
      "start_line": 65,
      "end_line": 65,
      "content_hash": "5c06f866ba6df96c8abd010eeb055475386c13b8",
      "content": "          VSCE_PAT: ${{ secrets.VSCE_PAT }}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.publish.steps.run_66": {
      "name": "jobs.publish.steps.run",
      "type": "key",
      "start_line": 66,
      "end_line": 69,
      "content_hash": "74a9479405726e20cf7d11e1d61b6450be9acb1e",
      "content": "        run: |\n          chmod +x vscode-extension/build/publish-vscode-extension.sh\n          vscode-extension/build/publish-vscode-extension.sh --bundle-deps\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    }
  }
}