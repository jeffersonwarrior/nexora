{
  "file_path": "/work/external-deps/claude-mem/src/hooks/context-hook.ts",
  "file_hash": "a42b0d5b98cc3461668efbbf859e6ca14a2521f3",
  "updated_at": "2025-12-26T17:34:23.807114",
  "symbols": {
    "function_contextHook_21": {
      "name": "contextHook",
      "type": "function",
      "start_line": 21,
      "end_line": 39,
      "content_hash": "9a7ea77b6106da103fe2ebca9568956a270c7b94",
      "content": "async function contextHook(input?: SessionStartInput): Promise<string> {\n  // Ensure worker is running before any other logic\n  await ensureWorkerRunning();\n\n  const cwd = input?.cwd ?? process.cwd();\n  const project = getProjectName(cwd);\n  const port = getWorkerPort();\n\n  const url = `http://127.0.0.1:${port}/api/context/inject?project=${encodeURIComponent(project)}`;\n\n  const response = await fetch(url, { signal: AbortSignal.timeout(HOOK_TIMEOUTS.DEFAULT) });\n\n  if (!response.ok) {\n    throw new Error(`Context generation failed: ${response.status}`);\n  }\n\n  const result = await response.text();\n  return result.trim();\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    }
  }
}