{
  "file_path": "/work/context-engine/tests/test_ingest_chunking.py",
  "file_hash": "bc52e5d395fc0b877b20598e8655354153322aa4",
  "updated_at": "2025-12-26T17:34:21.192026",
  "symbols": {
    "function_test_chunk_lines_basic_overlap_8": {
      "name": "test_chunk_lines_basic_overlap",
      "type": "function",
      "start_line": 8,
      "end_line": 13,
      "content_hash": "2795a3aac446e79b36510fb0de94626cf6115ece",
      "content": "def test_chunk_lines_basic_overlap():\n    text = \"\\n\".join(f\"L{i}\" for i in range(1, 31))\n    chunks = ing.chunk_lines(text, max_lines=10, overlap=2)\n    assert chunks[0][\"start\"] == 1 and chunks[0][\"end\"] == 10\n    assert chunks[1][\"start\"] == 9  # 10 - overlap + 1\n    assert chunks[-1][\"end\"] == 30",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_test_chunk_lines_empty_16": {
      "name": "test_chunk_lines_empty",
      "type": "function",
      "start_line": 16,
      "end_line": 18,
      "content_hash": "8bbf747e76ba6456abb47e6d2d380a23189d8b0c",
      "content": "def test_chunk_lines_empty():\n    chunks = ing.chunk_lines(\"\", max_lines=10, overlap=2)\n    assert chunks == []",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_test_chunk_semantic_fallback_no_ts_21": {
      "name": "test_chunk_semantic_fallback_no_ts",
      "type": "function",
      "start_line": 21,
      "end_line": 30,
      "content_hash": "d3dd9ec3c6a777d60c0e5ad0ee848e1055dbf61f",
      "content": "def test_chunk_semantic_fallback_no_ts(monkeypatch):\n    monkeypatch.setenv(\"USE_TREE_SITTER\", \"0\")\n    text = \"\\n\".join(f\"L{i}\" for i in range(1, 26))\n    chunks = ing.chunk_semantic(text, language=\"python\", max_lines=8, overlap=3)\n    # Should behave like chunk_lines but with is_semantic key added\n    chunks2 = ing.chunk_lines(text, max_lines=8, overlap=3)\n    # Compare ignoring the is_semantic key (added by chunk_semantic wrapper)\n    for c in chunks:\n        c.pop(\"is_semantic\", None)\n    assert chunks == chunks2",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    }
  }
}