{
  "file_path": "/work/qa/config_test.go",
  "file_hash": "e80363d7ed75c8e7c2e6f3bfdb9c9a76fde59c66",
  "updated_at": "2025-12-26T17:34:23.723301",
  "symbols": {
    "function_TestConfigValidation_16": {
      "name": "TestConfigValidation",
      "type": "function",
      "start_line": 16,
      "end_line": 61,
      "content_hash": "5e1b5eb64698eabe3f860036d6ce1b6e712e0401",
      "content": "func TestConfigValidation(t *testing.T) {\n\t// Test 1: Validate global config JSON\n\tdataDir := filepath.Join(home.Dir(), \".local\", \"share\", \"nexora\")\n\tconfigPath := filepath.Join(dataDir, \"nexora.json\")\n\n\tif _, err := os.Stat(configPath); os.IsNotExist(err) {\n\t\tt.Skip(\"No config file yet\")\n\t}\n\n\tdata, err := os.ReadFile(configPath)\n\tif err != nil {\n\t\tt.Fatalf(\"Failed to read config: %v\", err)\n\t}\n\n\tvar cfg config.Config\n\tif err := json.Unmarshal(data, &cfg); err != nil {\n\t\tt.Fatalf(\"Invalid config JSON: %v\", err)\n\t}\n\n\tif len(cfg.Models) == 0 {\n\t\tt.Error(\"Config has no models defined\")\n\t}\n\n\t// Test 2: Validate providers cache\n\tprovidersPath := filepath.Join(dataDir, \"providers.json\")\n\tif _, err := os.Stat(providersPath); os.IsNotExist(err) {\n\t\tt.Skip(\"No providers cache yet\")\n\t}\n\n\tpData, err := os.ReadFile(providersPath)\n\tif err != nil {\n\t\tt.Fatalf(\"Failed to read providers: %v\", err)\n\t}\n\n\tvar providers []config.ProviderConfig\n\tif err := json.Unmarshal(pData, &providers); err != nil {\n\t\tt.Fatalf(\"Invalid providers JSON: %v\", err)\n\t}\n\n\tif len(providers) == 0 {\n\t\tt.Error(\"Providers cache is empty\")\n\t}\n\n\tt.Logf(\"\u2705 Config validated: %d models, %d providers\", len(cfg.Models), len(providers))\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestModelDialogLaunches_62": {
      "name": "TestModelDialogLaunches",
      "type": "function",
      "start_line": 62,
      "end_line": 78,
      "content_hash": "09921030a229151af641bd94aaf00ce48f5c8f82",
      "content": "func TestModelDialogLaunches(t *testing.T) {\n\t// Initialize config first\n\tworkingDir, _ := os.Getwd()\n\tdataDir := filepath.Join(home.Dir(), \".local\", \"share\", \"nexora\")\n\t_, err := config.Init(workingDir, dataDir, false)\n\tif err != nil {\n\t\tt.Fatalf(\"Failed to initialize config: %v\", err)\n\t}\n\n\t// Test basic config loading\n\tcfg := config.Get()\n\tif cfg == nil {\n\t\tt.Fatal(\"Failed to load config\")\n\t}\n\n\tt.Log(\"\u2705 Model dialog initializes successfully\")\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    }
  }
}