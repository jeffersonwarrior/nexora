{
  "file_path": "/work/.local/tools/modelscan/cmd/seed-db/main.go",
  "file_hash": "c706da01ee94a408c9ef268b5d908ebc76e8f217",
  "updated_at": "2025-12-26T17:34:23.983169",
  "symbols": {
    "function_main_12": {
      "name": "main",
      "type": "function",
      "start_line": 12,
      "end_line": 44,
      "content_hash": "68675914d4fe6a63d6ca5a4165fea784006c4d13",
      "content": "func main() {\n\tdbPath := flag.String(\"db\", \"./rate_limits.db\", \"Path to rate limits database\")\n\tflag.Parse()\n\n\tabsPath, err := filepath.Abs(*dbPath)\n\tif err != nil {\n\t\tlog.Fatalf(\"Invalid database path: %v\", err)\n\t}\n\n\tlog.Printf(\"Initializing database at: %s\", absPath)\n\tif err := storage.InitRateLimitDB(absPath); err != nil {\n\t\tlog.Fatalf(\"Failed to initialize database: %v\", err)\n\t}\n\tdefer storage.CloseRateLimitDB()\n\n\tlog.Println(\"\ud83d\ude80 Starting seed process for 15 core providers...\")\n\n\t// Seed rate limits\n\tif err := scraper.SeedInitialRateLimits(); err != nil {\n\t\tlog.Fatalf(\"Failed to seed rate limits: %v\", err)\n\t}\n\n\t// Seed pricing\n\tif err := scraper.SeedInitialPricing(); err != nil {\n\t\tlog.Fatalf(\"Failed to seed pricing: %v\", err)\n\t}\n\n\tlog.Println(\"\u2705 Database seeded successfully!\")\n\tlog.Println(\"\\nNext steps:\")\n\tlog.Println(\"  1. Review rate_limits.db with: sqlite3 rate_limits.db\")\n\tlog.Println(\"  2. Query rate limits: SELECT * FROM rate_limits WHERE provider_name='openai';\")\n\tlog.Println(\"  3. Query pricing: SELECT * FROM provider_pricing WHERE provider_name='anthropic';\")\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    }
  }
}