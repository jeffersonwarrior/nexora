{
  "file_path": "/work/internal/indexer/di.go",
  "file_hash": "2031674b279cdae3d3b7ee1da76a2816854e585e",
  "updated_at": "2025-12-26T17:34:20.894911",
  "symbols": {
    "struct_DIContainer_15": {
      "name": "DIContainer",
      "type": "struct",
      "start_line": 15,
      "end_line": 20,
      "content_hash": "6920fc5b35589adb1d93fea20f9f03cae5b2d373",
      "content": "type DIContainer struct {\n\tservices map[string]any\n\tmu       sync.RWMutex\n}\n\n// NewDIContainer creates a new dependency injection container",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_NewDIContainer_21": {
      "name": "NewDIContainer",
      "type": "function",
      "start_line": 21,
      "end_line": 27,
      "content_hash": "0720400fa74b034fd8e3e943e82a8b0f36944bd3",
      "content": "func NewDIContainer() *DIContainer {\n\treturn &DIContainer{\n\t\tservices: make(map[string]any),\n\t}\n}\n\n// Register registers a service with the container",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Register_28": {
      "name": "Register",
      "type": "method",
      "start_line": 28,
      "end_line": 41,
      "content_hash": "0cea53405d66eb16c81f1a7216ab95f777911615",
      "content": "func (c *DIContainer) Register(name string, service any) error {\n\tc.mu.Lock()\n\tdefer c.mu.Unlock()\n\n\tif _, exists := c.services[name]; exists {\n\t\treturn fmt.Errorf(\"service %s already registered\", name)\n\t}\n\n\tc.services[name] = service\n\tslog.Debug(\"Service registered\", \"name\", name)\n\treturn nil\n}\n\n// Get retrieves a service from the container",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Get_42": {
      "name": "Get",
      "type": "method",
      "start_line": 42,
      "end_line": 54,
      "content_hash": "50fa35c649562cc08eb0b77d3b455def47bc49ce",
      "content": "func (c *DIContainer) Get(name string) (any, error) {\n\tc.mu.RLock()\n\tdefer c.mu.RUnlock()\n\n\tservice, exists := c.services[name]\n\tif !exists {\n\t\treturn nil, fmt.Errorf(\"service %s not found\", name)\n\t}\n\n\treturn service, nil\n}\n\n// MustGet retrieves a service or panics",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_MustGet_55": {
      "name": "MustGet",
      "type": "method",
      "start_line": 55,
      "end_line": 63,
      "content_hash": "5f2e4d590f0f7f58dc407d1d521f7f196809f928",
      "content": "func (c *DIContainer) MustGet(name string) any {\n\tservice, err := c.Get(name)\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\treturn service\n}\n\n// GetAs retrieves a service and type asserts it to the target type",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_GetAs_64": {
      "name": "GetAs",
      "type": "method",
      "start_line": 64,
      "end_line": 88,
      "content_hash": "c80ab829d7ed23c2e1b63c21499569776fbb8a32",
      "content": "func (c *DIContainer) GetAs(name string, target interface{}) error {\n\tc.mu.RLock()\n\tservice, exists := c.services[name]\n\tc.mu.RUnlock()\n\n\tif !exists {\n\t\treturn fmt.Errorf(\"service '%s' not found\", name)\n\t}\n\n\t// Type assertion using reflection\n\ttargetValue := reflect.ValueOf(target)\n\tif targetValue.Kind() != reflect.Ptr {\n\t\treturn fmt.Errorf(\"target must be a pointer\")\n\t}\n\n\tserviceValue := reflect.ValueOf(service)\n\tif !serviceValue.Type().AssignableTo(targetValue.Elem().Type()) {\n\t\treturn fmt.Errorf(\"service '%s' of type %T is not assignable to target type\", name, service)\n\t}\n\n\ttargetValue.Elem().Set(serviceValue)\n\treturn nil\n}\n\n// Has checks if a service is registered",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Has_89": {
      "name": "Has",
      "type": "method",
      "start_line": 89,
      "end_line": 97,
      "content_hash": "2719f6c0260e586740e6fdb5d71a25d0d1a63408",
      "content": "func (c *DIContainer) Has(name string) bool {\n\tc.mu.RLock()\n\tdefer c.mu.RUnlock()\n\n\t_, exists := c.services[name]\n\treturn exists\n}\n\n// Remove removes a service from the container",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Remove_98": {
      "name": "Remove",
      "type": "method",
      "start_line": 98,
      "end_line": 106,
      "content_hash": "70697160cc634359e9261a24c4ad7ace3c11749c",
      "content": "func (c *DIContainer) Remove(name string) {\n\tc.mu.Lock()\n\tdefer c.mu.Unlock()\n\n\tdelete(c.services, name)\n\tslog.Debug(\"Service removed\", \"name\", name)\n}\n\n// List returns all registered service names",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_List_107": {
      "name": "List",
      "type": "method",
      "start_line": 107,
      "end_line": 119,
      "content_hash": "f1f96480cf3d212070f49a4ae3e5b0940edb4d2e",
      "content": "func (c *DIContainer) List() []string {\n\tc.mu.RLock()\n\tdefer c.mu.RUnlock()\n\n\tnames := make([]string, 0, len(c.services))\n\tfor name := range c.services {\n\t\tnames = append(names, name)\n\t}\n\n\treturn names\n}\n\n// Clear removes all services from the container",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Clear_120": {
      "name": "Clear",
      "type": "method",
      "start_line": 120,
      "end_line": 128,
      "content_hash": "63e0074ce0f41bc3da3c00cd024b47d36165c95a",
      "content": "func (c *DIContainer) Clear() {\n\tc.mu.Lock()\n\tdefer c.mu.Unlock()\n\n\tc.services = make(map[string]any)\n\tslog.Debug(\"All services cleared\")\n}\n\n// ServiceFactory defines how to create services",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "interface_ServiceFactory_129": {
      "name": "ServiceFactory",
      "type": "interface",
      "start_line": 129,
      "end_line": 135,
      "content_hash": "25af95055539c655a1145467b9ce97a3136845e3",
      "content": "type ServiceFactory interface {\n\tCreate(ctx context.Context, container *DIContainer) (any, error)\n\tName() string\n\tDependencies() []string\n}\n\n// IndexerServiceFactory creates indexer services",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "struct_IndexerServiceFactory_136": {
      "name": "IndexerServiceFactory",
      "type": "struct",
      "start_line": 136,
      "end_line": 139,
      "content_hash": "904e3a317128c9605b82c153effa2f41d4322188",
      "content": "type IndexerServiceFactory struct {\n\tconfig SymbolStoreConfig\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Name_140": {
      "name": "Name",
      "type": "method",
      "start_line": 140,
      "end_line": 143,
      "content_hash": "32f61b3a00f3f6694962b8ff30315986fad1531f",
      "content": "func (f *IndexerServiceFactory) Name() string {\n\treturn \"indexer\"\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Dependencies_144": {
      "name": "Dependencies",
      "type": "method",
      "start_line": 144,
      "end_line": 147,
      "content_hash": "0849910caecd5f58301122b0704286c16fe42cf0",
      "content": "func (f *IndexerServiceFactory) Dependencies() []string {\n\treturn []string{} // No dependencies for basic indexer\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Create_148": {
      "name": "Create",
      "type": "method",
      "start_line": 148,
      "end_line": 164,
      "content_hash": "6983adb4eb92c796d2b0338dccc1f00ebda2950c",
      "content": "func (f *IndexerServiceFactory) Create(ctx context.Context, container *DIContainer) (any, error) {\n\tindexer, err := NewIndexer(f.config.DatabasePath)\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\n\t// Auto-register for factory pattern test\n\tif !container.Has(f.Name()) {\n\t\tif err := container.Register(f.Name(), indexer); err != nil {\n\t\t\treturn nil, err\n\t\t}\n\t}\n\n\treturn indexer, nil\n}\n\n// NewIndexerServiceFactory creates an indexer service factory",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_NewIndexerServiceFactory_165": {
      "name": "NewIndexerServiceFactory",
      "type": "function",
      "start_line": 165,
      "end_line": 169,
      "content_hash": "c1be84828be8ac9580b1a9faf86b47c1d490be4c",
      "content": "func NewIndexerServiceFactory(config SymbolStoreConfig) *IndexerServiceFactory {\n\treturn &IndexerServiceFactory{config: config}\n}\n\n// ParserServiceFactory creates parser services",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "struct_ParserServiceFactory_170": {
      "name": "ParserServiceFactory",
      "type": "struct",
      "start_line": 170,
      "end_line": 173,
      "content_hash": "7570743cb43f2ffdd141cbbeb4ad0a02cc675428",
      "content": "type ParserServiceFactory struct {\n\tincludeTests bool\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Name_174": {
      "name": "Name",
      "type": "method",
      "start_line": 174,
      "end_line": 177,
      "content_hash": "f995710ab7e126574d1b05548c76d3cbcafe81d6",
      "content": "func (f *ParserServiceFactory) Name() string {\n\treturn \"parser\"\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Dependencies_178": {
      "name": "Dependencies",
      "type": "method",
      "start_line": 178,
      "end_line": 181,
      "content_hash": "b847c0e36129c316bd868e4cc875253c2a12efea",
      "content": "func (f *ParserServiceFactory) Dependencies() []string {\n\treturn []string{}\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Create_182": {
      "name": "Create",
      "type": "method",
      "start_line": 182,
      "end_line": 188,
      "content_hash": "d155c828e33c26a03ffce97489d9ded89a9fce6d",
      "content": "func (f *ParserServiceFactory) Create(ctx context.Context, container *DIContainer) (any, error) {\n\tparser := NewASTParser()\n\t// In a real implementation, you'd configure the parser based on factory params\n\treturn parser, nil\n}\n\n// NewParserServiceFactory creates a parser service factory",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_NewParserServiceFactory_189": {
      "name": "NewParserServiceFactory",
      "type": "function",
      "start_line": 189,
      "end_line": 193,
      "content_hash": "4a006e327f9ac21cf06d84bdca8d01a8950066c6",
      "content": "func NewParserServiceFactory(includeTests bool) *ParserServiceFactory {\n\treturn &ParserServiceFactory{includeTests: includeTests}\n}\n\n// EmbeddingServiceFactory creates embedding services",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "struct_EmbeddingServiceFactory_194": {
      "name": "EmbeddingServiceFactory",
      "type": "struct",
      "start_line": 194,
      "end_line": 197,
      "content_hash": "006fa055b4a078da113d7b57a7052fd722b49d0b",
      "content": "type EmbeddingServiceFactory struct {\n\tconfig EmbeddingConfig\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Name_198": {
      "name": "Name",
      "type": "method",
      "start_line": 198,
      "end_line": 201,
      "content_hash": "db58162f75ea394595da27bdb1ce4fb3c5110c02",
      "content": "func (f *EmbeddingServiceFactory) Name() string {\n\treturn \"embeddings\"\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Dependencies_202": {
      "name": "Dependencies",
      "type": "method",
      "start_line": 202,
      "end_line": 205,
      "content_hash": "07ad911d583b3aa247a5e59fbc03eba33615aa72",
      "content": "func (f *EmbeddingServiceFactory) Dependencies() []string {\n\treturn []string{\"indexer\"} // Embeddings need indexer to store results\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Create_206": {
      "name": "Create",
      "type": "method",
      "start_line": 206,
      "end_line": 234,
      "content_hash": "a81fdd156a5d2dcc4da14fec36965bd57a60ec91",
      "content": "func (f *EmbeddingServiceFactory) Create(ctx context.Context, container *DIContainer) (any, error) {\n\tindexerInterface, err := container.Get(\"indexer\")\n\tif err != nil {\n\t\treturn nil, fmt.Errorf(\"failed to get indexer: %w\", err)\n\t}\n\n\tindexer, ok := indexerInterface.(*Indexer)\n\tif !ok {\n\t\treturn nil, fmt.Errorf(\"invalid indexer type\")\n\t}\n\n\tvar provider EmbeddingProvider\n\tswitch f.config.Provider {\n\tcase \"mistral\":\n\t\tprovider = NewMistralProvider(f.config.APIKey, f.config.Model)\n\tcase \"openai\":\n\t\tprovider = NewOpenAIProvider(f.config.APIKey, \"\", f.config.Model)\n\tcase \"local\":\n\t\tprovider = NewLocalProvider(f.config.Model, \"\")\n\tdefault:\n\t\tprovider = NewLocalProvider(\"mock\", \"\")\n\t}\n\n\t// Wrap provider with an adapter that implements EmbeddingGenerator\n\twrappedProvider := NewEmbeddingGeneratorAdapter(provider)\n\treturn NewEmbeddingEngine(wrappedProvider, indexer), nil\n}\n\n// NewEmbeddingServiceFactory creates an embedding service factory",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_NewEmbeddingServiceFactory_235": {
      "name": "NewEmbeddingServiceFactory",
      "type": "function",
      "start_line": 235,
      "end_line": 239,
      "content_hash": "ce536b063c823d12fe28ad4deb09c6aebcfcc5d4",
      "content": "func NewEmbeddingServiceFactory(config EmbeddingConfig) *EmbeddingServiceFactory {\n\treturn &EmbeddingServiceFactory{config: config}\n}\n\n// CacheServiceFactory creates cache services",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "struct_CacheServiceFactory_240": {
      "name": "CacheServiceFactory",
      "type": "struct",
      "start_line": 240,
      "end_line": 243,
      "content_hash": "f62d4917b40568feb37789abeb880b8cdf0f15c4",
      "content": "type CacheServiceFactory struct {\n\tconfig CacheConfig\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Name_244": {
      "name": "Name",
      "type": "method",
      "start_line": 244,
      "end_line": 247,
      "content_hash": "3c64e41e685e4bc8a7b8116370f52a7007a63d0f",
      "content": "func (f *CacheServiceFactory) Name() string {\n\treturn \"cache\"\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Dependencies_248": {
      "name": "Dependencies",
      "type": "method",
      "start_line": 248,
      "end_line": 251,
      "content_hash": "59e1ffd92bf3809750442835fce831855a8ae64f",
      "content": "func (f *CacheServiceFactory) Dependencies() []string {\n\treturn []string{}\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Create_252": {
      "name": "Create",
      "type": "method",
      "start_line": 252,
      "end_line": 256,
      "content_hash": "3731c85eed7b1d2faa5f84e00dc288fcf4257b0d",
      "content": "func (f *CacheServiceFactory) Create(ctx context.Context, container *DIContainer) (interface{}, error) {\n\treturn NewMemoryCache(f.config), nil\n}\n\n// NewCacheServiceFactory creates a cache service factory",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_NewCacheServiceFactory_257": {
      "name": "NewCacheServiceFactory",
      "type": "function",
      "start_line": 257,
      "end_line": 261,
      "content_hash": "b063da11e367d6f0e6fc3d4e97d1b558acac02c8",
      "content": "func NewCacheServiceFactory(config CacheConfig) *CacheServiceFactory {\n\treturn &CacheServiceFactory{config: config}\n}\n\n// DIApplicationBuilder helps build applications with dependency injection",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "struct_DIApplicationBuilder_262": {
      "name": "DIApplicationBuilder",
      "type": "struct",
      "start_line": 262,
      "end_line": 270,
      "content_hash": "b33f1d0529695443bfe7129ebb3dda28f7958889",
      "content": "type DIApplicationBuilder struct {\n\tcontainer  *DIContainer\n\tfactories  []ServiceFactory\n\tbuildOrder []string\n\tlastBuild  time.Time\n\tbuilt      bool\n}\n\n// NewDIApplicationBuilder creates a new application builder",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_NewDIApplicationBuilder_271": {
      "name": "NewDIApplicationBuilder",
      "type": "function",
      "start_line": 271,
      "end_line": 279,
      "content_hash": "b6cbd6cb2e49619b193c7333ac3ac580d12cd6b7",
      "content": "func NewDIApplicationBuilder() *DIApplicationBuilder {\n\treturn &DIApplicationBuilder{\n\t\tcontainer:  NewDIContainer(),\n\t\tfactories:  make([]ServiceFactory, 0),\n\t\tbuildOrder: make([]string, 0),\n\t}\n}\n\n// AddFactory adds a service factory to the builder",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_AddFactory_280": {
      "name": "AddFactory",
      "type": "method",
      "start_line": 280,
      "end_line": 285,
      "content_hash": "106eeb62f65eea64be3201b9ba608ba7e1bcd468",
      "content": "func (b *DIApplicationBuilder) AddFactory(factory ServiceFactory) *DIApplicationBuilder {\n\tb.factories = append(b.factories, factory)\n\treturn b\n}\n\n// AddIndexer adds indexer configuration",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_AddIndexer_286": {
      "name": "AddIndexer",
      "type": "method",
      "start_line": 286,
      "end_line": 290,
      "content_hash": "ff14681c30b312468e71d21a67594b7c601f6781",
      "content": "func (b *DIApplicationBuilder) AddIndexer(config SymbolStoreConfig) *DIApplicationBuilder {\n\treturn b.AddFactory(NewIndexerServiceFactory(config))\n}\n\n// AddParser adds parser configuration",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_AddParser_291": {
      "name": "AddParser",
      "type": "method",
      "start_line": 291,
      "end_line": 295,
      "content_hash": "7e85079ae237edc0c2037519ab77a170322df3a4",
      "content": "func (b *DIApplicationBuilder) AddParser(includeTests bool) *DIApplicationBuilder {\n\treturn b.AddFactory(NewParserServiceFactory(includeTests))\n}\n\n// AddEmbeddings adds embedding configuration",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_AddEmbeddings_296": {
      "name": "AddEmbeddings",
      "type": "method",
      "start_line": 296,
      "end_line": 300,
      "content_hash": "5e49453b95642d9415d7292f1def976016cebb52",
      "content": "func (b *DIApplicationBuilder) AddEmbeddings(config EmbeddingConfig) *DIApplicationBuilder {\n\treturn b.AddFactory(NewEmbeddingServiceFactory(config))\n}\n\n// AddCache adds cache configuration",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_AddCache_301": {
      "name": "AddCache",
      "type": "method",
      "start_line": 301,
      "end_line": 305,
      "content_hash": "afdc97050f0fa3207078309ab150cb01570a869c",
      "content": "func (b *DIApplicationBuilder) AddCache(config CacheConfig) *DIApplicationBuilder {\n\treturn b.AddFactory(NewCacheServiceFactory(config))\n}\n\n// Build builds all services in dependency order",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Build_306": {
      "name": "Build",
      "type": "method",
      "start_line": 306,
      "end_line": 332,
      "content_hash": "dc63e6f72c4e4fc7bfdea21493b692a2d0256c76",
      "content": "func (b *DIApplicationBuilder) Build(ctx context.Context) error {\n\tif b.built {\n\t\treturn fmt.Errorf(\"application already built\")\n\t}\n\n\t// Calculate build order based on dependencies\n\tb.buildOrder = b.calculateBuildOrder()\n\n\t// Create services in dependency order\n\tfor _, serviceName := range b.buildOrder {\n\t\terr := b.createService(ctx, serviceName)\n\t\tif err != nil {\n\t\t\treturn fmt.Errorf(\"failed to create service %s: %w\", serviceName, err)\n\t\t}\n\t}\n\n\tb.built = true\n\tb.lastBuild = time.Now()\n\n\tslog.Info(\"Application built successfully\",\n\t\t\"services\", len(b.buildOrder),\n\t\t\"duration\", time.Since(b.lastBuild))\n\n\treturn nil\n}\n\n// calculateBuildOrder determines the order to create services based on dependencies",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_calculateBuildOrder_333": {
      "name": "calculateBuildOrder",
      "type": "method",
      "start_line": 333,
      "end_line": 386,
      "content_hash": "fac42f6924a678f2d0507afc6345a40444c43863",
      "content": "func (b *DIApplicationBuilder) calculateBuildOrder() []string {\n\t// Simple topological sort for dependencies\n\torder := make([]string, 0)\n\tvisited := make(map[string]bool)\n\tvisiting := make(map[string]bool)\n\n\tvar visit func(name string) error\n\tvisit = func(name string) error {\n\t\tif visiting[name] {\n\t\t\treturn fmt.Errorf(\"circular dependency detected for %s\", name)\n\t\t}\n\t\tif visited[name] {\n\t\t\treturn nil\n\t\t}\n\n\t\tvisiting[name] = true\n\t\tdefer func() { visiting[name] = false }()\n\n\t\t// Find factory for this service\n\t\tvar factory ServiceFactory\n\t\tfor _, f := range b.factories {\n\t\t\tif f.Name() == name {\n\t\t\t\tfactory = f\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\tif factory == nil {\n\t\t\treturn fmt.Errorf(\"no factory found for service %s\", name)\n\t\t}\n\n\t\t// Visit dependencies first\n\t\tfor _, dep := range factory.Dependencies() {\n\t\t\tif err := visit(dep); err != nil {\n\t\t\t\treturn err\n\t\t\t}\n\t\t}\n\n\t\tvisited[name] = true\n\t\torder = append(order, name)\n\t\treturn nil\n\t}\n\n\t// Visit all factory services\n\tfor _, factory := range b.factories {\n\t\tif err := visit(factory.Name()); err != nil {\n\t\t\tslog.Error(\"Dependency resolution failed\", \"service\", factory.Name(), \"error\", err)\n\t\t}\n\t}\n\n\treturn order\n}\n\n// createService creates a single service",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_createService_387": {
      "name": "createService",
      "type": "method",
      "start_line": 387,
      "end_line": 439,
      "content_hash": "62077fce302249396373c276c3ca3e725249da6c",
      "content": "func (b *DIApplicationBuilder) createService(ctx context.Context, serviceName string) error {\n\t// Find factory for this service\n\tvar factory ServiceFactory\n\tfor _, f := range b.factories {\n\t\tif f.Name() == serviceName {\n\t\t\tfactory = f\n\t\t\tbreak\n\t\t}\n\t}\n\n\tif factory == nil {\n\t\treturn fmt.Errorf(\"no factory found for service %s\", serviceName)\n\t}\n\n\t// Check if already created\n\tif b.container.Has(serviceName) {\n\t\treturn nil\n\t}\n\n\t// Ensure dependencies are created\n\tfor _, dep := range factory.Dependencies() {\n\t\tif !b.container.Has(dep) {\n\t\t\tif err := b.createService(ctx, dep); err != nil {\n\t\t\t\treturn err\n\t\t\t}\n\t\t}\n\t}\n\n\t// Create the service\n\tstart := time.Now()\n\tservice, err := factory.Create(ctx, b.container)\n\tduration := time.Since(start)\n\n\tif err != nil {\n\t\treturn err\n\t}\n\n\t// Register the service (skip if factory already registered it)\n\tif !b.container.Has(serviceName) {\n\t\tif err := b.container.Register(serviceName, service); err != nil {\n\t\t\treturn err\n\t\t}\n\t}\n\n\tslog.Debug(\"Service created\",\n\t\t\"name\", serviceName,\n\t\t\"type\", fmt.Sprintf(\"%T\", service),\n\t\t\"duration\", duration)\n\n\treturn nil\n}\n\n// GetContainer returns the built container",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_GetContainer_440": {
      "name": "GetContainer",
      "type": "method",
      "start_line": 440,
      "end_line": 444,
      "content_hash": "f526270ed7fed02bcb8467a0beb6d1a01bc80e5b",
      "content": "func (b *DIApplicationBuilder) GetContainer() *DIContainer {\n\treturn b.container\n}\n\n// GetService gets a service from the built container",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_GetService_445": {
      "name": "GetService",
      "type": "method",
      "start_line": 445,
      "end_line": 452,
      "content_hash": "01f81cca2226e5809659fcf48cb7dce4f478578c",
      "content": "func (b *DIApplicationBuilder) GetService(name string) (interface{}, error) {\n\tif !b.built {\n\t\treturn nil, fmt.Errorf(\"application not built yet\")\n\t}\n\treturn b.container.Get(name)\n}\n\n// MustGetService gets a service or panics",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_MustGetService_453": {
      "name": "MustGetService",
      "type": "method",
      "start_line": 453,
      "end_line": 461,
      "content_hash": "e3b6f6ed4b74c056f7fce0ee2ed9bc36ead58206",
      "content": "func (b *DIApplicationBuilder) MustGetService(name string) interface{} {\n\tservice, err := b.GetService(name)\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\treturn service\n}\n\n// Reset clears the builder and container",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_Reset_462": {
      "name": "Reset",
      "type": "method",
      "start_line": 462,
      "end_line": 470,
      "content_hash": "6d58a6154d412c2ea67fd9154377c63a09f301ba",
      "content": "func (b *DIApplicationBuilder) Reset() {\n\tb.container.Clear()\n\tb.factories = make([]ServiceFactory, 0)\n\tb.buildOrder = make([]string, 0)\n\tb.built = false\n\tb.lastBuild = time.Time{}\n}\n\n// GetBuildInfo returns information about the last build",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_GetBuildInfo_471": {
      "name": "GetBuildInfo",
      "type": "method",
      "start_line": 471,
      "end_line": 480,
      "content_hash": "7117dfac98f3b23c2b40289d894fbbcdb7234911",
      "content": "func (b *DIApplicationBuilder) GetBuildInfo() BuildInfo {\n\treturn BuildInfo{\n\t\tServiceCount:  len(b.buildOrder),\n\t\tLastBuildTime: b.lastBuild,\n\t\tIsBuilt:       b.built,\n\t\tServices:      b.buildOrder,\n\t}\n}\n\n// BuildInfo contains information about the built application",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "struct_BuildInfo_481": {
      "name": "BuildInfo",
      "type": "struct",
      "start_line": 481,
      "end_line": 488,
      "content_hash": "5c590101fec15a37d4f422e58064b6ddd3c5da6a",
      "content": "type BuildInfo struct {\n\tServiceCount  int       `json:\"service_count\"`\n\tLastBuildTime time.Time `json:\"last_build_time\"`\n\tIsBuilt       bool      `json:\"is_built\"`\n\tServices      []string  `json:\"services\"`\n}\n\n// Helper function for creating a complete indexer system with DI",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_CreateIndexerSystem_489": {
      "name": "CreateIndexerSystem",
      "type": "function",
      "start_line": 489,
      "end_line": 504,
      "content_hash": "a353b5714697bcae9789366539c8d339da763323",
      "content": "func CreateIndexerSystem(config IndexerSystemConfig) (*DIApplicationBuilder, error) {\n\tbuilder := NewDIApplicationBuilder().\n\t\tAddIndexer(config.SymbolConfig).\n\t\tAddParser(config.IncludeTests).\n\t\tAddEmbeddings(config.EmbeddingConfig).\n\t\tAddCache(config.CacheConfig)\n\n\tctx := context.Background()\n\tif err := builder.Build(ctx); err != nil {\n\t\treturn nil, fmt.Errorf(\"failed to build indexer system: %w\", err)\n\t}\n\n\treturn builder, nil\n}\n\n// IndexerSystemConfig holds configuration for the entire indexer system",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "struct_IndexerSystemConfig_505": {
      "name": "IndexerSystemConfig",
      "type": "struct",
      "start_line": 505,
      "end_line": 512,
      "content_hash": "639f12dafa8ffea49148f246379549da695cd12b",
      "content": "type IndexerSystemConfig struct {\n\tSymbolConfig    SymbolStoreConfig\n\tEmbeddingConfig EmbeddingConfig\n\tCacheConfig     CacheConfig\n\tIncludeTests    bool\n}\n\n// DefaultIndexerSystemConfig returns a sensible default configuration",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_DefaultIndexerSystemConfig_513": {
      "name": "DefaultIndexerSystemConfig",
      "type": "function",
      "start_line": 513,
      "end_line": 530,
      "content_hash": "2eb464bebfdf19119a405086d3dc06093921c3de",
      "content": "func DefaultIndexerSystemConfig() IndexerSystemConfig {\n\treturn IndexerSystemConfig{\n\t\tSymbolConfig: SymbolStoreConfig{\n\t\t\tDatabasePath: \"nexora_index.db\",\n\t\t\tCacheEnabled: true,\n\t\t\tReadOnly:     false,\n\t\t},\n\t\tEmbeddingConfig: EmbeddingConfig{\n\t\t\tProvider:   \"local\",\n\t\t\tModel:      \"mock\",\n\t\t\tAPIKey:     \"\",\n\t\t\tTimeout:    30 * time.Second,\n\t\t\tMaxRetries: 3,\n\t\t},\n\t\tCacheConfig:  DefaultCacheConfig(),\n\t\tIncludeTests: false,\n\t}\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    }
  }
}