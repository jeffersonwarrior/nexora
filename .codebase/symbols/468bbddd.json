{
  "file_path": "/work/external-deps/claude-mem/src/shared/paths.ts",
  "file_hash": "6b77c23762a02319e32a9e399eb44d5872668744",
  "updated_at": "2025-12-26T17:34:24.529393",
  "symbols": {
    "function_getDirname_9": {
      "name": "getDirname",
      "type": "function",
      "start_line": 9,
      "end_line": 16,
      "content_hash": "25dce799731a3595049f05b1465a01465cd396c6",
      "content": "function getDirname(): string {\n  // CJS context - __dirname exists\n  if (typeof __dirname !== 'undefined') {\n    return __dirname;\n  }\n  // ESM context - use import.meta.url\n  return dirname(fileURLToPath(import.meta.url));\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_getProjectArchiveDir_48": {
      "name": "getProjectArchiveDir",
      "type": "function",
      "start_line": 48,
      "end_line": 50,
      "content_hash": "670cc0653ccf5f8b992408508f0fa75f6ff1a314",
      "content": "export function getProjectArchiveDir(projectName: string): string {\n  return join(ARCHIVES_DIR, projectName);\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_getWorkerSocketPath_55": {
      "name": "getWorkerSocketPath",
      "type": "function",
      "start_line": 55,
      "end_line": 57,
      "content_hash": "723fda6b2fd9cffa73985e5343ac75690de0b4c7",
      "content": "export function getWorkerSocketPath(sessionId: number): string {\n  return join(DATA_DIR, `worker-${sessionId}.sock`);\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_ensureDir_62": {
      "name": "ensureDir",
      "type": "function",
      "start_line": 62,
      "end_line": 64,
      "content_hash": "37b88788fc539e05a881237037bd2dc754d08ad9",
      "content": "export function ensureDir(dirPath: string): void {\n  mkdirSync(dirPath, { recursive: true });\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_ensureAllDataDirs_69": {
      "name": "ensureAllDataDirs",
      "type": "function",
      "start_line": 69,
      "end_line": 76,
      "content_hash": "b49e0a397476f9f21805ed845a2ec196ec2eff16",
      "content": "export function ensureAllDataDirs(): void {\n  ensureDir(DATA_DIR);\n  ensureDir(ARCHIVES_DIR);\n  ensureDir(LOGS_DIR);\n  ensureDir(TRASH_DIR);\n  ensureDir(BACKUPS_DIR);\n  ensureDir(MODES_DIR);\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_ensureModesDir_81": {
      "name": "ensureModesDir",
      "type": "function",
      "start_line": 81,
      "end_line": 83,
      "content_hash": "17c840b5e3db2aa3aa6a9e632871a706293db64f",
      "content": "export function ensureModesDir(): void {\n  ensureDir(MODES_DIR);\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_ensureAllClaudeDirs_88": {
      "name": "ensureAllClaudeDirs",
      "type": "function",
      "start_line": 88,
      "end_line": 91,
      "content_hash": "c0100affa73ad1a58d3f7da313e24d2d0be5c56a",
      "content": "export function ensureAllClaudeDirs(): void {\n  ensureDir(CLAUDE_CONFIG_DIR);\n  ensureDir(CLAUDE_COMMANDS_DIR);\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_getCurrentProjectName_96": {
      "name": "getCurrentProjectName",
      "type": "function",
      "start_line": 96,
      "end_line": 108,
      "content_hash": "abb57e84deddc1a8d89f0799ac9db89b912328f1",
      "content": "export function getCurrentProjectName(): string {\n  try {\n    const gitRoot = execSync('git rev-parse --show-toplevel', {\n      cwd: process.cwd(),\n      encoding: 'utf8',\n      stdio: ['pipe', 'pipe', 'ignore'],\n      windowsHide: true\n    }).trim();\n    return basename(gitRoot);\n  } catch {\n    return basename(process.cwd());\n  }\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_getPackageRoot_116": {
      "name": "getPackageRoot",
      "type": "function",
      "start_line": 116,
      "end_line": 118,
      "content_hash": "b9fad404aeaa433bde6940aefd92e134323be1d2",
      "content": "export function getPackageRoot(): string {\n  return join(_dirname, '..');\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_getPackageCommandsDir_123": {
      "name": "getPackageCommandsDir",
      "type": "function",
      "start_line": 123,
      "end_line": 126,
      "content_hash": "bc1d6f4e55c27e4c283945a73c16d5c217f23bfd",
      "content": "export function getPackageCommandsDir(): string {\n  const packageRoot = getPackageRoot();\n  return join(packageRoot, 'commands');\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_createBackupFilename_131": {
      "name": "createBackupFilename",
      "type": "function",
      "start_line": 131,
      "end_line": 139,
      "content_hash": "0d11e6c546d35f3cb9b77e0d64a55d083976a410",
      "content": "export function createBackupFilename(originalPath: string): string {\n  const timestamp = new Date()\n    .toISOString()\n    .replace(/[:.]/g, '-')\n    .replace('T', '_')\n    .slice(0, 19);\n\n  return `${originalPath}.backup.${timestamp}`;\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    }
  }
}