{
  "file_path": "/work/external-deps/helix-db/hql-tests/tests/add_e_borrowed_ids/queries.rs",
  "file_hash": "6fcecd65c2f9c8b709892dcbcc40f934cc4f5786",
  "updated_at": "2025-12-26T17:34:21.319564",
  "symbols": {
    "function_config_90": {
      "name": "config",
      "type": "function",
      "start_line": 90,
      "end_line": 141,
      "content_hash": "776b35582a13751a0154ba14ced8d83b14fa6b92",
      "content": "pub fn config() -> Option<Config> {\nreturn Some(Config {\nvector_config: Some(VectorConfig {\nm: Some(16),\nef_construction: Some(128),\nef_search: Some(768),\n}),\ngraph_config: Some(GraphConfig {\nsecondary_indices: Some(vec![]),\n}),\ndb_max_size_gb: Some(10),\nmcp: Some(true),\nbm25: Some(true),\nschema: Some(r#\"{\n  \"schema\": {\n    \"nodes\": [\n      {\n        \"name\": \"Person\",\n        \"properties\": {\n          \"id\": \"ID\",\n          \"label\": \"String\",\n          \"name\": \"String\"\n        }\n      }\n    ],\n    \"vectors\": [],\n    \"edges\": [\n      {\n        \"name\": \"Knows\",\n        \"from\": \"Person\",\n        \"to\": \"Person\",\n        \"properties\": {\n          \"since\": \"String\"\n        }\n      }\n    ]\n  },\n  \"queries\": [\n    {\n      \"name\": \"AddEdges\",\n      \"parameters\": {\n        \"edges\": \"Array({to_id: IDsince: Stringfrom_id: ID})\"\n      },\n      \"returns\": []\n    }\n  ]\n}\"#.to_string()),\nembedding_model: Some(\"text-embedding-ada-002\".to_string()),\ngraphvis_node_label: None,\n})\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "struct_Person_142": {
      "name": "Person",
      "type": "struct",
      "start_line": 142,
      "end_line": 145,
      "content_hash": "db110877156029a568b6ff4e1f23837fcae06128",
      "content": "pub struct Person {\n    pub name: String,\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "struct_Knows_146": {
      "name": "Knows",
      "type": "struct",
      "start_line": 146,
      "end_line": 153,
      "content_hash": "783eab3119157de46b2605c7d980da22ab7a25bf",
      "content": "pub struct Knows {\n    pub from: Person,\n    pub to: Person,\n    pub since: String,\n}\n\n\n#[derive(Serialize, Deserialize, Clone)]",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "struct_AddEdgesInput_154": {
      "name": "AddEdgesInput",
      "type": "struct",
      "start_line": 154,
      "end_line": 158,
      "content_hash": "c8fe35060d302314057d37903768564ab970eae4",
      "content": "pub struct AddEdgesInput {\n\npub edges: Vec<edgesData>\n}\n#[derive(Serialize, Deserialize, Clone)]",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "struct_edgesData_159": {
      "name": "edgesData",
      "type": "struct",
      "start_line": 159,
      "end_line": 164,
      "content_hash": "65d8eb1a32f59004c413e9863f55f1c407c6ea95",
      "content": "pub struct edgesData {\n    pub to_id: ID,\n    pub since: String,\n    pub from_id: ID,\n}\n#[handler]",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_AddEdges_165": {
      "name": "AddEdges",
      "type": "function",
      "start_line": 165,
      "end_line": 182,
      "content_hash": "e98500bc995292af8f20fcb0b6e31887b0664b19",
      "content": "pub fn AddEdges (input: HandlerInput) -> Result<Response, GraphError> {\nlet db = Arc::clone(&input.graph.storage);\nlet data = input.request.in_fmt.deserialize::<AddEdgesInput>(&input.request.body)?;\nlet arena = Bump::new();\nlet mut txn = db.graph_env.write_txn().map_err(|e| GraphError::New(format!(\"Failed to start write transaction: {:?}\", e)))?;\n    for edgesData { from_id, to_id, since } in &data.edges {\n    G::new_mut(&db, &arena, &mut txn)\n.add_edge(\"Knows\", Some(ImmutablePropertiesMap::new(1, vec![(\"since\", Value::from(since.clone()))].into_iter(), &arena)), from_id.id(), to_id.id(), false).collect_to_obj()?;\n}\n;\nlet response = json!({\n    \"data\": \"Edges added successfully\"\n});\ntxn.commit().map_err(|e| GraphError::New(format!(\"Failed to commit transaction: {:?}\", e)))?;\nOk(input.request.out_fmt.create_response(&response))\n}\n\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    }
  }
}