{
  "file_path": "/work/external-deps/claude-mem/src/utils/bun-path.ts",
  "file_hash": "2090b91103a8092eb8089ac7f71fb0d2c88eb487",
  "updated_at": "2025-12-26T17:34:20.427774",
  "symbols": {
    "function_getBunPath_18": {
      "name": "getBunPath",
      "type": "function",
      "start_line": 18,
      "end_line": 52,
      "content_hash": "7ac5dc885fcebbabd04724c22214fe4438f0a71d",
      "content": "export function getBunPath(): string | null {\n  const isWindows = process.platform === 'win32';\n\n  // Try PATH first\n  try {\n    const result = spawnSync('bun', ['--version'], {\n      encoding: 'utf-8',\n      stdio: ['pipe', 'pipe', 'pipe'],\n      shell: false  // SECURITY: No need for shell, bun is the executable\n    });\n    if (result.status === 0) {\n      return 'bun'; // Available in PATH\n    }\n  } catch {\n    // Not in PATH, continue to check common locations\n  }\n\n  // Check common installation paths\n  const bunPaths = isWindows\n    ? [join(homedir(), '.bun', 'bin', 'bun.exe')]\n    : [\n        join(homedir(), '.bun', 'bin', 'bun'),\n        '/usr/local/bin/bun',\n        '/opt/homebrew/bin/bun', // Apple Silicon Homebrew\n        '/home/linuxbrew/.linuxbrew/bin/bun' // Linux Homebrew\n      ];\n\n  for (const bunPath of bunPaths) {\n    if (existsSync(bunPath)) {\n      return bunPath;\n    }\n  }\n\n  return null;\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_getBunPathOrThrow_58": {
      "name": "getBunPathOrThrow",
      "type": "function",
      "start_line": 58,
      "end_line": 70,
      "content_hash": "4c9fbbbf2252f8b34bbf8112f3cdba87293b0c68",
      "content": "export function getBunPathOrThrow(): string {\n  const bunPath = getBunPath();\n  if (!bunPath) {\n    const isWindows = process.platform === 'win32';\n    const installCmd = isWindows\n      ? 'powershell -c \"irm bun.sh/install.ps1 | iex\"'\n      : 'curl -fsSL https://bun.sh/install | bash';\n    throw new Error(\n      `Bun is required but not found. Install it with:\\n  ${installCmd}\\nThen restart your terminal.`\n    );\n  }\n  return bunPath;\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_isBunAvailable_75": {
      "name": "isBunAvailable",
      "type": "function",
      "start_line": 75,
      "end_line": 77,
      "content_hash": "199f3708d5ee73a6726b335b8424f2ff785489b1",
      "content": "export function isBunAvailable(): boolean {\n  return getBunPath() !== null;\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    }
  }
}