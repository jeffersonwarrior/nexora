{
  "file_path": "/work/external-deps/claude-mem/src/services/worker/validation/PrivacyCheckValidator.ts",
  "file_hash": "f8a00feeda3b26d20dbd7e64873060a990c56fc1",
  "updated_at": "2025-12-26T17:34:20.455145",
  "symbols": {
    "class_PrivacyCheckValidator_10": {
      "name": "PrivacyCheckValidator",
      "type": "class",
      "start_line": 10,
      "end_line": 41,
      "content_hash": "9d96fe227b11db93b514fc2cf55c3e88693ef014",
      "content": "export class PrivacyCheckValidator {\n  /**\n   * Check if user prompt is public (not entirely private)\n   *\n   * @param store - SessionStore instance\n   * @param claudeSessionId - Claude session ID\n   * @param promptNumber - Prompt number within session\n   * @param operationType - Type of operation being validated ('observation' or 'summarize')\n   * @returns User prompt text if public, null if private\n   */\n  static checkUserPromptPrivacy(\n    store: SessionStore,\n    claudeSessionId: string,\n    promptNumber: number,\n    operationType: 'observation' | 'summarize',\n    sessionDbId: number,\n    additionalContext?: Record<string, any>\n  ): string | null {\n    const userPrompt = store.getUserPrompt(claudeSessionId, promptNumber);\n\n    if (!userPrompt || userPrompt.trim() === '') {\n      logger.debug('HOOK', `Skipping ${operationType} - user prompt was entirely private`, {\n        sessionId: sessionDbId,\n        promptNumber,\n        ...additionalContext\n      });\n      return null;\n    }\n\n    return userPrompt;\n  }\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "method_checkUserPromptPrivacy_20": {
      "name": "checkUserPromptPrivacy",
      "type": "method",
      "start_line": 20,
      "end_line": 40,
      "content_hash": "52fa55b16a76b95f4d867cda55b4ff957e03a914",
      "content": "  static checkUserPromptPrivacy(\n    store: SessionStore,\n    claudeSessionId: string,\n    promptNumber: number,\n    operationType: 'observation' | 'summarize',\n    sessionDbId: number,\n    additionalContext?: Record<string, any>\n  ): string | null {\n    const userPrompt = store.getUserPrompt(claudeSessionId, promptNumber);\n\n    if (!userPrompt || userPrompt.trim() === '') {\n      logger.debug('HOOK', `Skipping ${operationType} - user prompt was entirely private`, {\n        sessionId: sessionDbId,\n        promptNumber,\n        ...additionalContext\n      });\n      return null;\n    }\n\n    return userPrompt;\n  }",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    }
  }
}