{
  "file_path": "/work/internal/env/env_test.go",
  "file_hash": "08cd747da35ca2b86ebcde20e3c1f4492a26b504",
  "updated_at": "2025-12-26T17:34:22.783857",
  "symbols": {
    "function_TestOsEnv_Get_10": {
      "name": "TestOsEnv_Get",
      "type": "function",
      "start_line": 10,
      "end_line": 23,
      "content_hash": "1f34a419c0e191510005da493d983f9974f3892e",
      "content": "func TestOsEnv_Get(t *testing.T) {\n\tenv := New()\n\n\t// Test getting an existing environment variable\n\tt.Setenv(\"TEST_VAR\", \"test_value\")\n\n\tvalue := env.Get(\"TEST_VAR\")\n\trequire.Equal(t, \"test_value\", value)\n\n\t// Test getting a non-existent environment variable\n\tvalue = env.Get(\"NON_EXISTENT_VAR\")\n\trequire.Equal(t, \"\", value)\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestOsEnv_Env_24": {
      "name": "TestOsEnv_Env",
      "type": "function",
      "start_line": 24,
      "end_line": 38,
      "content_hash": "6d064e6d9c5c327e0128f7c3a2c396a0a36c9f56",
      "content": "func TestOsEnv_Env(t *testing.T) {\n\tenv := New()\n\n\tenvVars := env.Env()\n\n\t// Environment should not be empty in normal circumstances\n\trequire.NotNil(t, envVars)\n\trequire.Greater(t, len(envVars), 0)\n\n\t// Each environment variable should be in key=value format\n\tfor _, envVar := range envVars {\n\t\trequire.Contains(t, envVar, \"=\")\n\t}\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestNewFromMap_39": {
      "name": "TestNewFromMap",
      "type": "function",
      "start_line": 39,
      "end_line": 49,
      "content_hash": "408a746e12676cbbd05600c21c18a0fffcf5c3d9",
      "content": "func TestNewFromMap(t *testing.T) {\n\ttestMap := map[string]string{\n\t\t\"KEY1\": \"value1\",\n\t\t\"KEY2\": \"value2\",\n\t}\n\n\tenv := NewFromMap(testMap)\n\trequire.NotNil(t, env)\n\trequire.IsType(t, &mapEnv{}, env)\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestMapEnv_Get_50": {
      "name": "TestMapEnv_Get",
      "type": "function",
      "start_line": 50,
      "end_line": 65,
      "content_hash": "f7d3c2082a0245428a6c12de9e878e0ab9db3ff5",
      "content": "func TestMapEnv_Get(t *testing.T) {\n\ttestMap := map[string]string{\n\t\t\"KEY1\": \"value1\",\n\t\t\"KEY2\": \"value2\",\n\t}\n\n\tenv := NewFromMap(testMap)\n\n\t// Test getting existing keys\n\trequire.Equal(t, \"value1\", env.Get(\"KEY1\"))\n\trequire.Equal(t, \"value2\", env.Get(\"KEY2\"))\n\n\t// Test getting non-existent key\n\trequire.Equal(t, \"\", env.Get(\"NON_EXISTENT\"))\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestMapEnv_Env_66": {
      "name": "TestMapEnv_Env",
      "type": "function",
      "start_line": 66,
      "end_line": 102,
      "content_hash": "36d39d940208791b1adc166ecb2ed06cc4eef4bf",
      "content": "func TestMapEnv_Env(t *testing.T) {\n\tt.Run(\"with values\", func(t *testing.T) {\n\t\ttestMap := map[string]string{\n\t\t\t\"KEY1\": \"value1\",\n\t\t\t\"KEY2\": \"value2\",\n\t\t}\n\n\t\tenv := NewFromMap(testMap)\n\t\tenvVars := env.Env()\n\n\t\trequire.Len(t, envVars, 2)\n\n\t\t// Convert to map for easier testing (order is not guaranteed)\n\t\tenvMap := make(map[string]string)\n\t\tfor _, envVar := range envVars {\n\t\t\tparts := strings.SplitN(envVar, \"=\", 2)\n\t\t\trequire.Len(t, parts, 2)\n\t\t\tenvMap[parts[0]] = parts[1]\n\t\t}\n\n\t\trequire.Equal(t, \"value1\", envMap[\"KEY1\"])\n\t\trequire.Equal(t, \"value2\", envMap[\"KEY2\"])\n\t})\n\n\tt.Run(\"empty map\", func(t *testing.T) {\n\t\tenv := NewFromMap(map[string]string{})\n\t\tenvVars := env.Env()\n\t\trequire.Nil(t, envVars)\n\t})\n\n\tt.Run(\"nil map\", func(t *testing.T) {\n\t\tenv := NewFromMap(nil)\n\t\tenvVars := env.Env()\n\t\trequire.Nil(t, envVars)\n\t})\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestMapEnv_GetEmptyValue_103": {
      "name": "TestMapEnv_GetEmptyValue",
      "type": "function",
      "start_line": 103,
      "end_line": 115,
      "content_hash": "0643c606e8e9a6987c2f1c8c271b1964341bfbf3",
      "content": "func TestMapEnv_GetEmptyValue(t *testing.T) {\n\ttestMap := map[string]string{\n\t\t\"EMPTY_KEY\":  \"\",\n\t\t\"NORMAL_KEY\": \"value\",\n\t}\n\n\tenv := NewFromMap(testMap)\n\n\t// Test that empty values are returned correctly\n\trequire.Equal(t, \"\", env.Get(\"EMPTY_KEY\"))\n\trequire.Equal(t, \"value\", env.Get(\"NORMAL_KEY\"))\n}\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_TestMapEnv_EnvFormat_116": {
      "name": "TestMapEnv_EnvFormat",
      "type": "function",
      "start_line": 116,
      "end_line": 140,
      "content_hash": "4aa8a58ae9ebb07252514afafe795b3bf91ec156",
      "content": "func TestMapEnv_EnvFormat(t *testing.T) {\n\ttestMap := map[string]string{\n\t\t\"KEY_WITH_EQUALS\": \"value=with=equals\",\n\t\t\"KEY_WITH_SPACES\": \"value with spaces\",\n\t}\n\n\tenv := NewFromMap(testMap)\n\tenvVars := env.Env()\n\n\trequire.Len(t, envVars, 2)\n\n\t// Check that the format is correct even with special characters\n\tfound := make(map[string]bool)\n\tfor _, envVar := range envVars {\n\t\tif envVar == \"KEY_WITH_EQUALS=value=with=equals\" {\n\t\t\tfound[\"equals\"] = true\n\t\t}\n\t\tif envVar == \"KEY_WITH_SPACES=value with spaces\" {\n\t\t\tfound[\"spaces\"] = true\n\t\t}\n\t}\n\n\trequire.True(t, found[\"equals\"], \"Should handle values with equals signs\")\n\trequire.True(t, found[\"spaces\"], \"Should handle values with spaces\")\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    }
  }
}