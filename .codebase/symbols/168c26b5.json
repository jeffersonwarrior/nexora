{
  "file_path": "/work/context-engine/.github/workflows/ci.yml",
  "file_hash": "eace27b5177808a4869b279428ee0d74d68342d4",
  "updated_at": "2025-12-26T17:34:22.255039",
  "symbols": {
    "key_name_1": {
      "name": "name",
      "type": "key",
      "start_line": 1,
      "end_line": 1,
      "content_hash": "c57205350997582c63245b67fc3c8f0ba4a8cf8e",
      "content": "name: CI",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_on_3": {
      "name": "on",
      "type": "key",
      "start_line": 3,
      "end_line": 7,
      "content_hash": "db9d38b8755e547081b40b28ac52f168001db24a",
      "content": "on:\n  push:\n    branches: [ test ]\n  pull_request:\n    branches: [ test ]",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_on.push_4": {
      "name": "on.push",
      "type": "key",
      "start_line": 4,
      "end_line": 5,
      "content_hash": "046cc68a6a9c88a35cfaed52d53f103a2d6d0358",
      "content": "  push:\n    branches: [ test ]",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_on.push.branches_5": {
      "name": "on.push.branches",
      "type": "key",
      "start_line": 5,
      "end_line": 5,
      "content_hash": "fcab2e4cd67382f57dbaa2ad0a6b2495e8de368d",
      "content": "    branches: [ test ]",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_on.pull_request_6": {
      "name": "on.pull_request",
      "type": "key",
      "start_line": 6,
      "end_line": 7,
      "content_hash": "5aa3b3c88c1734a565792a31c8eda6643e859539",
      "content": "  pull_request:\n    branches: [ test ]",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_on.pull_request.branches_7": {
      "name": "on.pull_request.branches",
      "type": "key",
      "start_line": 7,
      "end_line": 7,
      "content_hash": "fcab2e4cd67382f57dbaa2ad0a6b2495e8de368d",
      "content": "    branches: [ test ]",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs_9": {
      "name": "jobs",
      "type": "key",
      "start_line": 9,
      "end_line": 63,
      "content_hash": "3b6f3580d68ef94b84b8fd0d34f58e4e5e5b62dc",
      "content": "jobs:\n  test:\n    runs-on: ubuntu-latest\n    \n    services:\n      qdrant:\n        image: qdrant/qdrant:latest\n        ports:\n          - 6333:6333\n\n\n    steps:\n    - uses: actions/checkout@v4\n    \n    - name: Set up Python\n      uses: actions/setup-python@v4\n      with:\n        python-version: '3.11'\n        \n    - name: Cache pip dependencies\n      uses: actions/cache@v3\n      with:\n        path: ~/.cache/pip\n        key: ${{ runner.os }}-pip-${{ hashFiles('**/requirements*.txt', '**/pyproject.toml') }}\n        restore-keys: |\n          ${{ runner.os }}-pip-\n          \n    - name: Install dependencies\n      run: |\n        python -m pip install --upgrade pip\n        pip install -r requirements.txt\n        \n    - name: Wait for Qdrant to be ready\n      run: |\n        timeout 60 bash -c 'until curl -fsS http://localhost:6333/readyz; do sleep 2; done'\n        \n    - name: Set environment variables\n      run: |\n        echo \"QDRANT_URL=http://localhost:6333\" >> $GITHUB_ENV\n        echo \"COLLECTION_NAME=test-ci-${{ github.run_id }}\" >> $GITHUB_ENV\n        echo \"PYTHONPATH=${{ github.workspace }}/scripts:$PYTHONPATH\" >> $GITHUB_ENV\n        \n    - name: Run tests\n      run: pytest -q\n      \n    - name: Upload test results\n      uses: actions/upload-artifact@v4\n      if: always()\n      with:\n        name: test-results\n        path: |\n          .pytest_cache/\n          test-results.xml\n        retention-days: 7\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test_10": {
      "name": "jobs.test",
      "type": "key",
      "start_line": 10,
      "end_line": 63,
      "content_hash": "e37952457339b3fa0186ca299e9f5f2c0d2c9c82",
      "content": "  test:\n    runs-on: ubuntu-latest\n    \n    services:\n      qdrant:\n        image: qdrant/qdrant:latest\n        ports:\n          - 6333:6333\n\n\n    steps:\n    - uses: actions/checkout@v4\n    \n    - name: Set up Python\n      uses: actions/setup-python@v4\n      with:\n        python-version: '3.11'\n        \n    - name: Cache pip dependencies\n      uses: actions/cache@v3\n      with:\n        path: ~/.cache/pip\n        key: ${{ runner.os }}-pip-${{ hashFiles('**/requirements*.txt', '**/pyproject.toml') }}\n        restore-keys: |\n          ${{ runner.os }}-pip-\n          \n    - name: Install dependencies\n      run: |\n        python -m pip install --upgrade pip\n        pip install -r requirements.txt\n        \n    - name: Wait for Qdrant to be ready\n      run: |\n        timeout 60 bash -c 'until curl -fsS http://localhost:6333/readyz; do sleep 2; done'\n        \n    - name: Set environment variables\n      run: |\n        echo \"QDRANT_URL=http://localhost:6333\" >> $GITHUB_ENV\n        echo \"COLLECTION_NAME=test-ci-${{ github.run_id }}\" >> $GITHUB_ENV\n        echo \"PYTHONPATH=${{ github.workspace }}/scripts:$PYTHONPATH\" >> $GITHUB_ENV\n        \n    - name: Run tests\n      run: pytest -q\n      \n    - name: Upload test results\n      uses: actions/upload-artifact@v4\n      if: always()\n      with:\n        name: test-results\n        path: |\n          .pytest_cache/\n          test-results.xml\n        retention-days: 7\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.runs-on_11": {
      "name": "jobs.test.runs-on",
      "type": "key",
      "start_line": 11,
      "end_line": 11,
      "content_hash": "af41e65e8de6d5fac9a3ffe97c9153f19e320298",
      "content": "    runs-on: ubuntu-latest",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.services_13": {
      "name": "jobs.test.services",
      "type": "key",
      "start_line": 13,
      "end_line": 17,
      "content_hash": "e8c9959ca0370b4bb6da6f4f203d2aa01b87ff0c",
      "content": "    services:\n      qdrant:\n        image: qdrant/qdrant:latest\n        ports:\n          - 6333:6333",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.services.qdrant_14": {
      "name": "jobs.test.services.qdrant",
      "type": "key",
      "start_line": 14,
      "end_line": 17,
      "content_hash": "14d4cbb6db9f5139419438a937a1d2e058443e77",
      "content": "      qdrant:\n        image: qdrant/qdrant:latest\n        ports:\n          - 6333:6333",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.services.qdrant.image_15": {
      "name": "jobs.test.services.qdrant.image",
      "type": "key",
      "start_line": 15,
      "end_line": 15,
      "content_hash": "01630389b6decf79adad5f97cb60f9324874869f",
      "content": "        image: qdrant/qdrant:latest",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.services.qdrant.ports_16": {
      "name": "jobs.test.services.qdrant.ports",
      "type": "key",
      "start_line": 16,
      "end_line": 17,
      "content_hash": "a8f3ea711f994ad3a11a82f963230a2761e7fe3f",
      "content": "        ports:\n          - 6333:6333",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps_20": {
      "name": "jobs.test.steps",
      "type": "key",
      "start_line": 20,
      "end_line": 63,
      "content_hash": "954314fa6d2c1bad226c939eea3dd68a5b8e9e07",
      "content": "    steps:\n    - uses: actions/checkout@v4\n    \n    - name: Set up Python\n      uses: actions/setup-python@v4\n      with:\n        python-version: '3.11'\n        \n    - name: Cache pip dependencies\n      uses: actions/cache@v3\n      with:\n        path: ~/.cache/pip\n        key: ${{ runner.os }}-pip-${{ hashFiles('**/requirements*.txt', '**/pyproject.toml') }}\n        restore-keys: |\n          ${{ runner.os }}-pip-\n          \n    - name: Install dependencies\n      run: |\n        python -m pip install --upgrade pip\n        pip install -r requirements.txt\n        \n    - name: Wait for Qdrant to be ready\n      run: |\n        timeout 60 bash -c 'until curl -fsS http://localhost:6333/readyz; do sleep 2; done'\n        \n    - name: Set environment variables\n      run: |\n        echo \"QDRANT_URL=http://localhost:6333\" >> $GITHUB_ENV\n        echo \"COLLECTION_NAME=test-ci-${{ github.run_id }}\" >> $GITHUB_ENV\n        echo \"PYTHONPATH=${{ github.workspace }}/scripts:$PYTHONPATH\" >> $GITHUB_ENV\n        \n    - name: Run tests\n      run: pytest -q\n      \n    - name: Upload test results\n      uses: actions/upload-artifact@v4\n      if: always()\n      with:\n        name: test-results\n        path: |\n          .pytest_cache/\n          test-results.xml\n        retention-days: 7\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps.uses_21": {
      "name": "jobs.test.steps.uses",
      "type": "key",
      "start_line": 21,
      "end_line": 21,
      "content_hash": "0be78ad9d20585293471153fcb24afae4f40062e",
      "content": "    - uses: actions/checkout@v4",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps.name_23": {
      "name": "jobs.test.steps.name",
      "type": "key",
      "start_line": 23,
      "end_line": 23,
      "content_hash": "e86e676da9a656fb9cd14eef3a317c17d6bbed61",
      "content": "    - name: Set up Python",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps.uses_24": {
      "name": "jobs.test.steps.uses",
      "type": "key",
      "start_line": 24,
      "end_line": 24,
      "content_hash": "3e666842505dc915945e3aa1f8d1751c37bcf315",
      "content": "      uses: actions/setup-python@v4",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps.with_25": {
      "name": "jobs.test.steps.with",
      "type": "key",
      "start_line": 25,
      "end_line": 26,
      "content_hash": "a2f328b8e1dd4d262a41c1d6574d6e7a6a8294b9",
      "content": "      with:\n        python-version: '3.11'",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps.with.python-version_26": {
      "name": "jobs.test.steps.with.python-version",
      "type": "key",
      "start_line": 26,
      "end_line": 26,
      "content_hash": "ae72a1210e786bf8ee760ffb49b4826884abccab",
      "content": "        python-version: '3.11'",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps.name_28": {
      "name": "jobs.test.steps.name",
      "type": "key",
      "start_line": 28,
      "end_line": 28,
      "content_hash": "c486058c0f202f47ed8d82d59655d70fffaee01d",
      "content": "    - name: Cache pip dependencies",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps.uses_29": {
      "name": "jobs.test.steps.uses",
      "type": "key",
      "start_line": 29,
      "end_line": 29,
      "content_hash": "4becda0861dc411d8d22211e78201ef1c663217b",
      "content": "      uses: actions/cache@v3",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps.with_30": {
      "name": "jobs.test.steps.with",
      "type": "key",
      "start_line": 30,
      "end_line": 34,
      "content_hash": "d79d26e488caee1330c8c64697fe144f9fcb7f80",
      "content": "      with:\n        path: ~/.cache/pip\n        key: ${{ runner.os }}-pip-${{ hashFiles('**/requirements*.txt', '**/pyproject.toml') }}\n        restore-keys: |\n          ${{ runner.os }}-pip-",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps.with.path_31": {
      "name": "jobs.test.steps.with.path",
      "type": "key",
      "start_line": 31,
      "end_line": 31,
      "content_hash": "d53f0577dd883e55b5b89e5d6560ab515a6745c2",
      "content": "        path: ~/.cache/pip",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps.with.key_32": {
      "name": "jobs.test.steps.with.key",
      "type": "key",
      "start_line": 32,
      "end_line": 32,
      "content_hash": "8c859dde19c4d442f1555246b2b199b612c40485",
      "content": "        key: ${{ runner.os }}-pip-${{ hashFiles('**/requirements*.txt', '**/pyproject.toml') }}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps.with.restore-keys_33": {
      "name": "jobs.test.steps.with.restore-keys",
      "type": "key",
      "start_line": 33,
      "end_line": 34,
      "content_hash": "2225978e42cbfe2d93423eecacfe5dc7aefe4f93",
      "content": "        restore-keys: |\n          ${{ runner.os }}-pip-",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps.name_36": {
      "name": "jobs.test.steps.name",
      "type": "key",
      "start_line": 36,
      "end_line": 36,
      "content_hash": "455174c596987c733bfc683ca603a542cae34187",
      "content": "    - name: Install dependencies",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps.run_37": {
      "name": "jobs.test.steps.run",
      "type": "key",
      "start_line": 37,
      "end_line": 39,
      "content_hash": "10622526f2ea9272d9b696a897a8c6a1c660f343",
      "content": "      run: |\n        python -m pip install --upgrade pip\n        pip install -r requirements.txt",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps.name_41": {
      "name": "jobs.test.steps.name",
      "type": "key",
      "start_line": 41,
      "end_line": 41,
      "content_hash": "54ad534e849bb9090ad1a48678e13590b298577b",
      "content": "    - name: Wait for Qdrant to be ready",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps.run_42": {
      "name": "jobs.test.steps.run",
      "type": "key",
      "start_line": 42,
      "end_line": 43,
      "content_hash": "d31cbc2082b87489e0738f9aa82dd0e291783496",
      "content": "      run: |\n        timeout 60 bash -c 'until curl -fsS http://localhost:6333/readyz; do sleep 2; done'",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps.name_45": {
      "name": "jobs.test.steps.name",
      "type": "key",
      "start_line": 45,
      "end_line": 45,
      "content_hash": "37fcaa0383f4549f830c08db22b16c1190b8405a",
      "content": "    - name: Set environment variables",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps.run_46": {
      "name": "jobs.test.steps.run",
      "type": "key",
      "start_line": 46,
      "end_line": 49,
      "content_hash": "0287497f39a7becd44c84bc08a3a69f1469133dd",
      "content": "      run: |\n        echo \"QDRANT_URL=http://localhost:6333\" >> $GITHUB_ENV\n        echo \"COLLECTION_NAME=test-ci-${{ github.run_id }}\" >> $GITHUB_ENV\n        echo \"PYTHONPATH=${{ github.workspace }}/scripts:$PYTHONPATH\" >> $GITHUB_ENV",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps.name_51": {
      "name": "jobs.test.steps.name",
      "type": "key",
      "start_line": 51,
      "end_line": 51,
      "content_hash": "9dff6fdccce8e42d4e8ddf7bc013c6b949cfcfca",
      "content": "    - name: Run tests",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps.run_52": {
      "name": "jobs.test.steps.run",
      "type": "key",
      "start_line": 52,
      "end_line": 52,
      "content_hash": "f795294fc9b2cee99446280653c5c02a971b70fb",
      "content": "      run: pytest -q",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps.name_54": {
      "name": "jobs.test.steps.name",
      "type": "key",
      "start_line": 54,
      "end_line": 54,
      "content_hash": "97078f7aa56157e2c096328459e5140a247d19c9",
      "content": "    - name: Upload test results",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps.uses_55": {
      "name": "jobs.test.steps.uses",
      "type": "key",
      "start_line": 55,
      "end_line": 55,
      "content_hash": "4fcf79d7cbc299a9cb2443130c80175ac82ce828",
      "content": "      uses: actions/upload-artifact@v4",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps.if_56": {
      "name": "jobs.test.steps.if",
      "type": "key",
      "start_line": 56,
      "end_line": 56,
      "content_hash": "00f14c72c7586e3567cb2ba4b4f84b6694d1d61f",
      "content": "      if: always()",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps.with_57": {
      "name": "jobs.test.steps.with",
      "type": "key",
      "start_line": 57,
      "end_line": 63,
      "content_hash": "3bb7d8564993f5d48ab017ff42c94141d36419df",
      "content": "      with:\n        name: test-results\n        path: |\n          .pytest_cache/\n          test-results.xml\n        retention-days: 7\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps.with.name_58": {
      "name": "jobs.test.steps.with.name",
      "type": "key",
      "start_line": 58,
      "end_line": 58,
      "content_hash": "495d956ed7362d096a2d77170ef5c9dae5d4bc5d",
      "content": "        name: test-results",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps.with.path_59": {
      "name": "jobs.test.steps.with.path",
      "type": "key",
      "start_line": 59,
      "end_line": 61,
      "content_hash": "50a64522a62e7714596622859a414dffae332845",
      "content": "        path: |\n          .pytest_cache/\n          test-results.xml",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_jobs.test.steps.with.retention-days_62": {
      "name": "jobs.test.steps.with.retention-days",
      "type": "key",
      "start_line": 62,
      "end_line": 62,
      "content_hash": "ce7b394b325a69487adeeb679b3f23e0dee9e591",
      "content": "        retention-days: 7",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    }
  }
}