{
  "file_path": "/work/context-engine/deploy/kubernetes/kustomization.yaml",
  "file_hash": "712eb1978659ec664e832a12d427bc029f57cbae",
  "updated_at": "2025-12-26T17:34:24.940171",
  "symbols": {
    "key_apiVersion_1": {
      "name": "apiVersion",
      "type": "key",
      "start_line": 1,
      "end_line": 1,
      "content_hash": "c8eecd8480315996de16c5a8e179e4f4cae3b39f",
      "content": "apiVersion: kustomize.config.k8s.io/v1beta1",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_kind_2": {
      "name": "kind",
      "type": "key",
      "start_line": 2,
      "end_line": 2,
      "content_hash": "60c3e02a6eaf3aa59bfb71e536c67f93bcd4f1b9",
      "content": "kind: Kustomization",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_metadata_4": {
      "name": "metadata",
      "type": "key",
      "start_line": 4,
      "end_line": 6,
      "content_hash": "2c98a2fe058762fa95c866a9b490b3bce1f0fc1d",
      "content": "metadata:\n  name: context-engine\n  namespace: context-engine",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_metadata.name_5": {
      "name": "metadata.name",
      "type": "key",
      "start_line": 5,
      "end_line": 5,
      "content_hash": "1e8be6da6c02fb5522d10892d50585415437faf8",
      "content": "  name: context-engine",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_metadata.namespace_6": {
      "name": "metadata.namespace",
      "type": "key",
      "start_line": 6,
      "end_line": 6,
      "content_hash": "1a68fd2e6c59390f3813b7e9d5ff5c156e377737",
      "content": "  namespace: context-engine",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_resources_8": {
      "name": "resources",
      "type": "key",
      "start_line": 8,
      "end_line": 34,
      "content_hash": "0438dd3576386785cac05c94456b3c634c8e357d",
      "content": "resources:\n  # Namespace and configuration\n  - namespace.yaml\n  - configmap.yaml\n\n  # Core services\n  - qdrant.yaml\n  - code-models-pvc.yaml\n\n  # MCP servers\n  - mcp-memory.yaml\n  - mcp-indexer.yaml\n  - mcp-http.yaml\n  - learning-reranker-worker.yaml\n\n  # Indexer services\n  - indexer-services.yaml\n  - rbac.yaml\n  - networkpolicy.yaml\n  - hpa.yaml\n\n  # Optional services\n  - llamacpp.yaml\n  - upload-service.yaml\n  - ingress.yaml\n\n# Common labels",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_labels_35": {
      "name": "labels",
      "type": "key",
      "start_line": 35,
      "end_line": 42,
      "content_hash": "e9e3dbdd8143760901682ccf160dae28773fe7e2",
      "content": "labels:\n  - includeSelectors: true\n    pairs:\n      app.kubernetes.io/name: context-engine\n      app.kubernetes.io/component: kubernetes-deployment\n      app.kubernetes.io/managed-by: kustomize\n\n# Patches for production customization",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_labels.includeSelectors_36": {
      "name": "labels.includeSelectors",
      "type": "key",
      "start_line": 36,
      "end_line": 36,
      "content_hash": "a2a4e8d4617161f1150c80dd371143b2dc2ab5d1",
      "content": "  - includeSelectors: true",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_labels.pairs_37": {
      "name": "labels.pairs",
      "type": "key",
      "start_line": 37,
      "end_line": 42,
      "content_hash": "6aa892ac80f5c06b5aaf277f58c08d07c86fe7d7",
      "content": "    pairs:\n      app.kubernetes.io/name: context-engine\n      app.kubernetes.io/component: kubernetes-deployment\n      app.kubernetes.io/managed-by: kustomize\n\n# Patches for production customization",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_labels.pairs.app.kubernetes.io/name_38": {
      "name": "labels.pairs.app.kubernetes.io/name",
      "type": "key",
      "start_line": 38,
      "end_line": 38,
      "content_hash": "e3ec7296262b1c31a4645165d5acdaf55bcd92e5",
      "content": "      app.kubernetes.io/name: context-engine",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_labels.pairs.app.kubernetes.io/component_39": {
      "name": "labels.pairs.app.kubernetes.io/component",
      "type": "key",
      "start_line": 39,
      "end_line": 39,
      "content_hash": "cfea16c5bc7012d83e0e65ab0bc42d95a2f67e02",
      "content": "      app.kubernetes.io/component: kubernetes-deployment",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_labels.pairs.app.kubernetes.io/managed-by_40": {
      "name": "labels.pairs.app.kubernetes.io/managed-by",
      "type": "key",
      "start_line": 40,
      "end_line": 40,
      "content_hash": "4fe2735716f149e00359ce2b0f35ec82df07dd70",
      "content": "      app.kubernetes.io/managed-by: kustomize",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_patches_43": {
      "name": "patches",
      "type": "key",
      "start_line": 43,
      "end_line": 43,
      "content_hash": "3c23d295f15e2b018c8bdcb695dc261869e573fa",
      "content": "patches: []",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_configMapGenerator_46": {
      "name": "configMapGenerator",
      "type": "key",
      "start_line": 46,
      "end_line": 50,
      "content_hash": "b6469630d0e35b3419a5952b6e566a872eae3a80",
      "content": "configMapGenerator:\n  - name: context-engine-overrides\n    literals: []\n\n# Secret generator (optional - for sensitive data)",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_configMapGenerator.name_47": {
      "name": "configMapGenerator.name",
      "type": "key",
      "start_line": 47,
      "end_line": 47,
      "content_hash": "ef018d24b687a05b77fe40a9d723038be21fb206",
      "content": "  - name: context-engine-overrides",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_configMapGenerator.literals_48": {
      "name": "configMapGenerator.literals",
      "type": "key",
      "start_line": 48,
      "end_line": 48,
      "content_hash": "f8880e127c1d2dbeb356e1976f3d860768f75c34",
      "content": "    literals: []",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_secretGenerator_51": {
      "name": "secretGenerator",
      "type": "key",
      "start_line": 51,
      "end_line": 55,
      "content_hash": "c3223c7525ed6652cb384335bfe9221802f3f284",
      "content": "secretGenerator:\n  - name: context-engine-secrets\n    literals: []\n\n# Images configuration (customize for your registry)",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_secretGenerator.name_52": {
      "name": "secretGenerator.name",
      "type": "key",
      "start_line": 52,
      "end_line": 52,
      "content_hash": "2783209bf720533d2345c52b3a3840efe9c78b74",
      "content": "  - name: context-engine-secrets",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_secretGenerator.literals_53": {
      "name": "secretGenerator.literals",
      "type": "key",
      "start_line": 53,
      "end_line": 53,
      "content_hash": "f8880e127c1d2dbeb356e1976f3d860768f75c34",
      "content": "    literals: []",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_images_56": {
      "name": "images",
      "type": "key",
      "start_line": 56,
      "end_line": 62,
      "content_hash": "4e44f1213cfd24d851c624512c77d570a6a7121f",
      "content": "images:\n  - name: context-engine\n    newTag: latest\n    # newTag: v1.0.0\n    # newName: your-registry/context-engine\n\n# Namespace override",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_images.name_57": {
      "name": "images.name",
      "type": "key",
      "start_line": 57,
      "end_line": 57,
      "content_hash": "b68da29e4a8aad0a4ea414d561241716bcac5647",
      "content": "  - name: context-engine",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_images.newTag_58": {
      "name": "images.newTag",
      "type": "key",
      "start_line": 58,
      "end_line": 58,
      "content_hash": "9f4630ee930040ee9f5714cca858e9121aff3a8e",
      "content": "    newTag: latest",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_namespace_63": {
      "name": "namespace",
      "type": "key",
      "start_line": 63,
      "end_line": 63,
      "content_hash": "7e4c07748eb0ebdb33bd5eac36295a985d2020d5",
      "content": "namespace: context-engine",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_replicas_66": {
      "name": "replicas",
      "type": "key",
      "start_line": 66,
      "end_line": 73,
      "content_hash": "9fb484965d5ca622e00dc75a9c7fee9cb9658501",
      "content": "replicas:\n  # Scale MCP servers for high availability\n  - name: mcp-memory\n    count: 1  # Set to 2+ for production\n  - name: mcp-indexer\n    count: 1  # Set to 2+ for production\n\n# Resource patches",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_replicas.name_68": {
      "name": "replicas.name",
      "type": "key",
      "start_line": 68,
      "end_line": 68,
      "content_hash": "76ac0fa1f97c478a12a39d1764a4c00cde5d22e1",
      "content": "  - name: mcp-memory",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_replicas.count_69": {
      "name": "replicas.count",
      "type": "key",
      "start_line": 69,
      "end_line": 69,
      "content_hash": "5791648cea164d578e58e664157e894c801f74aa",
      "content": "    count: 1  # Set to 2+ for production",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_replicas.name_70": {
      "name": "replicas.name",
      "type": "key",
      "start_line": 70,
      "end_line": 70,
      "content_hash": "4aba575360f27a3b98da3e220740090e282b503f",
      "content": "  - name: mcp-indexer",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_replicas.count_71": {
      "name": "replicas.count",
      "type": "key",
      "start_line": 71,
      "end_line": 71,
      "content_hash": "5791648cea164d578e58e664157e894c801f74aa",
      "content": "    count: 1  # Set to 2+ for production",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_patches_74": {
      "name": "patches",
      "type": "key",
      "start_line": 74,
      "end_line": 86,
      "content_hash": "65501c285c7a3ce7a76679992a89a8da97a6679d",
      "content": "patches:\n  # Example resource customization\n  - patch: |-\n      - op: replace\n        path: /spec/template/spec/containers/0/resources/requests/memory\n        value: \"1Gi\"\n      - op: replace\n        path: /spec/template/spec/containers/0/resources/limits/memory\n        value: \"4Gi\"\n    target:\n      kind: Deployment\n      name: mcp-memory\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_patches.patch_76": {
      "name": "patches.patch",
      "type": "key",
      "start_line": 76,
      "end_line": 82,
      "content_hash": "ffc2dcd71040ee7a9ae41f358f67d04e5135c7d5",
      "content": "  - patch: |-\n      - op: replace\n        path: /spec/template/spec/containers/0/resources/requests/memory\n        value: \"1Gi\"\n      - op: replace\n        path: /spec/template/spec/containers/0/resources/limits/memory\n        value: \"4Gi\"",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_patches.target_83": {
      "name": "patches.target",
      "type": "key",
      "start_line": 83,
      "end_line": 86,
      "content_hash": "f65b8749b202c51beb7a8f265ba757475dc43c93",
      "content": "    target:\n      kind: Deployment\n      name: mcp-memory\n",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_patches.target.kind_84": {
      "name": "patches.target.kind",
      "type": "key",
      "start_line": 84,
      "end_line": 84,
      "content_hash": "82c52a54e582ad06c0f10efca39be7372eb6da27",
      "content": "      kind: Deployment",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "key_patches.target.name_85": {
      "name": "patches.target.name",
      "type": "key",
      "start_line": 85,
      "end_line": 85,
      "content_hash": "177713a450a931a3cc9e44951c089dcc5bf4324a",
      "content": "      name: mcp-memory",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    }
  }
}