{
  "file_path": "/work/external-deps/Context-Engine/tests/conftest.py",
  "file_hash": "2c6e7073f62f7def9529f6d0aa0da5e877448f16",
  "updated_at": "2025-12-26T17:34:20.996951",
  "symbols": {
    "function__ensure_mcp_imported_14": {
      "name": "_ensure_mcp_imported",
      "type": "function",
      "start_line": 14,
      "end_line": 24,
      "content_hash": "8c10eb6e768bd104bec801913ec37e0c8d3d234d",
      "content": "def _ensure_mcp_imported():\n    \"\"\"Ensure mcp package is properly imported before any tests run.\n\n    This prevents import conflicts when scripts.mcp_indexer_server imports\n    from mcp.server.fastmcp and later tests try to import fastmcp.\n    \"\"\"\n    try:\n        import mcp.types  # noqa: F401\n    except ImportError:\n        pass  # mcp package not available, tests will skip if needed\n    yield",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function__disable_tokenizers_parallelism_28": {
      "name": "_disable_tokenizers_parallelism",
      "type": "function",
      "start_line": 28,
      "end_line": 38,
      "content_hash": "cdbb54a0263e26eac6dd7b68d01675dbeb049981",
      "content": "def _disable_tokenizers_parallelism():\n    \"\"\"Force tokenizers to stay single-threaded to avoid fork warnings during tests.\"\"\"\n    prev = os.environ.get(\"TOKENIZERS_PARALLELISM\")\n    os.environ[\"TOKENIZERS_PARALLELISM\"] = \"false\"\n    try:\n        yield\n    finally:\n        if prev is None:\n            os.environ.pop(\"TOKENIZERS_PARALLELISM\", None)\n        else:\n            os.environ[\"TOKENIZERS_PARALLELISM\"] = prev",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    }
  }
}