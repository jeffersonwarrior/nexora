{
  "file_path": "/work/internal/sessionlog/integration.go",
  "file_hash": "a8c82980ecdfeec4de3993e732b18b4f79bfcf5f",
  "updated_at": "2025-12-26T17:34:21.195330",
  "symbols": {
    "function_SetGlobalManager_19": {
      "name": "SetGlobalManager",
      "type": "function",
      "start_line": 19,
      "end_line": 23,
      "content_hash": "515a8c690a22986aea5843f2613cc2cd6e20232a",
      "content": "func SetGlobalManager(m *Manager) {\n\tglobalManager = m\n}\n\n// GetGlobalManager returns the global session log manager",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_GetGlobalManager_24": {
      "name": "GetGlobalManager",
      "type": "function",
      "start_line": 24,
      "end_line": 28,
      "content_hash": "4bf9a71608be28d7c55c1feef12faebca0dbb22c",
      "content": "func GetGlobalManager() *Manager {\n\treturn globalManager\n}\n\n// LogEditFailureSafe safely logs an edit failure to the global manager",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_LogEditFailureSafe_29": {
      "name": "LogEditFailureSafe",
      "type": "function",
      "start_line": 29,
      "end_line": 36,
      "content_hash": "0f4a768952a70e6beeb49c31fcd44d4d4daa4e01",
      "content": "func LogEditFailureSafe(ctx context.Context, sessionID, instanceID string, edit EditOperationLog) {\n\tif globalManager == nil {\n\t\treturn\n\t}\n\tglobalManager.LogEditOperation(ctx, edit)\n}\n\n// LogEditSuccessSafe safely logs a successful edit to the global manager",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_LogEditSuccessSafe_37": {
      "name": "LogEditSuccessSafe",
      "type": "function",
      "start_line": 37,
      "end_line": 56,
      "content_hash": "1cb1ceddc5b55b47653d5626db08499d08f6e3b6",
      "content": "func LogEditSuccessSafe(ctx context.Context, sessionID, instanceID, filePath string, oldLen, newLen, replacementCount, attemptCount int, durationMS float64) {\n\tif globalManager == nil {\n\t\treturn\n\t}\n\n\tlog := EditOperationLog{\n\t\tSessionID:        sessionID,\n\t\tInstanceID:       instanceID,\n\t\tFilePath:         filePath,\n\t\tStatus:           \"success\",\n\t\tOldStringLength:  oldLen,\n\t\tNewStringLength:  newLen,\n\t\tReplacementCount: replacementCount,\n\t\tAttemptCount:     attemptCount,\n\t\tDurationMS:       durationMS,\n\t}\n\tglobalManager.LogEditOperation(ctx, log)\n}\n\n// LogViewFailureSafe safely logs a view failure",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_LogViewFailureSafe_57": {
      "name": "LogViewFailureSafe",
      "type": "function",
      "start_line": 57,
      "end_line": 64,
      "content_hash": "026c5be2e615104708281975d2e9825b72e5ed4c",
      "content": "func LogViewFailureSafe(ctx context.Context, sessionID, instanceID string, view ViewOperationLog) {\n\tif globalManager == nil {\n\t\treturn\n\t}\n\tglobalManager.LogViewOperation(ctx, view)\n}\n\n// LogViewSuccessSafe safely logs a successful view",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_LogViewSuccessSafe_65": {
      "name": "LogViewSuccessSafe",
      "type": "function",
      "start_line": 65,
      "end_line": 76,
      "content_hash": "17af168ea90a40de9d180a0516ec70dfcd04a3d9",
      "content": "func LogViewSuccessSafe(ctx context.Context, sessionID, instanceID string, view ViewOperationLog) {\n\tif globalManager == nil {\n\t\treturn\n\t}\n\tglobalManager.LogViewOperation(ctx, view)\n}\n\n// InitializeFromEnv initializes the global session logger from environment variables\n// Set these env vars to enable session logging:\n// NEXORA_SESSION_LOG_ENABLED=true\n// NEXORA_SESSION_LOG_PG_CONN=user=postgres dbname=nexora_sessions host=localhost sslmode=disable\n// NEXORA_SESSION_LOG_INSTANCE_ID=nexora-1 (defaults to hostname)",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    },
    "function_InitializeFromEnv_77": {
      "name": "InitializeFromEnv",
      "type": "function",
      "start_line": 77,
      "end_line": 81,
      "content_hash": "0df067da97b32cdd6d244e83779f51b6530cc5a2",
      "content": "func InitializeFromEnv() error {\n\t// TODO: Read from environment and initialize\n\tslog.Info(\"Session logging not yet configured from environment\")\n\treturn nil\n}",
      "pseudo": "",
      "tags": [],
      "qdrant_ids": []
    }
  }
}