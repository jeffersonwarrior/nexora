---
version: 2
interactions:
- id: 0
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 728
    host: ""
    body: '{"messages":[{"content":"you will generate a short title based on the first message a user begins a conversation with\n\n<rules>\n- ensure it is not more than 50 characters long\n- the title should be a summary of the user''s message\n- it should be one line long\n- do not use quotes or colons\n- the entire text you return will be used as the title\n- never return anything that is more than one sentence (one line) long\n</rules>\n\n /no_think","role":"system"},{"content":"Generate a concise title for the following content:\n\nupdate the main.go file by changing the print to say hello from nexora\n <think>\n\n</think>","role":"user"}],"model":"gpt-4o","max_tokens":40,"stream_options":{"include_usage":true},"stream":true}'
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - OpenAI/Go 2.7.1
    url: https://api.openai.com/v1/chat/completions
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: -1
    body: |+
      data: {"id":"chatcmpl-Cr6Y2BcQyqB8gyb8UnEZfAGA2dkBP","object":"chat.completion.chunk","created":1766772590,"model":"gpt-4o-2024-08-06","service_tier":"default","system_fingerprint":"fp_a0e9480a2f","choices":[{"index":0,"delta":{"role":"assistant","content":"","refusal":null},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"WtfrsOxXwNNLXQ"}

      data: {"id":"chatcmpl-Cr6Y2BcQyqB8gyb8UnEZfAGA2dkBP","object":"chat.completion.chunk","created":1766772590,"model":"gpt-4o-2024-08-06","service_tier":"default","system_fingerprint":"fp_a0e9480a2f","choices":[{"index":0,"delta":{"content":"Update"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"EqBrFnrFyJ"}

      data: {"id":"chatcmpl-Cr6Y2BcQyqB8gyb8UnEZfAGA2dkBP","object":"chat.completion.chunk","created":1766772590,"model":"gpt-4o-2024-08-06","service_tier":"default","system_fingerprint":"fp_a0e9480a2f","choices":[{"index":0,"delta":{"content":" print"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"vNCDN55tSi"}

      data: {"id":"chatcmpl-Cr6Y2BcQyqB8gyb8UnEZfAGA2dkBP","object":"chat.completion.chunk","created":1766772590,"model":"gpt-4o-2024-08-06","service_tier":"default","system_fingerprint":"fp_a0e9480a2f","choices":[{"index":0,"delta":{"content":" statement"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"t8MDQB"}

      data: {"id":"chatcmpl-Cr6Y2BcQyqB8gyb8UnEZfAGA2dkBP","object":"chat.completion.chunk","created":1766772590,"model":"gpt-4o-2024-08-06","service_tier":"default","system_fingerprint":"fp_a0e9480a2f","choices":[{"index":0,"delta":{"content":" to"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"osb8inR8Jnp6K"}

      data: {"id":"chatcmpl-Cr6Y2BcQyqB8gyb8UnEZfAGA2dkBP","object":"chat.completion.chunk","created":1766772590,"model":"gpt-4o-2024-08-06","service_tier":"default","system_fingerprint":"fp_a0e9480a2f","choices":[{"index":0,"delta":{"content":" '"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"AzLmL6YKkUyWnQ"}

      data: {"id":"chatcmpl-Cr6Y2BcQyqB8gyb8UnEZfAGA2dkBP","object":"chat.completion.chunk","created":1766772590,"model":"gpt-4o-2024-08-06","service_tier":"default","system_fingerprint":"fp_a0e9480a2f","choices":[{"index":0,"delta":{"content":"Hello"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"QDdNu8kwk2E"}

      data: {"id":"chatcmpl-Cr6Y2BcQyqB8gyb8UnEZfAGA2dkBP","object":"chat.completion.chunk","created":1766772590,"model":"gpt-4o-2024-08-06","service_tier":"default","system_fingerprint":"fp_a0e9480a2f","choices":[{"index":0,"delta":{"content":" from"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"geTsDrqWE8B"}

      data: {"id":"chatcmpl-Cr6Y2BcQyqB8gyb8UnEZfAGA2dkBP","object":"chat.completion.chunk","created":1766772590,"model":"gpt-4o-2024-08-06","service_tier":"default","system_fingerprint":"fp_a0e9480a2f","choices":[{"index":0,"delta":{"content":" Nex"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"2o2R1xoVNuVm"}

      data: {"id":"chatcmpl-Cr6Y2BcQyqB8gyb8UnEZfAGA2dkBP","object":"chat.completion.chunk","created":1766772590,"model":"gpt-4o-2024-08-06","service_tier":"default","system_fingerprint":"fp_a0e9480a2f","choices":[{"index":0,"delta":{"content":"ora"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"lFUHLMND5VGoc"}

      data: {"id":"chatcmpl-Cr6Y2BcQyqB8gyb8UnEZfAGA2dkBP","object":"chat.completion.chunk","created":1766772590,"model":"gpt-4o-2024-08-06","service_tier":"default","system_fingerprint":"fp_a0e9480a2f","choices":[{"index":0,"delta":{"content":"'"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"EUnQy5OU2rjhDSU"}

      data: {"id":"chatcmpl-Cr6Y2BcQyqB8gyb8UnEZfAGA2dkBP","object":"chat.completion.chunk","created":1766772590,"model":"gpt-4o-2024-08-06","service_tier":"default","system_fingerprint":"fp_a0e9480a2f","choices":[{"index":0,"delta":{"content":" in"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"kh1DJHizeEqNF"}

      data: {"id":"chatcmpl-Cr6Y2BcQyqB8gyb8UnEZfAGA2dkBP","object":"chat.completion.chunk","created":1766772590,"model":"gpt-4o-2024-08-06","service_tier":"default","system_fingerprint":"fp_a0e9480a2f","choices":[{"index":0,"delta":{"content":" main"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"HBwJVfBHPaf"}

      data: {"id":"chatcmpl-Cr6Y2BcQyqB8gyb8UnEZfAGA2dkBP","object":"chat.completion.chunk","created":1766772590,"model":"gpt-4o-2024-08-06","service_tier":"default","system_fingerprint":"fp_a0e9480a2f","choices":[{"index":0,"delta":{"content":".go"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"ymeim7KI4piqq"}

      data: {"id":"chatcmpl-Cr6Y2BcQyqB8gyb8UnEZfAGA2dkBP","object":"chat.completion.chunk","created":1766772590,"model":"gpt-4o-2024-08-06","service_tier":"default","system_fingerprint":"fp_a0e9480a2f","choices":[{"index":0,"delta":{},"logprobs":null,"finish_reason":"stop"}],"usage":null,"obfuscation":"ghf65a7UBB"}

      data: {"id":"chatcmpl-Cr6Y2BcQyqB8gyb8UnEZfAGA2dkBP","object":"chat.completion.chunk","created":1766772590,"model":"gpt-4o-2024-08-06","service_tier":"default","system_fingerprint":"fp_a0e9480a2f","choices":[],"usage":{"prompt_tokens":140,"completion_tokens":13,"total_tokens":153,"prompt_tokens_details":{"cached_tokens":0,"audio_tokens":0},"completion_tokens_details":{"reasoning_tokens":0,"audio_tokens":0,"accepted_prediction_tokens":0,"rejected_prediction_tokens":0}},"obfuscation":"ls9Tbaa4BjmdK"}

      data: [DONE]

    headers:
      Content-Type:
      - text/event-stream; charset=utf-8
    status: 200 OK
    code: 200
    duration: 261.375826ms
- id: 1
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 33650
    host: ""
    body: "{\"messages\":[{\"content\":\"## CRITICAL: TOOL CALL FORMAT (READ THIS FIRST)\\n**ALWAYS use EXACT OpenAI JSON format for tools. NEVER use &lt;tool_call&gt; tags:**\\n\\n```\\n{\\n  \\\"tool_calls\\\": [{\\n    \\\"id\\\": \\\"call_abc123\\\",\\n    \\\"type\\\": \\\"function\\\",\\n    \\\"function\\\": {\\n      \\\"name\\\": \\\"view\\\",\\n      \\\"arguments\\\": \\\"{\\\\\\\"file_path\\\\\\\":\\\\\\\"/home/nexora/todo.md\\\\\\\"}\\\"\\n    }\\n  }]\\n}\\n```\\n\\n**Penalty for wrong format: Your response will be ignored!**\\n\\n## Core Rules\\n1. **Read before editing** - Always view files first, match exact formatting\\n2. **Be autonomous** - Search, decide, act without asking. Break complex tasks into steps.\\n3. **Infer intent** - Don't be literal. If a file isn't found, search for similar names (case variations, typos). If a task seems incomplete, complete it fully.\\n4. **Test changes** - Run tests immediately after modifications\\n5. **Be concise** - Keep responses under 4 lines unless explaining complex changes\\n6. **Exact matches** - Whitespace, indentation, line breaks must match perfectly for edits\\n7. **Never commit** - Unless explicitly asked\\n8. **Security first** - Only assist with defensive security tasks\\n\\n## Inference Examples\\n- User says \\\"read TODO.md\\\" but it doesn't exist → Search for `todo.md`, `TODO`, `Todo.md`\\n- User says \\\"fix the bug\\\" → Search for error patterns, recent changes, test failures\\n- User says \\\"add tests\\\" → Look at existing test patterns, create comprehensive tests\\n- File not found → Try case variations, partial matches, ask glob/grep to find it\\n\\n## Workflow\\n**Before acting**: Search → Read files → Identify changes → Edit → Test\\n**While acting**: Read entire file first, use exact text, include 3-5 lines context, test after each change\\n**Before finishing**: Verify task complete, run tests, keep response concise\\n\\n## Editing Files\\n**Critical Requirements**:\\n- Exact character-by-character matching\\n- Include 3-5 surrounding lines for reliable context\\n- Verify uniqueness (or use replace_all=true)\\n\\n**Understanding the 100 Line Limitation**:\\n- `view` tool shows 100 lines at a time: \\\"showing lines 1-100 of 200 total\\\"\\n- Use `view` with `offset` parameter: `view file_path=\\\"/path\\\" offset=100`\\n- Your edits MUST exist in the file, not just in visible 100-line chunk\\n\\n**Common Failures**:\\n- Wrong indentation: 2 spaces vs 4 spaces\\n- Missing blank lines: 1 newline vs 2 newlines\\n- Comment spacing: \\\"// comment\\\" vs \\\"//comment\\\"\\n\\n**Tab/Display Issues**:\\n- VIEW shows tabs as `→\\t\\\\t` but EDIT needs actual `\\\\t`\\n- Always use `ai_mode=true` (default) to auto-fix this\\n\\n**Recovery Steps**:\\n1. View file with more context\\n2. Use `offset` if target outside current window\\n3. Use `grep -n \\\"pattern\\\" file` to find line numbers\\n4. Fallback: Use `write` tool for full file replacement\\n\\n## Tools\\n\\n### Available Tools\\n- `view`: Read files with line numbers (100 lines at a time - use offset!)\\n- `edit`: Replace text exactly (whitespace-sensitive, ai_mode=true by default)\\n- `bash`: Execute commands\\n- `grep`: Search file contents\\n- `glob`: Find files by pattern\\n- `write`: Create/update entire files\\n\\n### When to use each\\n- **View**: Always first to understand file contents\\n- **Edit**: For precise, targeted changes\\n- **Write**: When exact matching fails or for large changes\\n- **Bash**: For command execution\\n- **Grep**: For finding text in files\\n- **Glob**: For finding files by name pattern\\n\\n### When something fails\\n- **File not found in view** → Use `offset=100`, `offset=200` to navigate\\n- **Edit fails** → View file again, copy exact text, use `write` as fallback\\n- **Command fails** → Read error, try alternative approach\\n- **Pattern not visible** → Use `grep` to find line numbers, then view with offset\\n\\n## Testing\\n- Run relevant tests after every change\\n- Fix failures immediately\\n- Never leave code in broken state\\n\\n## Decision Making\\n**Be proactive**: Don't just report problems, solve them.\\n**Autonomous decisions**: Search for answers, read patterns, make reasonable assumptions\\n**Only ask user if**: Truly ambiguous requirements, potential data loss, or actually blocked after trying alternatives\\n\\n## Error Handling\\n1. Read complete error message\\n2. Understand root cause\\n3. Try different approach (don't repeat same failure)\\n4. Search for similar working code\\n5. Make targeted fix\\n6. Test to verify\\n\\n## Project Specifics\\n\\n\\n\\n## Environment\\nDate/Time: 2025-01-01 00:00:00 UTC\\nOS: linux (amd64)\\nCurrent User: agent\\nWorking Directory: /tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file\\n\\nGit Repo: no\\n\\nInstalled Runtimes:\\n- Python: Python 3.13.7\\n- Node.js: v25.2.1\\n- Go: go1.25.5\\n- Shell: bash (mvdan/sh)\\n\\nSystem Resources:\\n- Memory: 31Gi total, 23Gi available\\n- Disk: 16G total, 15G free\\n\\nTerminal: color, 80x24, interactive\\nNetwork: online\\nActive Services: \\n\\n## Nexora System Settings\\nNexora client system settings are stored in `~/.local/share/nexora`. This directory contains two important files:\\n\\n1. **`nexora.db`** - SQLite database containing session history, configuration settings, and conversation state\\n2. **`mcp.json`** - JSON configuration file for MCP (Model Context Protocol) settings and server configurations\\n\\nMCP-related files and configurations are stored in the `mcp.json` file, which defines available MCP servers and their connection parameters.\\n\\n\\n\\n\",\"role\":\"system\"},{\"content\":\"update the main.go file by changing the print to say hello from nexora\",\"role\":\"user\"}],\"model\":\"gpt-5\",\"max_completion_tokens\":10000,\"stream_options\":{\"include_usage\":true},\"tool_choice\":\"auto\",\"tools\":[{\"function\":{\"name\":\"bash\",\"strict\":false,\"description\":\"Executes bash commands with automatic background conversion for long-running tasks.\\n\\n<cross_platform>\\nUses mvdan/sh interpreter (Bash-compatible on all platforms including Windows).\\nUse forward slashes for paths: \\\"ls C:/foo/bar\\\" not \\\"ls C:\\\\foo\\\\bar\\\".\\n</cross_platform>\\n\\n<execution_steps>\\n1. Directory Verification: Use LS tool to verify parent exists before creating files\\n2. Security Check: No restrictions - explain to user. Safe read-only commands execute without prompts\\n3. Command Execution: Execute with proper quoting, capture output\\n4. Auto-Background: Commands >1 minute automatically move to background, return shell ID\\n5. Output Processing: Truncate if exceeds 30000 characters\\n6. Return Result: Include errors, metadata with <cwd></cwd> tags\\n</execution_steps>\\n\\n<usage_notes>\\n- Command required, working_dir optional (defaults to current directory)\\n- IMPORTANT: Use Grep/Glob/Agent tools instead of 'find'/'grep'. Use View/LS instead of 'cat'/'head'/'tail'/'ls'\\n- Chain with ';' or '&&', avoid newlines except in quoted strings\\n- Each command runs in independent shell (no state persistence)\\n- Prefer absolute paths over 'cd'\\n</usage_notes>\\n\\n<background_execution>\\n- Set run_in_background=true for separate background shell\\n- Returns shell ID for management\\n- Use job_output tool to view output, job_kill to terminate\\n- NEVER use `&` at end of commands - use run_in_background parameter\\n- Background: Long servers (npm start, python -m http.server), watch tasks, continuous processes\\n- Foreground: Builds, tests, git ops, file ops, short scripts\\n</background_execution>\\n\\n<git_commits>\\nWhen user asks to create git commit:\\n\\n1. Run: git status, git diff, git log (single message, three tool_use blocks)\\n2. Add relevant untracked files to staging\\n3. Analyze in <commit_analysis> tags:\\n   - List changed files, summarize nature (feature/bug fix/refactor/docs)\\n   - Draft concise (1-2 sentences) focusing on \\\"why\\\" not \\\"what\\\"\\n   - Use accurate verbs: \\\"add\\\"=new feature, \\\"update\\\"=enhancement, \\\"fix\\\"=bug\\n4. Create commit with attribution:\\n   ```bash\\n   git commit -m \\\"$(cat &lt;&lt;'EOF'\\n   Commit message here.\\n\\n   \U0001F498 Generated with Crush\\n\\n\\n   Co-Authored-By: Crush <crush@charm.land>\\n\\n   EOF\\n   )\\\"\\n   ```\\n5. If pre-commit hook fails, retry ONCE. If succeeds but files modified, MUST amend.\\n6. Run git status to verify.\\n\\nNotes: Use \\\"git commit -am\\\" when possible, don't stage unrelated files, NEVER update config, don't push, no empty commits.\\n</git_commits>\\n\\n<pull_requests>\\nWhen user asks to create PR:\\n\\n1. Run: git status, git diff, check remote tracking, git log and 'git diff main...HEAD'\\n2. Create branch if needed, commit if needed, push with -u if needed\\n3. Analyze in <pr_analysis> tags:\\n   - List commits since main divergence\\n   - Summarize changes, purpose/motivation\\n   - Draft concise (1-2 bullets) focusing on \\\"why\\\"\\n4. Create PR:\\n   ```bash\\n   gh pr create --title \\\"title\\\" --body \\\"$(cat &lt;&lt;'EOF'\\n   ## Summary\\n   &lt;1-3 bullet points>\\n   \\n   ## Test plan\\n   [Checklist...]\\n\\n   \U0001F498 Generated with Crush\\n\\n   EOF\\n   )\\\"\\n   ```\\n\\nImportant: Return empty response, never update git config\\n</pull_requests>\\n\\n<examples>\\nGood: pytest /foo/bar/tests\\nBad: cd /foo/bar && pytest tests\\n</examples>\\n\",\"parameters\":{\"properties\":{\"command\":{\"description\":\"The command to execute\",\"type\":\"string\"},\"description\":{\"description\":\"A brief description of what the command does, try to keep it under 30 characters or so\",\"type\":\"string\"},\"run_in_background\":{\"description\":\"Set to true (boolean) to run this command in the background. Use job_output to read the output later.\",\"type\":\"boolean\"},\"working_dir\":{\"description\":\"The working directory to execute the command in (defaults to current directory)\",\"type\":\"string\"}},\"required\":[\"description\",\"command\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"download\",\"strict\":false,\"description\":\"Downloads binary data from URL and saves to local file.\\n\\n<usage>\\n- Provide URL to download from\\n- Specify local file path where content should be saved\\n- Optional timeout for request\\n</usage>\\n\\n<features>\\n- Downloads any file type (binary or text)\\n- Auto-creates parent directories if missing\\n- Handles large files efficiently with streaming\\n- Sets reasonable timeouts to prevent hanging\\n- Validates input parameters before requests\\n</features>\\n\\n<limitations>\\n- Max file size: 100MB\\n- Only supports HTTP and HTTPS protocols\\n- Cannot handle authentication or cookies\\n- Some websites may block automated requests\\n- Will overwrite existing files without warning\\n</limitations>\\n\\n<tips>\\n- Use absolute paths or paths relative to working directory\\n- Set appropriate timeouts for large files or slow connections\\n</tips>\\n\",\"parameters\":{\"properties\":{\"file_path\":{\"description\":\"The local file path where the downloaded content should be saved\",\"type\":\"string\"},\"timeout\":{\"description\":\"Optional timeout in seconds (max 600)\",\"type\":\"integer\"},\"url\":{\"description\":\"The URL to download from\",\"type\":\"string\"}},\"required\":[\"url\",\"file_path\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"edit\",\"strict\":false,\"description\":\"Edits files by replacing text, creating new files, or deleting content. For moving/renaming use Bash 'mv'. For large edits use Write tool.\\n\\n**Quick Decision Tree:**\\n1. **Know exact line numbers?** → Use `smart_edit` tool (100% reliable)\\n2. **Edit failed once?** → Use `write` tool immediately\\n3. **First time editing?** → Enable ai_mode=true\\n\\n<prerequisites>\\n1. **NEVER copy from view tool output** - has visual tab indicators (→\\t) causing failures\\n2. Use `sed -n 'START,ENDp' file` or `grep -A5 -B5 pattern file` for EXACT text\\n3. For new files: Use LS tool to verify parent directory exists\\n4. If you can't extract exact text, use `smart_edit` with line numbers\\n</prerequisites>\\n\\n<parameters>\\n1. file_path: Absolute path to file (required)\\n2. old_string: Text to replace (exact match including whitespace/indentation)\\n3. new_string: Replacement text\\n4. replace_all: Replace all occurrences (default false)\\n</parameters>\\n\\n<special_cases>\\n- Create file: provide file_path + new_string, leave old_string empty\\n- Delete content: provide file_path + old_string, leave new_string empty\\n</special_cases>\\n\\n<critical_requirements>\\n**EXACT MATCHING**: Text must match character-for-character\\n- Every space, tab, blank line, newline, indentation level\\n- Comment spacing (`// comment` vs `//comment`)\\n- Brace positioning (`func() {` vs `func(){`)\\n\\n**UNIQUENESS**: old_string MUST uniquely identify target (when replace_all=false)\\n- Include 3-5 lines context before/after change point\\n- If text appears multiple times, add more context or use replace_all=true\\n\\n**VERIFICATION BEFORE USING**:\\n1. View file and locate exact target\\n2. Check how many instances exist\\n3. Copy EXACT text including whitespace\\n4. Verify enough context for unique identification\\n5. Double-check indentation (count spaces/tabs)\\n</critical_requirements>\\n\\n<warnings>\\nTool fails if:\\n- old_string matches multiple locations and replace_all=false\\n- Whitespace doesn't match exactly\\n- Indentation off by even one space\\n- Missing or extra blank lines\\n</warnings>\\n\\n<recovery_steps>\\nIf \\\"old_string not found\\\":\\n\\n**\U0001F6D1 DON'T RETRY - Use alternatives:**\\n1. `smart_edit` with line numbers (100% reliable)\\n2. Extract exact text: `sed -n '10,20p' file`\\n3. Use `write` tool for full file replacement\\n\\n**❌ DON'T:**\\n- Retry with \\\"adjusted\\\" whitespace\\n- Copy from view output (has artifacts)\\n- Guess at whitespace\\n\\n**✅ DO:**\\n- Use `smart_edit` (line numbers)\\n- Use `sed -n 'X,Yp' file` for exact text\\n- Use `write` if edit fails once\\n</recovery_steps>\\n\\n<best_practices>\\n- View file first, match exact formatting\\n- Use absolute paths with forward slashes (/)\\n- Multiple edits to same file: send all in single message\\n- Include MORE context when uncertain\\n- Match existing code style exactly\\n</best_practices>\\n\\n<examples>\\n✅ **Correct**: Exact match with context\\n```\\nold_string: \\\"func ProcessData(input string) error {\\\\n    if input == \\\\\\\"\\\\\\\" {\\\\n        return errors.New(\\\\\\\"empty input\\\\\\\")\\\\n    }\\\\n    return nil\\\\n}\\\"\\nnew_string: \\\"func ProcessData(input string) error {\\\\n    if input == \\\\\\\"\\\\\\\" {\\\\n        return errors.New(\\\\\\\"empty input\\\\\\\")\\\\n    }\\\\n    if len(input) > 1000 {\\\\n        return errors.New(\\\\\\\"input too long\\\\\\\")\\\\n    }\\\\n    return nil\\\\n}\\\"\\n```\\n\\n❌ **Incorrect**: Not enough context\\n```\\nold_string: \\\"return nil\\\"  // Appears many times!\\n```\\n\\n❌ **Incorrect**: Wrong indentation\\n```\\nold_string: \\\"  if input == \\\\\\\"\\\\\\\" {\\\"  // 2 spaces\\n// File actually has: \\\"    if input == \\\\\\\"\\\\\\\" {\\\"  // 4 spaces\\n```\\n</examples>\\n\\n## AI Mode\\nUse `ai_mode=true` (default) for automatic fixes:\\n- Converts VIEW tool display tabs (`→\\\\t`) to real tabs (`\\\\t`)\\n- Expands minimal context automatically\\n- Enhanced error messages\\n- Lower failure rate on whitespace issues\\n\",\"parameters\":{\"properties\":{\"ai_mode\":{\"description\":\"Enable AI-optimized editing with automatic context expansion and improved error handling (DEFAULT: true)\",\"type\":\"boolean\"},\"file_path\":{\"description\":\"The absolute path to the file to modify\",\"type\":\"string\"},\"new_string\":{\"description\":\"The text to replace it with\",\"type\":\"string\"},\"old_string\":{\"description\":\"The text to replace\",\"type\":\"string\"},\"replace_all\":{\"description\":\"Replace all occurrences of old_string (default false)\",\"type\":\"boolean\"}},\"required\":[\"file_path\",\"old_string\",\"new_string\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"multiedit\",\"strict\":false,\"description\":\"Makes multiple edits to a single file in one operation. Built on Edit tool for efficient multiple find-and-replace. Prefer over Edit tool for multiple edits to same file.\\n\\n<prerequisites>\\n1. Use View tool to understand file contents\\n2. Verify directory path is correct\\n3. CRITICAL: Note exact whitespace, indentation from View output\\n</prerequisites>\\n\\n<parameters>\\n1. file_path: Absolute path to file (required)\\n2. edits: Array of edit objects (MUST be array, not string!):\\n   - old_string: Text to replace (exact match including whitespace)\\n   - new_string: Replacement text\\n   - replace_all: Replace all occurrences (optional, default false)\\n   \\n   ✅ CORRECT: `\\\"edits\\\": [{\\\"old_string\\\": \\\"text1\\\", \\\"new_string\\\": \\\"replace1\\\"}]`\\n   ❌ INCORRECT: `\\\"edits\\\": \\\"[{\\\\\\\"old_string\\\\\\\": \\\\\\\"text1\\\\\\\"}]\\\"` (string, not array)\\n</parameters>\\n\\n<operation>\\n- Edits applied sequentially in order\\n- Each edit operates on result of previous edit\\n- PARTIAL SUCCESS: Failed edits returned, successful edits kept\\n- File modified if at least one edit succeeds\\n</operation>\\n\\n<inherited_rules>\\n**All Edit tool rules apply to each edit:**\\n- See edit.md for critical requirements, warnings, recovery steps\\n- Exact matching for whitespace, indentation, blank lines\\n- Uniqueness requirements (3-5 lines context)\\n- Verification checklist before using\\n- Use ai_mode=true (default) for tab handling\\n</inherited_rules>\\n\\n<critical_requirements>\\n1. Apply Edit tool rules to EACH edit (see edit.md)\\n2. Edits applied in order; successful edits kept if later edits fail\\n3. Plan sequence: earlier edits change content that later edits must match\\n4. Ensure each old_string unique at application time (after prior edits)\\n5. Check response for failed edits, retry with corrections\\n</critical_requirements>\\n\\n<verification_before_using>\\n1. View file, copy exact text (including whitespace) for each target\\n2. Check instances of each old_string BEFORE sequence\\n3. Dry-run: after edit #N, will edit #N+1 still match?\\n4. Prefer fewer, larger context blocks over many tiny fragments\\n5. If edits independent, consider separate multiedit batches\\n</verification_before_using>\\n\\n<warnings>\\n- Check response for failed edits\\n- Earlier edits invalidate later matches (added/removed spaces, lines)\\n- Mixed tabs/spaces, trailing spaces cause failures\\n- replace_all may affect unintended regions\\n</warnings>\\n\\n<recovery_steps>\\nIf edits fail:\\n1. Check response metadata for failed edits with errors\\n2. View file to see current state after successful edits\\n3. Adjust failed edits based on new content\\n4. Retry with corrected old_string values\\n5. Break complex batches into smaller operations\\n</recovery_steps>\\n\\n<best_practices>\\n- Result in correct, idiomatic code\\n- Use absolute file paths (/)\\n- Use replace_all only when certain\\n- Match existing style exactly\\n- Review failed edits, retry with corrections\\n</best_practices>\\n\\n<examples>\\n✅ **Correct**: Sequential edits accounting for changes\\n```\\nedits: [\\n  {\\n    old_string: \\\"func A() {\\\\n    doOld()\\\\n}\\\",\\n    new_string: \\\"func A() {\\\\n    doNew()\\\\n}\\\",\\n  },\\n  {\\n    // Context exists AFTER first replacement\\n    old_string: \\\"func B() {\\\\n    callA()\\\\n}\\\",\\n    new_string: \\\"func B() {\\\\n    callA()\\\\n    logChange()\\\\n}\\\",\\n  },\\n]\\n```\\n\\n❌ **Incorrect**: Second old_string no longer matches\\n```\\nedits: [\\n  {\\n    old_string: \\\"func A() {\\\\n    doOld()\\\\n}\\\",\\n    new_string: \\\"func A() {\\\\n\\\\n    doNew()\\\\n}\\\", // Added blank line\\n  },\\n  {\\n    old_string: \\\"func A() {\\\\n    doNew()\\\\n}\\\", // Missing blank line - FAILS\\n    new_string: \\\"func A() {\\\\n    doNew()\\\\n    logChange()\\\\n}\\\",\\n  },\\n]\\n```\\n</examples>\\n\",\"parameters\":{\"properties\":{\"edits\":{\"description\":\"Array of edit operations to perform sequentially on the file\",\"items\":{\"properties\":{\"new_string\":{\"description\":\"The text to replace it with\",\"type\":\"string\"},\"old_string\":{\"description\":\"The text to replace\",\"type\":\"string\"},\"replace_all\":{\"description\":\"Replace all occurrences of old_string (default false).\",\"type\":\"boolean\"}},\"required\":[\"old_string\",\"new_string\"],\"type\":\"object\"},\"type\":\"array\"},\"file_path\":{\"description\":\"The absolute path to the file to modify\",\"type\":\"string\"}},\"required\":[\"file_path\",\"edits\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"fetch\",\"strict\":false,\"description\":\"Fetches raw content from URL and returns it in specified format without any AI processing.\\n\\n<when_to_use>\\nUse this tool when you need:\\n- Raw, unprocessed content from a URL\\n- Direct access to API responses or JSON data\\n- HTML/text/markdown content without interpretation\\n- Simple, fast content retrieval without analysis\\n- To save tokens by avoiding AI processing\\n\\nDO NOT use this tool when you need to:\\n- Extract specific information from a webpage (use agentic_fetch instead)\\n- Answer questions about web content (use agentic_fetch instead)\\n- Analyze or summarize web pages (use agentic_fetch instead)\\n</when_to_use>\\n\\n<usage>\\n- Provide URL to fetch content from\\n- Specify desired output format (text, markdown, or html)\\n- Optional timeout for request\\n</usage>\\n\\n<features>\\n- Supports three output formats: text, markdown, html\\n- Auto-handles HTTP redirects\\n- Fast and lightweight - no AI processing\\n- Sets reasonable timeouts to prevent hanging\\n- Validates input parameters before requests\\n</features>\\n\\n<limitations>\\n- Max response size: 5MB\\n- Only supports HTTP and HTTPS protocols\\n- Cannot handle authentication or cookies\\n- Some websites may block automated requests\\n- Returns raw content only - no analysis or extraction\\n</limitations>\\n\\n<tips>\\n- Use text format for plain text content or simple API responses\\n- Use markdown format for content that should be rendered with formatting\\n- Use html format when you need raw HTML structure\\n- Set appropriate timeouts for potentially slow websites\\n- If the user asks to analyze or extract from a page, use agentic_fetch instead\\n</tips>\\n\",\"parameters\":{\"properties\":{\"format\":{\"description\":\"The format to return the content in (text, markdown, or html)\",\"type\":\"string\"},\"timeout\":{\"description\":\"Optional timeout in seconds (max 120)\",\"type\":\"integer\"},\"url\":{\"description\":\"The URL to fetch content from\",\"type\":\"string\"}},\"required\":[\"url\",\"format\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"glob\",\"strict\":false,\"description\":\"Fast file pattern matching tool that finds files by name/pattern, returning paths sorted by modification time (newest first).\\n\\n<usage>\\n- Provide glob pattern to match against file paths\\n- Optional starting directory (defaults to current working directory)\\n- Results sorted with most recently modified files first\\n</usage>\\n\\n<pattern_syntax>\\n- '\\\\*' matches any sequence of non-separator characters\\n- '\\\\*\\\\*' matches any sequence including separators\\n- '?' matches any single non-separator character\\n- '[...]' matches any character in brackets\\n- '[!...]' matches any character not in brackets\\n</pattern_syntax>\\n\\n<examples>\\n- '*.js' - JavaScript files in current directory\\n- '**/*.js' - JavaScript files in any subdirectory\\n- 'src/**/*.{ts,tsx}' - TypeScript files in src directory\\n- '*.{html,css,js}' - HTML, CSS, and JS files\\n</examples>\\n\\n<limitations>\\n- Results limited to 100 files (newest first)\\n- Does not search file contents (use Grep for that)\\n- Hidden files (starting with '.') skipped\\n</limitations>\\n\\n<cross_platform>\\n- Path separators handled automatically (/ and \\\\ work)\\n- Uses ripgrep (rg) if available, otherwise Go implementation\\n- Patterns should use forward slashes (/) for compatibility\\n</cross_platform>\\n\\n<tips>\\n- Combine with Grep: find files with Glob, search contents with Grep\\n- For iterative exploration requiring multiple searches, consider Agent tool\\n- Check if results truncated and refine pattern if needed\\n</tips>\\n\",\"parameters\":{\"properties\":{\"path\":{\"description\":\"The directory to search in. Defaults to the current working directory.\",\"type\":\"string\"},\"pattern\":{\"description\":\"The glob pattern to match files against\",\"type\":\"string\"}},\"required\":[\"pattern\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"grep\",\"strict\":false,\"description\":\"Fast content search tool that finds files containing specific text/patterns, returning matching paths sorted by modification time (newest first).\\n\\n<usage>\\n- Provide regex pattern to search within file contents\\n- Set literal_text=true for exact text with special characters (recommended for non-regex users)\\n- Optional starting directory (defaults to current working directory)\\n- Optional include pattern to filter which files to search\\n- Results sorted with most recently modified files first\\n</usage>\\n\\n<regex_syntax>\\nWhen literal_text=false (supports standard regex):\\n\\n- 'function' searches for literal text \\\"function\\\"\\n- 'log\\\\..\\\\*Error' finds text starting with \\\"log.\\\" and ending with \\\"Error\\\"\\n- 'import\\\\s+.\\\\*\\\\s+from' finds import statements in JavaScript/TypeScript\\n</regex_syntax>\\n\\n<include_patterns>\\n- '\\\\*.js' - Only search JavaScript files\\n- '\\\\*.{ts,tsx}' - Only search TypeScript files\\n- '\\\\*.go' - Only search Go files\\n</include_patterns>\\n\\n<limitations>\\n- Results limited to 100 files (newest first)\\n- Performance depends on number of files searched\\n- Very large binary files may be skipped\\n- Hidden files (starting with '.') skipped\\n</limitations>\\n\\n<ignore_support>\\n- Respects .gitignore patterns to skip ignored files/directories\\n- Respects .nexoraignore patterns for additional ignore rules\\n- Both ignore files auto-detected in search root directory\\n</ignore_support>\\n\\n<cross_platform>\\n- Uses ripgrep (rg) if available for better performance\\n- Falls back to Go implementation if ripgrep unavailable\\n- File paths normalized automatically for compatibility\\n</cross_platform>\\n\\n<tips>\\n- For faster searches: use Glob to find relevant files first, then Grep\\n- For iterative exploration requiring multiple searches, consider Agent tool\\n- Check if results truncated and refine search pattern if needed\\n- Use literal_text=true for exact text with special characters (dots, parentheses, etc.)\\n</tips>\\n\",\"parameters\":{\"properties\":{\"include\":{\"description\":\"File pattern to include in the search (e.g. \\\"*.js\\\", \\\"*.{ts,tsx}\\\")\",\"type\":\"string\"},\"literal_text\":{\"description\":\"If true, the pattern will be treated as literal text with special regex characters escaped. Default is false.\",\"type\":\"boolean\"},\"path\":{\"description\":\"The directory to search in. Defaults to the current working directory.\",\"type\":\"string\"},\"pattern\":{\"description\":\"The regex pattern to search for in file contents\",\"type\":\"string\"}},\"required\":[\"pattern\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"ls\",\"strict\":false,\"description\":\"Shows files and subdirectories in tree structure for exploring project organization.\\n\\n<usage>\\n- Provide path to list (defaults to current working directory)\\n- Optional glob patterns to ignore\\n- Results displayed in tree structure\\n</usage>\\n\\n<features>\\n- Hierarchical view of files and directories\\n- Auto-skips hidden files/directories (starting with '.')\\n- Skips common system directories like __pycache__\\n- Can filter files matching specific patterns\\n</features>\\n\\n<limitations>\\n- Results limited to 1000 files\\n- Large directories truncated\\n- No file sizes or permissions shown\\n- Cannot recursively list all directories in large projects\\n</limitations>\\n\\n<cross_platform>\\n- Hidden file detection uses Unix convention (files starting with '.')\\n- Windows hidden files (with hidden attribute) not auto-skipped\\n- Common Windows directories (System32, Program Files) not in default ignore\\n- Path separators handled automatically (/ and \\\\ work)\\n</cross_platform>\\n\\n<tips>\\n- Use Glob for finding files by name patterns instead of browsing\\n- Use Grep for searching file contents\\n- Combine with other tools for effective exploration\\n</tips>\\n\",\"parameters\":{\"properties\":{\"depth\":{\"description\":\"The maximum depth to traverse\",\"type\":\"integer\"},\"ignore\":{\"description\":\"List of glob patterns to ignore\",\"items\":{\"type\":\"string\"},\"type\":\"array\"},\"path\":{\"description\":\"The path to the directory to list (defaults to current working directory)\",\"type\":\"string\"}},\"required\":[],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"sourcegraph\",\"strict\":false,\"description\":\"Search code across public repositories using Sourcegraph's GraphQL API.\\n\\n<usage>\\n- Provide search query using Sourcegraph syntax\\n- Optional result count (default: 10, max: 20)\\n- Optional timeout for request\\n</usage>\\n\\n<basic_syntax>\\n- \\\"fmt.Println\\\" - exact matches\\n- \\\"file:.go fmt.Println\\\" - limit to Go files\\n- \\\"repo:^github\\\\.com/golang/go$ fmt.Println\\\" - specific repos\\n- \\\"lang:go fmt.Println\\\" - limit to Go code\\n- \\\"fmt.Println AND log.Fatal\\\" - combined terms\\n- \\\"fmt\\\\.(Print|Printf|Println)\\\" - regex patterns\\n- \\\"\\\\\\\"exact phrase\\\\\\\"\\\" - exact phrase matching\\n- \\\"-file:test\\\" or \\\"-repo:forks\\\" - exclude matches\\n</basic_syntax>\\n\\n<key_filters>\\nRepository: repo:name, repo:^exact$, repo:org/repo@branch, -repo:exclude, fork:yes, archived:yes, visibility:public\\nFile: file:\\\\.js$, file:internal/, -file:test, file:has.content(text)\\nContent: content:\\\"exact\\\", -content:\\\"unwanted\\\", case:yes\\nType: type:symbol, type:file, type:path, type:diff, type:commit\\nTime: after:\\\"1 month ago\\\", before:\\\"2023-01-01\\\", author:name, message:\\\"fix\\\"\\nResult: select:repo, select:file, select:content, count:100, timeout:30s\\n</key_filters>\\n\\n<examples>\\n- \\\"file:.go context.WithTimeout\\\" - Go code using context.WithTimeout\\n- \\\"lang:typescript useState type:symbol\\\" - TypeScript React useState hooks\\n- \\\"repo:^github\\\\.com/kubernetes/kubernetes$ pod list type:file\\\" - Kubernetes pod files\\n- \\\"file:Dockerfile (alpine OR ubuntu) -content:alpine:latest\\\" - Dockerfiles with base images\\n</examples>\\n\\n<boolean_operators>\\n- \\\"term1 AND term2\\\" - both terms\\n- \\\"term1 OR term2\\\" - either term\\n- \\\"term1 NOT term2\\\" - term1 but not term2\\n- \\\"term1 and (term2 or term3)\\\" - grouping with parentheses\\n</boolean_operators>\\n\\n<limitations>\\n- Only searches public repositories\\n- Rate limits may apply\\n- Complex queries take longer\\n- Max 20 results per query\\n</limitations>\\n\\n<tips>\\n- Use specific file extensions to narrow results\\n- Add repo: filters for targeted searches\\n- Use type:symbol for function/method definitions\\n- Use type:file to find relevant files\\n</tips>\\n\",\"parameters\":{\"properties\":{\"context_window\":{\"description\":\"The context around the match to return (default: 10 lines)\",\"type\":\"integer\"},\"count\":{\"description\":\"Optional number of results to return (default: 10, max: 20)\",\"type\":\"integer\"},\"query\":{\"description\":\"The Sourcegraph search query\",\"type\":\"string\"},\"timeout\":{\"description\":\"Optional timeout in seconds (max 120)\",\"type\":\"integer\"}},\"required\":[\"query\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"view\",\"strict\":false,\"description\":\"Reads and displays file contents with line numbers for examining code, logs, or text data.\\n\\n<usage>\\n- Provide file path to read\\n- Optional offset: start reading from specific line (0-based)\\n- Optional limit: control lines read (default 100)\\n- Don't use for directories (use LS tool instead)\\n- Supports image files (PNG, JPEG, GIF, BMP, SVG, WebP)\\n</usage>\\n\\n<features>\\n- Displays contents with line numbers\\n- Can read from any file position using offset\\n- Handles large files by limiting lines read\\n- Auto-truncates very long lines for display\\n- Suggests similar filenames when file not found\\n- Renders image files directly in terminal\\n</features>\\n\\n<limitations>\\n- Max file size: 5MB\\n- Default limit: 100 lines (reduced to prevent context window issues)\\n- Lines >2000 chars truncated\\n- Binary files (except images) cannot be displayed\\n</limitations>\\n\\n<cross_platform>\\n- Handles Windows (CRLF) and Unix (LF) line endings\\n- Works with forward slashes (/) and backslashes (\\\\)\\n- Auto-detects text encoding for common formats\\n</cross_platform>\\n\\n<tips>\\n- Use with Glob to find files first\\n- For code exploration: Grep to find relevant files, then View to examine\\n- For large files: use offset and limit parameters for specific sections\\n- The tool uses smaller chunks (100 lines default) to manage context window efficiently\\n- For very large files, consider using 'head' or 'tail' commands via bash tool\\n- View tool automatically detects and renders image files\\n</tips>\\n\",\"parameters\":{\"properties\":{\"file_path\":{\"description\":\"The path to the file to read\",\"type\":\"string\"},\"limit\":{\"description\":\"The number of lines to read (defaults to 2000)\",\"type\":\"integer\"},\"offset\":{\"description\":\"The line number to start reading from (0-based)\",\"type\":\"integer\"}},\"required\":[\"file_path\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"write\",\"strict\":false,\"description\":\"Creates or updates files in filesystem for saving/modifying text content.\\n\\n<usage>\\n- Provide file path to write\\n- Include content to write to file\\n- Tool creates necessary parent directories automatically\\n</usage>\\n\\n<features>\\n- Creates new files or overwrites existing ones\\n- Auto-creates parent directories if missing\\n- Checks if file modified since last read for safety\\n- Avoids unnecessary writes when content unchanged\\n</features>\\n\\n<limitations>\\n- Read file before writing to avoid conflicts\\n- Cannot append (rewrites entire file)\\n</limitations>\\n\\n<cross_platform>\\n- Use forward slashes (/) for compatibility\\n</cross_platform>\\n\\n<tips>\\n- Use View tool first to examine existing files before modifying\\n- Use LS tool to verify location when creating new files\\n- Combine with Glob/Grep to find and modify multiple files\\n- Include descriptive comments when changing existing code\\n</tips>\\n\",\"parameters\":{\"properties\":{\"content\":{\"description\":\"The content to write to the file\",\"type\":\"string\"},\"file_path\":{\"description\":\"The path to the file to write\",\"type\":\"string\"}},\"required\":[\"file_path\",\"content\"],\"type\":\"object\"}},\"type\":\"function\"}],\"stream\":true}"
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - OpenAI/Go 2.7.1
    url: https://api.openai.com/v1/chat/completions
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: -1
    body: |+
      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_RXqHhCvh9X2HqlGHFEbsuMdO","type":"function","function":{"name":"ls","arguments":""}}],"refusal":null},"finish_reason":null}],"usage":null,"obfuscation":"yNNoBGEyMV0VEc"}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"{\""}}]},"finish_reason":null}],"usage":null,"obfuscation":"yskJMViOnmKV9Ve"}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"path"}}]},"finish_reason":null}],"usage":null,"obfuscation":"MmF0B369tUzwhC"}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\":"}}]},"finish_reason":null}],"usage":null,"obfuscation":"VymIW1vp8fqTrEL"}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":" \"/"}}]},"finish_reason":null}],"usage":null,"obfuscation":"CUt1t3UvnDTvLc"}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"tmp"}}]},"finish_reason":null}],"usage":null,"obfuscation":"TBcijLVkZrKp0zr"}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/n"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"ex"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"ora"}}]},"finish_reason":null}],"usage":null,"obfuscation":"8TbHtNiT4Cz7Q3g"}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"-test"}}]},"finish_reason":null}],"usage":null,"obfuscation":"fsAZL3LxstQas"}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/Test"}}]},"finish_reason":null}],"usage":null,"obfuscation":"2FISXwpAVC51j"}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"Coder"}}]},"finish_reason":null}],"usage":null,"obfuscation":"7MpwPsF0Uqqbu"}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"Agent"}}]},"finish_reason":null}],"usage":null,"obfuscation":"EATUvrsfKo5Nl"}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/open"}}]},"finish_reason":null}],"usage":null,"obfuscation":"YEz2hCcdaieS8"}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"ai"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"-g"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"pt"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"-"}}]},"finish_reason":null}],"usage":null,"obfuscation":"j"}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"5"}}]},"finish_reason":null}],"usage":null,"obfuscation":"v"}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/update"}}]},"finish_reason":null}],"usage":null,"obfuscation":"PeQPqs6spu9"}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"_a"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"_file"}}]},"finish_reason":null}],"usage":null,"obfuscation":"Zl2yT5xQGfMEa"}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\","}}]},"finish_reason":null}],"usage":null,"obfuscation":"HNap0gP4b47URAZ"}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":" \""}}]},"finish_reason":null}],"usage":null,"obfuscation":"yXIGBnybWZagHXn"}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"depth"}}]},"finish_reason":null}],"usage":null,"obfuscation":"fsuGXgfMMZiWT"}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\":"}}]},"finish_reason":null}],"usage":null,"obfuscation":"o8KoWAqaBVCPzfp"}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":" "}}]},"finish_reason":null}],"usage":null,"obfuscation":"N"}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"2"}}]},"finish_reason":null}],"usage":null,"obfuscation":"e"}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"}"}}]},"finish_reason":null}],"usage":null,"obfuscation":"s"}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{},"finish_reason":"tool_calls"}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6Y2uSTdVvWmHqfrWGWgOPyiQM4m","object":"chat.completion.chunk","created":1766772590,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[],"usage":{"prompt_tokens":7639,"completion_tokens":46,"total_tokens":7685,"prompt_tokens_details":{"cached_tokens":0,"audio_tokens":0},"completion_tokens_details":{"reasoning_tokens":0,"audio_tokens":0,"accepted_prediction_tokens":0,"rejected_prediction_tokens":0}},"obfuscation":"daacno9"}

      data: [DONE]

    headers:
      Content-Type:
      - text/event-stream; charset=utf-8
    status: 200 OK
    code: 200
    duration: 1.183575311s
- id: 2
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 34037
    host: ""
    body: "{\"messages\":[{\"content\":\"## CRITICAL: TOOL CALL FORMAT (READ THIS FIRST)\\n**ALWAYS use EXACT OpenAI JSON format for tools. NEVER use &lt;tool_call&gt; tags:**\\n\\n```\\n{\\n  \\\"tool_calls\\\": [{\\n    \\\"id\\\": \\\"call_abc123\\\",\\n    \\\"type\\\": \\\"function\\\",\\n    \\\"function\\\": {\\n      \\\"name\\\": \\\"view\\\",\\n      \\\"arguments\\\": \\\"{\\\\\\\"file_path\\\\\\\":\\\\\\\"/home/nexora/todo.md\\\\\\\"}\\\"\\n    }\\n  }]\\n}\\n```\\n\\n**Penalty for wrong format: Your response will be ignored!**\\n\\n## Core Rules\\n1. **Read before editing** - Always view files first, match exact formatting\\n2. **Be autonomous** - Search, decide, act without asking. Break complex tasks into steps.\\n3. **Infer intent** - Don't be literal. If a file isn't found, search for similar names (case variations, typos). If a task seems incomplete, complete it fully.\\n4. **Test changes** - Run tests immediately after modifications\\n5. **Be concise** - Keep responses under 4 lines unless explaining complex changes\\n6. **Exact matches** - Whitespace, indentation, line breaks must match perfectly for edits\\n7. **Never commit** - Unless explicitly asked\\n8. **Security first** - Only assist with defensive security tasks\\n\\n## Inference Examples\\n- User says \\\"read TODO.md\\\" but it doesn't exist → Search for `todo.md`, `TODO`, `Todo.md`\\n- User says \\\"fix the bug\\\" → Search for error patterns, recent changes, test failures\\n- User says \\\"add tests\\\" → Look at existing test patterns, create comprehensive tests\\n- File not found → Try case variations, partial matches, ask glob/grep to find it\\n\\n## Workflow\\n**Before acting**: Search → Read files → Identify changes → Edit → Test\\n**While acting**: Read entire file first, use exact text, include 3-5 lines context, test after each change\\n**Before finishing**: Verify task complete, run tests, keep response concise\\n\\n## Editing Files\\n**Critical Requirements**:\\n- Exact character-by-character matching\\n- Include 3-5 surrounding lines for reliable context\\n- Verify uniqueness (or use replace_all=true)\\n\\n**Understanding the 100 Line Limitation**:\\n- `view` tool shows 100 lines at a time: \\\"showing lines 1-100 of 200 total\\\"\\n- Use `view` with `offset` parameter: `view file_path=\\\"/path\\\" offset=100`\\n- Your edits MUST exist in the file, not just in visible 100-line chunk\\n\\n**Common Failures**:\\n- Wrong indentation: 2 spaces vs 4 spaces\\n- Missing blank lines: 1 newline vs 2 newlines\\n- Comment spacing: \\\"// comment\\\" vs \\\"//comment\\\"\\n\\n**Tab/Display Issues**:\\n- VIEW shows tabs as `→\\t\\\\t` but EDIT needs actual `\\\\t`\\n- Always use `ai_mode=true` (default) to auto-fix this\\n\\n**Recovery Steps**:\\n1. View file with more context\\n2. Use `offset` if target outside current window\\n3. Use `grep -n \\\"pattern\\\" file` to find line numbers\\n4. Fallback: Use `write` tool for full file replacement\\n\\n## Tools\\n\\n### Available Tools\\n- `view`: Read files with line numbers (100 lines at a time - use offset!)\\n- `edit`: Replace text exactly (whitespace-sensitive, ai_mode=true by default)\\n- `bash`: Execute commands\\n- `grep`: Search file contents\\n- `glob`: Find files by pattern\\n- `write`: Create/update entire files\\n\\n### When to use each\\n- **View**: Always first to understand file contents\\n- **Edit**: For precise, targeted changes\\n- **Write**: When exact matching fails or for large changes\\n- **Bash**: For command execution\\n- **Grep**: For finding text in files\\n- **Glob**: For finding files by name pattern\\n\\n### When something fails\\n- **File not found in view** → Use `offset=100`, `offset=200` to navigate\\n- **Edit fails** → View file again, copy exact text, use `write` as fallback\\n- **Command fails** → Read error, try alternative approach\\n- **Pattern not visible** → Use `grep` to find line numbers, then view with offset\\n\\n## Testing\\n- Run relevant tests after every change\\n- Fix failures immediately\\n- Never leave code in broken state\\n\\n## Decision Making\\n**Be proactive**: Don't just report problems, solve them.\\n**Autonomous decisions**: Search for answers, read patterns, make reasonable assumptions\\n**Only ask user if**: Truly ambiguous requirements, potential data loss, or actually blocked after trying alternatives\\n\\n## Error Handling\\n1. Read complete error message\\n2. Understand root cause\\n3. Try different approach (don't repeat same failure)\\n4. Search for similar working code\\n5. Make targeted fix\\n6. Test to verify\\n\\n## Project Specifics\\n\\n\\n\\n## Environment\\nDate/Time: 2025-01-01 00:00:00 UTC\\nOS: linux (amd64)\\nCurrent User: agent\\nWorking Directory: /tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file\\n\\nGit Repo: no\\n\\nInstalled Runtimes:\\n- Python: Python 3.13.7\\n- Node.js: v25.2.1\\n- Go: go1.25.5\\n- Shell: bash (mvdan/sh)\\n\\nSystem Resources:\\n- Memory: 31Gi total, 23Gi available\\n- Disk: 16G total, 15G free\\n\\nTerminal: color, 80x24, interactive\\nNetwork: online\\nActive Services: \\n\\n## Nexora System Settings\\nNexora client system settings are stored in `~/.local/share/nexora`. This directory contains two important files:\\n\\n1. **`nexora.db`** - SQLite database containing session history, configuration settings, and conversation state\\n2. **`mcp.json`** - JSON configuration file for MCP (Model Context Protocol) settings and server configurations\\n\\nMCP-related files and configurations are stored in the `mcp.json` file, which defines available MCP servers and their connection parameters.\\n\\n\\n\\n\",\"role\":\"system\"},{\"content\":\"update the main.go file by changing the print to say hello from nexora\",\"role\":\"user\"},{\"tool_calls\":[{\"id\":\"call_RXqHhCvh9X2HqlGHFEbsuMdO\",\"function\":{\"arguments\":\"{\\\"path\\\": \\\"/tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file\\\", \\\"depth\\\": 2}\",\"name\":\"ls\"},\"type\":\"function\"}],\"role\":\"assistant\"},{\"content\":\"\\n- /tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/\\n  - go.mod\\n  - main.go\\n\",\"tool_call_id\":\"call_RXqHhCvh9X2HqlGHFEbsuMdO\",\"role\":\"tool\"}],\"model\":\"gpt-5\",\"max_completion_tokens\":10000,\"stream_options\":{\"include_usage\":true},\"tool_choice\":\"auto\",\"tools\":[{\"function\":{\"name\":\"bash\",\"strict\":false,\"description\":\"Executes bash commands with automatic background conversion for long-running tasks.\\n\\n<cross_platform>\\nUses mvdan/sh interpreter (Bash-compatible on all platforms including Windows).\\nUse forward slashes for paths: \\\"ls C:/foo/bar\\\" not \\\"ls C:\\\\foo\\\\bar\\\".\\n</cross_platform>\\n\\n<execution_steps>\\n1. Directory Verification: Use LS tool to verify parent exists before creating files\\n2. Security Check: No restrictions - explain to user. Safe read-only commands execute without prompts\\n3. Command Execution: Execute with proper quoting, capture output\\n4. Auto-Background: Commands >1 minute automatically move to background, return shell ID\\n5. Output Processing: Truncate if exceeds 30000 characters\\n6. Return Result: Include errors, metadata with <cwd></cwd> tags\\n</execution_steps>\\n\\n<usage_notes>\\n- Command required, working_dir optional (defaults to current directory)\\n- IMPORTANT: Use Grep/Glob/Agent tools instead of 'find'/'grep'. Use View/LS instead of 'cat'/'head'/'tail'/'ls'\\n- Chain with ';' or '&&', avoid newlines except in quoted strings\\n- Each command runs in independent shell (no state persistence)\\n- Prefer absolute paths over 'cd'\\n</usage_notes>\\n\\n<background_execution>\\n- Set run_in_background=true for separate background shell\\n- Returns shell ID for management\\n- Use job_output tool to view output, job_kill to terminate\\n- NEVER use `&` at end of commands - use run_in_background parameter\\n- Background: Long servers (npm start, python -m http.server), watch tasks, continuous processes\\n- Foreground: Builds, tests, git ops, file ops, short scripts\\n</background_execution>\\n\\n<git_commits>\\nWhen user asks to create git commit:\\n\\n1. Run: git status, git diff, git log (single message, three tool_use blocks)\\n2. Add relevant untracked files to staging\\n3. Analyze in <commit_analysis> tags:\\n   - List changed files, summarize nature (feature/bug fix/refactor/docs)\\n   - Draft concise (1-2 sentences) focusing on \\\"why\\\" not \\\"what\\\"\\n   - Use accurate verbs: \\\"add\\\"=new feature, \\\"update\\\"=enhancement, \\\"fix\\\"=bug\\n4. Create commit with attribution:\\n   ```bash\\n   git commit -m \\\"$(cat &lt;&lt;'EOF'\\n   Commit message here.\\n\\n   \U0001F498 Generated with Crush\\n\\n\\n   Co-Authored-By: Crush <crush@charm.land>\\n\\n   EOF\\n   )\\\"\\n   ```\\n5. If pre-commit hook fails, retry ONCE. If succeeds but files modified, MUST amend.\\n6. Run git status to verify.\\n\\nNotes: Use \\\"git commit -am\\\" when possible, don't stage unrelated files, NEVER update config, don't push, no empty commits.\\n</git_commits>\\n\\n<pull_requests>\\nWhen user asks to create PR:\\n\\n1. Run: git status, git diff, check remote tracking, git log and 'git diff main...HEAD'\\n2. Create branch if needed, commit if needed, push with -u if needed\\n3. Analyze in <pr_analysis> tags:\\n   - List commits since main divergence\\n   - Summarize changes, purpose/motivation\\n   - Draft concise (1-2 bullets) focusing on \\\"why\\\"\\n4. Create PR:\\n   ```bash\\n   gh pr create --title \\\"title\\\" --body \\\"$(cat &lt;&lt;'EOF'\\n   ## Summary\\n   &lt;1-3 bullet points>\\n   \\n   ## Test plan\\n   [Checklist...]\\n\\n   \U0001F498 Generated with Crush\\n\\n   EOF\\n   )\\\"\\n   ```\\n\\nImportant: Return empty response, never update git config\\n</pull_requests>\\n\\n<examples>\\nGood: pytest /foo/bar/tests\\nBad: cd /foo/bar && pytest tests\\n</examples>\\n\",\"parameters\":{\"properties\":{\"command\":{\"description\":\"The command to execute\",\"type\":\"string\"},\"description\":{\"description\":\"A brief description of what the command does, try to keep it under 30 characters or so\",\"type\":\"string\"},\"run_in_background\":{\"description\":\"Set to true (boolean) to run this command in the background. Use job_output to read the output later.\",\"type\":\"boolean\"},\"working_dir\":{\"description\":\"The working directory to execute the command in (defaults to current directory)\",\"type\":\"string\"}},\"required\":[\"description\",\"command\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"download\",\"strict\":false,\"description\":\"Downloads binary data from URL and saves to local file.\\n\\n<usage>\\n- Provide URL to download from\\n- Specify local file path where content should be saved\\n- Optional timeout for request\\n</usage>\\n\\n<features>\\n- Downloads any file type (binary or text)\\n- Auto-creates parent directories if missing\\n- Handles large files efficiently with streaming\\n- Sets reasonable timeouts to prevent hanging\\n- Validates input parameters before requests\\n</features>\\n\\n<limitations>\\n- Max file size: 100MB\\n- Only supports HTTP and HTTPS protocols\\n- Cannot handle authentication or cookies\\n- Some websites may block automated requests\\n- Will overwrite existing files without warning\\n</limitations>\\n\\n<tips>\\n- Use absolute paths or paths relative to working directory\\n- Set appropriate timeouts for large files or slow connections\\n</tips>\\n\",\"parameters\":{\"properties\":{\"file_path\":{\"description\":\"The local file path where the downloaded content should be saved\",\"type\":\"string\"},\"timeout\":{\"description\":\"Optional timeout in seconds (max 600)\",\"type\":\"integer\"},\"url\":{\"description\":\"The URL to download from\",\"type\":\"string\"}},\"required\":[\"url\",\"file_path\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"edit\",\"strict\":false,\"description\":\"Edits files by replacing text, creating new files, or deleting content. For moving/renaming use Bash 'mv'. For large edits use Write tool.\\n\\n**Quick Decision Tree:**\\n1. **Know exact line numbers?** → Use `smart_edit` tool (100% reliable)\\n2. **Edit failed once?** → Use `write` tool immediately\\n3. **First time editing?** → Enable ai_mode=true\\n\\n<prerequisites>\\n1. **NEVER copy from view tool output** - has visual tab indicators (→\\t) causing failures\\n2. Use `sed -n 'START,ENDp' file` or `grep -A5 -B5 pattern file` for EXACT text\\n3. For new files: Use LS tool to verify parent directory exists\\n4. If you can't extract exact text, use `smart_edit` with line numbers\\n</prerequisites>\\n\\n<parameters>\\n1. file_path: Absolute path to file (required)\\n2. old_string: Text to replace (exact match including whitespace/indentation)\\n3. new_string: Replacement text\\n4. replace_all: Replace all occurrences (default false)\\n</parameters>\\n\\n<special_cases>\\n- Create file: provide file_path + new_string, leave old_string empty\\n- Delete content: provide file_path + old_string, leave new_string empty\\n</special_cases>\\n\\n<critical_requirements>\\n**EXACT MATCHING**: Text must match character-for-character\\n- Every space, tab, blank line, newline, indentation level\\n- Comment spacing (`// comment` vs `//comment`)\\n- Brace positioning (`func() {` vs `func(){`)\\n\\n**UNIQUENESS**: old_string MUST uniquely identify target (when replace_all=false)\\n- Include 3-5 lines context before/after change point\\n- If text appears multiple times, add more context or use replace_all=true\\n\\n**VERIFICATION BEFORE USING**:\\n1. View file and locate exact target\\n2. Check how many instances exist\\n3. Copy EXACT text including whitespace\\n4. Verify enough context for unique identification\\n5. Double-check indentation (count spaces/tabs)\\n</critical_requirements>\\n\\n<warnings>\\nTool fails if:\\n- old_string matches multiple locations and replace_all=false\\n- Whitespace doesn't match exactly\\n- Indentation off by even one space\\n- Missing or extra blank lines\\n</warnings>\\n\\n<recovery_steps>\\nIf \\\"old_string not found\\\":\\n\\n**\U0001F6D1 DON'T RETRY - Use alternatives:**\\n1. `smart_edit` with line numbers (100% reliable)\\n2. Extract exact text: `sed -n '10,20p' file`\\n3. Use `write` tool for full file replacement\\n\\n**❌ DON'T:**\\n- Retry with \\\"adjusted\\\" whitespace\\n- Copy from view output (has artifacts)\\n- Guess at whitespace\\n\\n**✅ DO:**\\n- Use `smart_edit` (line numbers)\\n- Use `sed -n 'X,Yp' file` for exact text\\n- Use `write` if edit fails once\\n</recovery_steps>\\n\\n<best_practices>\\n- View file first, match exact formatting\\n- Use absolute paths with forward slashes (/)\\n- Multiple edits to same file: send all in single message\\n- Include MORE context when uncertain\\n- Match existing code style exactly\\n</best_practices>\\n\\n<examples>\\n✅ **Correct**: Exact match with context\\n```\\nold_string: \\\"func ProcessData(input string) error {\\\\n    if input == \\\\\\\"\\\\\\\" {\\\\n        return errors.New(\\\\\\\"empty input\\\\\\\")\\\\n    }\\\\n    return nil\\\\n}\\\"\\nnew_string: \\\"func ProcessData(input string) error {\\\\n    if input == \\\\\\\"\\\\\\\" {\\\\n        return errors.New(\\\\\\\"empty input\\\\\\\")\\\\n    }\\\\n    if len(input) > 1000 {\\\\n        return errors.New(\\\\\\\"input too long\\\\\\\")\\\\n    }\\\\n    return nil\\\\n}\\\"\\n```\\n\\n❌ **Incorrect**: Not enough context\\n```\\nold_string: \\\"return nil\\\"  // Appears many times!\\n```\\n\\n❌ **Incorrect**: Wrong indentation\\n```\\nold_string: \\\"  if input == \\\\\\\"\\\\\\\" {\\\"  // 2 spaces\\n// File actually has: \\\"    if input == \\\\\\\"\\\\\\\" {\\\"  // 4 spaces\\n```\\n</examples>\\n\\n## AI Mode\\nUse `ai_mode=true` (default) for automatic fixes:\\n- Converts VIEW tool display tabs (`→\\\\t`) to real tabs (`\\\\t`)\\n- Expands minimal context automatically\\n- Enhanced error messages\\n- Lower failure rate on whitespace issues\\n\",\"parameters\":{\"properties\":{\"ai_mode\":{\"description\":\"Enable AI-optimized editing with automatic context expansion and improved error handling (DEFAULT: true)\",\"type\":\"boolean\"},\"file_path\":{\"description\":\"The absolute path to the file to modify\",\"type\":\"string\"},\"new_string\":{\"description\":\"The text to replace it with\",\"type\":\"string\"},\"old_string\":{\"description\":\"The text to replace\",\"type\":\"string\"},\"replace_all\":{\"description\":\"Replace all occurrences of old_string (default false)\",\"type\":\"boolean\"}},\"required\":[\"file_path\",\"old_string\",\"new_string\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"multiedit\",\"strict\":false,\"description\":\"Makes multiple edits to a single file in one operation. Built on Edit tool for efficient multiple find-and-replace. Prefer over Edit tool for multiple edits to same file.\\n\\n<prerequisites>\\n1. Use View tool to understand file contents\\n2. Verify directory path is correct\\n3. CRITICAL: Note exact whitespace, indentation from View output\\n</prerequisites>\\n\\n<parameters>\\n1. file_path: Absolute path to file (required)\\n2. edits: Array of edit objects (MUST be array, not string!):\\n   - old_string: Text to replace (exact match including whitespace)\\n   - new_string: Replacement text\\n   - replace_all: Replace all occurrences (optional, default false)\\n   \\n   ✅ CORRECT: `\\\"edits\\\": [{\\\"old_string\\\": \\\"text1\\\", \\\"new_string\\\": \\\"replace1\\\"}]`\\n   ❌ INCORRECT: `\\\"edits\\\": \\\"[{\\\\\\\"old_string\\\\\\\": \\\\\\\"text1\\\\\\\"}]\\\"` (string, not array)\\n</parameters>\\n\\n<operation>\\n- Edits applied sequentially in order\\n- Each edit operates on result of previous edit\\n- PARTIAL SUCCESS: Failed edits returned, successful edits kept\\n- File modified if at least one edit succeeds\\n</operation>\\n\\n<inherited_rules>\\n**All Edit tool rules apply to each edit:**\\n- See edit.md for critical requirements, warnings, recovery steps\\n- Exact matching for whitespace, indentation, blank lines\\n- Uniqueness requirements (3-5 lines context)\\n- Verification checklist before using\\n- Use ai_mode=true (default) for tab handling\\n</inherited_rules>\\n\\n<critical_requirements>\\n1. Apply Edit tool rules to EACH edit (see edit.md)\\n2. Edits applied in order; successful edits kept if later edits fail\\n3. Plan sequence: earlier edits change content that later edits must match\\n4. Ensure each old_string unique at application time (after prior edits)\\n5. Check response for failed edits, retry with corrections\\n</critical_requirements>\\n\\n<verification_before_using>\\n1. View file, copy exact text (including whitespace) for each target\\n2. Check instances of each old_string BEFORE sequence\\n3. Dry-run: after edit #N, will edit #N+1 still match?\\n4. Prefer fewer, larger context blocks over many tiny fragments\\n5. If edits independent, consider separate multiedit batches\\n</verification_before_using>\\n\\n<warnings>\\n- Check response for failed edits\\n- Earlier edits invalidate later matches (added/removed spaces, lines)\\n- Mixed tabs/spaces, trailing spaces cause failures\\n- replace_all may affect unintended regions\\n</warnings>\\n\\n<recovery_steps>\\nIf edits fail:\\n1. Check response metadata for failed edits with errors\\n2. View file to see current state after successful edits\\n3. Adjust failed edits based on new content\\n4. Retry with corrected old_string values\\n5. Break complex batches into smaller operations\\n</recovery_steps>\\n\\n<best_practices>\\n- Result in correct, idiomatic code\\n- Use absolute file paths (/)\\n- Use replace_all only when certain\\n- Match existing style exactly\\n- Review failed edits, retry with corrections\\n</best_practices>\\n\\n<examples>\\n✅ **Correct**: Sequential edits accounting for changes\\n```\\nedits: [\\n  {\\n    old_string: \\\"func A() {\\\\n    doOld()\\\\n}\\\",\\n    new_string: \\\"func A() {\\\\n    doNew()\\\\n}\\\",\\n  },\\n  {\\n    // Context exists AFTER first replacement\\n    old_string: \\\"func B() {\\\\n    callA()\\\\n}\\\",\\n    new_string: \\\"func B() {\\\\n    callA()\\\\n    logChange()\\\\n}\\\",\\n  },\\n]\\n```\\n\\n❌ **Incorrect**: Second old_string no longer matches\\n```\\nedits: [\\n  {\\n    old_string: \\\"func A() {\\\\n    doOld()\\\\n}\\\",\\n    new_string: \\\"func A() {\\\\n\\\\n    doNew()\\\\n}\\\", // Added blank line\\n  },\\n  {\\n    old_string: \\\"func A() {\\\\n    doNew()\\\\n}\\\", // Missing blank line - FAILS\\n    new_string: \\\"func A() {\\\\n    doNew()\\\\n    logChange()\\\\n}\\\",\\n  },\\n]\\n```\\n</examples>\\n\",\"parameters\":{\"properties\":{\"edits\":{\"description\":\"Array of edit operations to perform sequentially on the file\",\"items\":{\"properties\":{\"new_string\":{\"description\":\"The text to replace it with\",\"type\":\"string\"},\"old_string\":{\"description\":\"The text to replace\",\"type\":\"string\"},\"replace_all\":{\"description\":\"Replace all occurrences of old_string (default false).\",\"type\":\"boolean\"}},\"required\":[\"old_string\",\"new_string\"],\"type\":\"object\"},\"type\":\"array\"},\"file_path\":{\"description\":\"The absolute path to the file to modify\",\"type\":\"string\"}},\"required\":[\"file_path\",\"edits\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"fetch\",\"strict\":false,\"description\":\"Fetches raw content from URL and returns it in specified format without any AI processing.\\n\\n<when_to_use>\\nUse this tool when you need:\\n- Raw, unprocessed content from a URL\\n- Direct access to API responses or JSON data\\n- HTML/text/markdown content without interpretation\\n- Simple, fast content retrieval without analysis\\n- To save tokens by avoiding AI processing\\n\\nDO NOT use this tool when you need to:\\n- Extract specific information from a webpage (use agentic_fetch instead)\\n- Answer questions about web content (use agentic_fetch instead)\\n- Analyze or summarize web pages (use agentic_fetch instead)\\n</when_to_use>\\n\\n<usage>\\n- Provide URL to fetch content from\\n- Specify desired output format (text, markdown, or html)\\n- Optional timeout for request\\n</usage>\\n\\n<features>\\n- Supports three output formats: text, markdown, html\\n- Auto-handles HTTP redirects\\n- Fast and lightweight - no AI processing\\n- Sets reasonable timeouts to prevent hanging\\n- Validates input parameters before requests\\n</features>\\n\\n<limitations>\\n- Max response size: 5MB\\n- Only supports HTTP and HTTPS protocols\\n- Cannot handle authentication or cookies\\n- Some websites may block automated requests\\n- Returns raw content only - no analysis or extraction\\n</limitations>\\n\\n<tips>\\n- Use text format for plain text content or simple API responses\\n- Use markdown format for content that should be rendered with formatting\\n- Use html format when you need raw HTML structure\\n- Set appropriate timeouts for potentially slow websites\\n- If the user asks to analyze or extract from a page, use agentic_fetch instead\\n</tips>\\n\",\"parameters\":{\"properties\":{\"format\":{\"description\":\"The format to return the content in (text, markdown, or html)\",\"type\":\"string\"},\"timeout\":{\"description\":\"Optional timeout in seconds (max 120)\",\"type\":\"integer\"},\"url\":{\"description\":\"The URL to fetch content from\",\"type\":\"string\"}},\"required\":[\"url\",\"format\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"glob\",\"strict\":false,\"description\":\"Fast file pattern matching tool that finds files by name/pattern, returning paths sorted by modification time (newest first).\\n\\n<usage>\\n- Provide glob pattern to match against file paths\\n- Optional starting directory (defaults to current working directory)\\n- Results sorted with most recently modified files first\\n</usage>\\n\\n<pattern_syntax>\\n- '\\\\*' matches any sequence of non-separator characters\\n- '\\\\*\\\\*' matches any sequence including separators\\n- '?' matches any single non-separator character\\n- '[...]' matches any character in brackets\\n- '[!...]' matches any character not in brackets\\n</pattern_syntax>\\n\\n<examples>\\n- '*.js' - JavaScript files in current directory\\n- '**/*.js' - JavaScript files in any subdirectory\\n- 'src/**/*.{ts,tsx}' - TypeScript files in src directory\\n- '*.{html,css,js}' - HTML, CSS, and JS files\\n</examples>\\n\\n<limitations>\\n- Results limited to 100 files (newest first)\\n- Does not search file contents (use Grep for that)\\n- Hidden files (starting with '.') skipped\\n</limitations>\\n\\n<cross_platform>\\n- Path separators handled automatically (/ and \\\\ work)\\n- Uses ripgrep (rg) if available, otherwise Go implementation\\n- Patterns should use forward slashes (/) for compatibility\\n</cross_platform>\\n\\n<tips>\\n- Combine with Grep: find files with Glob, search contents with Grep\\n- For iterative exploration requiring multiple searches, consider Agent tool\\n- Check if results truncated and refine pattern if needed\\n</tips>\\n\",\"parameters\":{\"properties\":{\"path\":{\"description\":\"The directory to search in. Defaults to the current working directory.\",\"type\":\"string\"},\"pattern\":{\"description\":\"The glob pattern to match files against\",\"type\":\"string\"}},\"required\":[\"pattern\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"grep\",\"strict\":false,\"description\":\"Fast content search tool that finds files containing specific text/patterns, returning matching paths sorted by modification time (newest first).\\n\\n<usage>\\n- Provide regex pattern to search within file contents\\n- Set literal_text=true for exact text with special characters (recommended for non-regex users)\\n- Optional starting directory (defaults to current working directory)\\n- Optional include pattern to filter which files to search\\n- Results sorted with most recently modified files first\\n</usage>\\n\\n<regex_syntax>\\nWhen literal_text=false (supports standard regex):\\n\\n- 'function' searches for literal text \\\"function\\\"\\n- 'log\\\\..\\\\*Error' finds text starting with \\\"log.\\\" and ending with \\\"Error\\\"\\n- 'import\\\\s+.\\\\*\\\\s+from' finds import statements in JavaScript/TypeScript\\n</regex_syntax>\\n\\n<include_patterns>\\n- '\\\\*.js' - Only search JavaScript files\\n- '\\\\*.{ts,tsx}' - Only search TypeScript files\\n- '\\\\*.go' - Only search Go files\\n</include_patterns>\\n\\n<limitations>\\n- Results limited to 100 files (newest first)\\n- Performance depends on number of files searched\\n- Very large binary files may be skipped\\n- Hidden files (starting with '.') skipped\\n</limitations>\\n\\n<ignore_support>\\n- Respects .gitignore patterns to skip ignored files/directories\\n- Respects .nexoraignore patterns for additional ignore rules\\n- Both ignore files auto-detected in search root directory\\n</ignore_support>\\n\\n<cross_platform>\\n- Uses ripgrep (rg) if available for better performance\\n- Falls back to Go implementation if ripgrep unavailable\\n- File paths normalized automatically for compatibility\\n</cross_platform>\\n\\n<tips>\\n- For faster searches: use Glob to find relevant files first, then Grep\\n- For iterative exploration requiring multiple searches, consider Agent tool\\n- Check if results truncated and refine search pattern if needed\\n- Use literal_text=true for exact text with special characters (dots, parentheses, etc.)\\n</tips>\\n\",\"parameters\":{\"properties\":{\"include\":{\"description\":\"File pattern to include in the search (e.g. \\\"*.js\\\", \\\"*.{ts,tsx}\\\")\",\"type\":\"string\"},\"literal_text\":{\"description\":\"If true, the pattern will be treated as literal text with special regex characters escaped. Default is false.\",\"type\":\"boolean\"},\"path\":{\"description\":\"The directory to search in. Defaults to the current working directory.\",\"type\":\"string\"},\"pattern\":{\"description\":\"The regex pattern to search for in file contents\",\"type\":\"string\"}},\"required\":[\"pattern\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"ls\",\"strict\":false,\"description\":\"Shows files and subdirectories in tree structure for exploring project organization.\\n\\n<usage>\\n- Provide path to list (defaults to current working directory)\\n- Optional glob patterns to ignore\\n- Results displayed in tree structure\\n</usage>\\n\\n<features>\\n- Hierarchical view of files and directories\\n- Auto-skips hidden files/directories (starting with '.')\\n- Skips common system directories like __pycache__\\n- Can filter files matching specific patterns\\n</features>\\n\\n<limitations>\\n- Results limited to 1000 files\\n- Large directories truncated\\n- No file sizes or permissions shown\\n- Cannot recursively list all directories in large projects\\n</limitations>\\n\\n<cross_platform>\\n- Hidden file detection uses Unix convention (files starting with '.')\\n- Windows hidden files (with hidden attribute) not auto-skipped\\n- Common Windows directories (System32, Program Files) not in default ignore\\n- Path separators handled automatically (/ and \\\\ work)\\n</cross_platform>\\n\\n<tips>\\n- Use Glob for finding files by name patterns instead of browsing\\n- Use Grep for searching file contents\\n- Combine with other tools for effective exploration\\n</tips>\\n\",\"parameters\":{\"properties\":{\"depth\":{\"description\":\"The maximum depth to traverse\",\"type\":\"integer\"},\"ignore\":{\"description\":\"List of glob patterns to ignore\",\"items\":{\"type\":\"string\"},\"type\":\"array\"},\"path\":{\"description\":\"The path to the directory to list (defaults to current working directory)\",\"type\":\"string\"}},\"required\":[],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"sourcegraph\",\"strict\":false,\"description\":\"Search code across public repositories using Sourcegraph's GraphQL API.\\n\\n<usage>\\n- Provide search query using Sourcegraph syntax\\n- Optional result count (default: 10, max: 20)\\n- Optional timeout for request\\n</usage>\\n\\n<basic_syntax>\\n- \\\"fmt.Println\\\" - exact matches\\n- \\\"file:.go fmt.Println\\\" - limit to Go files\\n- \\\"repo:^github\\\\.com/golang/go$ fmt.Println\\\" - specific repos\\n- \\\"lang:go fmt.Println\\\" - limit to Go code\\n- \\\"fmt.Println AND log.Fatal\\\" - combined terms\\n- \\\"fmt\\\\.(Print|Printf|Println)\\\" - regex patterns\\n- \\\"\\\\\\\"exact phrase\\\\\\\"\\\" - exact phrase matching\\n- \\\"-file:test\\\" or \\\"-repo:forks\\\" - exclude matches\\n</basic_syntax>\\n\\n<key_filters>\\nRepository: repo:name, repo:^exact$, repo:org/repo@branch, -repo:exclude, fork:yes, archived:yes, visibility:public\\nFile: file:\\\\.js$, file:internal/, -file:test, file:has.content(text)\\nContent: content:\\\"exact\\\", -content:\\\"unwanted\\\", case:yes\\nType: type:symbol, type:file, type:path, type:diff, type:commit\\nTime: after:\\\"1 month ago\\\", before:\\\"2023-01-01\\\", author:name, message:\\\"fix\\\"\\nResult: select:repo, select:file, select:content, count:100, timeout:30s\\n</key_filters>\\n\\n<examples>\\n- \\\"file:.go context.WithTimeout\\\" - Go code using context.WithTimeout\\n- \\\"lang:typescript useState type:symbol\\\" - TypeScript React useState hooks\\n- \\\"repo:^github\\\\.com/kubernetes/kubernetes$ pod list type:file\\\" - Kubernetes pod files\\n- \\\"file:Dockerfile (alpine OR ubuntu) -content:alpine:latest\\\" - Dockerfiles with base images\\n</examples>\\n\\n<boolean_operators>\\n- \\\"term1 AND term2\\\" - both terms\\n- \\\"term1 OR term2\\\" - either term\\n- \\\"term1 NOT term2\\\" - term1 but not term2\\n- \\\"term1 and (term2 or term3)\\\" - grouping with parentheses\\n</boolean_operators>\\n\\n<limitations>\\n- Only searches public repositories\\n- Rate limits may apply\\n- Complex queries take longer\\n- Max 20 results per query\\n</limitations>\\n\\n<tips>\\n- Use specific file extensions to narrow results\\n- Add repo: filters for targeted searches\\n- Use type:symbol for function/method definitions\\n- Use type:file to find relevant files\\n</tips>\\n\",\"parameters\":{\"properties\":{\"context_window\":{\"description\":\"The context around the match to return (default: 10 lines)\",\"type\":\"integer\"},\"count\":{\"description\":\"Optional number of results to return (default: 10, max: 20)\",\"type\":\"integer\"},\"query\":{\"description\":\"The Sourcegraph search query\",\"type\":\"string\"},\"timeout\":{\"description\":\"Optional timeout in seconds (max 120)\",\"type\":\"integer\"}},\"required\":[\"query\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"view\",\"strict\":false,\"description\":\"Reads and displays file contents with line numbers for examining code, logs, or text data.\\n\\n<usage>\\n- Provide file path to read\\n- Optional offset: start reading from specific line (0-based)\\n- Optional limit: control lines read (default 100)\\n- Don't use for directories (use LS tool instead)\\n- Supports image files (PNG, JPEG, GIF, BMP, SVG, WebP)\\n</usage>\\n\\n<features>\\n- Displays contents with line numbers\\n- Can read from any file position using offset\\n- Handles large files by limiting lines read\\n- Auto-truncates very long lines for display\\n- Suggests similar filenames when file not found\\n- Renders image files directly in terminal\\n</features>\\n\\n<limitations>\\n- Max file size: 5MB\\n- Default limit: 100 lines (reduced to prevent context window issues)\\n- Lines >2000 chars truncated\\n- Binary files (except images) cannot be displayed\\n</limitations>\\n\\n<cross_platform>\\n- Handles Windows (CRLF) and Unix (LF) line endings\\n- Works with forward slashes (/) and backslashes (\\\\)\\n- Auto-detects text encoding for common formats\\n</cross_platform>\\n\\n<tips>\\n- Use with Glob to find files first\\n- For code exploration: Grep to find relevant files, then View to examine\\n- For large files: use offset and limit parameters for specific sections\\n- The tool uses smaller chunks (100 lines default) to manage context window efficiently\\n- For very large files, consider using 'head' or 'tail' commands via bash tool\\n- View tool automatically detects and renders image files\\n</tips>\\n\",\"parameters\":{\"properties\":{\"file_path\":{\"description\":\"The path to the file to read\",\"type\":\"string\"},\"limit\":{\"description\":\"The number of lines to read (defaults to 2000)\",\"type\":\"integer\"},\"offset\":{\"description\":\"The line number to start reading from (0-based)\",\"type\":\"integer\"}},\"required\":[\"file_path\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"write\",\"strict\":false,\"description\":\"Creates or updates files in filesystem for saving/modifying text content.\\n\\n<usage>\\n- Provide file path to write\\n- Include content to write to file\\n- Tool creates necessary parent directories automatically\\n</usage>\\n\\n<features>\\n- Creates new files or overwrites existing ones\\n- Auto-creates parent directories if missing\\n- Checks if file modified since last read for safety\\n- Avoids unnecessary writes when content unchanged\\n</features>\\n\\n<limitations>\\n- Read file before writing to avoid conflicts\\n- Cannot append (rewrites entire file)\\n</limitations>\\n\\n<cross_platform>\\n- Use forward slashes (/) for compatibility\\n</cross_platform>\\n\\n<tips>\\n- Use View tool first to examine existing files before modifying\\n- Use LS tool to verify location when creating new files\\n- Combine with Glob/Grep to find and modify multiple files\\n- Include descriptive comments when changing existing code\\n</tips>\\n\",\"parameters\":{\"properties\":{\"content\":{\"description\":\"The content to write to the file\",\"type\":\"string\"},\"file_path\":{\"description\":\"The path to the file to write\",\"type\":\"string\"}},\"required\":[\"file_path\",\"content\"],\"type\":\"object\"}},\"type\":\"function\"}],\"stream\":true}"
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - OpenAI/Go 2.7.1
    url: https://api.openai.com/v1/chat/completions
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: -1
    body: |+
      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_QeTGogl9gZwYHMd6QV92K84W","type":"function","function":{"name":"view","arguments":""}}],"refusal":null},"finish_reason":null}],"usage":null,"obfuscation":"jqBY8ehkUJ87"}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"{\""}}]},"finish_reason":null}],"usage":null,"obfuscation":"DPDtVdLdZuQNosW"}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"file"}}]},"finish_reason":null}],"usage":null,"obfuscation":"80kbEKqxAkNJeO"}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"_path"}}]},"finish_reason":null}],"usage":null,"obfuscation":"61HesbBSFnwtj"}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\":"}}]},"finish_reason":null}],"usage":null,"obfuscation":"EHrm8OzSo2QuvU4"}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\"/"}}]},"finish_reason":null}],"usage":null,"obfuscation":"ANyx4F3rBRMPS4H"}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"tmp"}}]},"finish_reason":null}],"usage":null,"obfuscation":"aovSnR1yz3oM9bn"}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/n"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"ex"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"ora"}}]},"finish_reason":null}],"usage":null,"obfuscation":"3n85F8G6Btbgfdc"}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"-test"}}]},"finish_reason":null}],"usage":null,"obfuscation":"1UBp43pi4jMf7"}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/Test"}}]},"finish_reason":null}],"usage":null,"obfuscation":"tzPCeqH6JmR9X"}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"Coder"}}]},"finish_reason":null}],"usage":null,"obfuscation":"ZzdWG2KfHwVvb"}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"Agent"}}]},"finish_reason":null}],"usage":null,"obfuscation":"o88BMvGJ6xMWc"}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/open"}}]},"finish_reason":null}],"usage":null,"obfuscation":"qe61RpHot6w2e"}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"ai"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"-g"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"pt"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"-"}}]},"finish_reason":null}],"usage":null,"obfuscation":"n"}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"5"}}]},"finish_reason":null}],"usage":null,"obfuscation":"P"}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/update"}}]},"finish_reason":null}],"usage":null,"obfuscation":"Ks9RB1vV9Db"}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"_a"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"_file"}}]},"finish_reason":null}],"usage":null,"obfuscation":"47auWDUU3Wov7"}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/main"}}]},"finish_reason":null}],"usage":null,"obfuscation":"PVFE9JrTITpMs"}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":".go"}}]},"finish_reason":null}],"usage":null,"obfuscation":"hxBfbfEuG8eOFug"}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\"}"}}]},"finish_reason":null}],"usage":null,"obfuscation":"YGPbT7VZMmsV6Mh"}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{},"finish_reason":"tool_calls"}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6Y4Judjlvay4KWfsFkvFOGL8lWK","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[],"usage":{"prompt_tokens":7718,"completion_tokens":36,"total_tokens":7754,"prompt_tokens_details":{"cached_tokens":7552,"audio_tokens":0},"completion_tokens_details":{"reasoning_tokens":0,"audio_tokens":0,"accepted_prediction_tokens":0,"rejected_prediction_tokens":0}},"obfuscation":"a2YA"}

      data: [DONE]

    headers:
      Content-Type:
      - text/event-stream; charset=utf-8
    status: 200 OK
    code: 200
    duration: 513.381473ms
- id: 3
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 34578
    host: ""
    body: "{\"messages\":[{\"content\":\"## CRITICAL: TOOL CALL FORMAT (READ THIS FIRST)\\n**ALWAYS use EXACT OpenAI JSON format for tools. NEVER use &lt;tool_call&gt; tags:**\\n\\n```\\n{\\n  \\\"tool_calls\\\": [{\\n    \\\"id\\\": \\\"call_abc123\\\",\\n    \\\"type\\\": \\\"function\\\",\\n    \\\"function\\\": {\\n      \\\"name\\\": \\\"view\\\",\\n      \\\"arguments\\\": \\\"{\\\\\\\"file_path\\\\\\\":\\\\\\\"/home/nexora/todo.md\\\\\\\"}\\\"\\n    }\\n  }]\\n}\\n```\\n\\n**Penalty for wrong format: Your response will be ignored!**\\n\\n## Core Rules\\n1. **Read before editing** - Always view files first, match exact formatting\\n2. **Be autonomous** - Search, decide, act without asking. Break complex tasks into steps.\\n3. **Infer intent** - Don't be literal. If a file isn't found, search for similar names (case variations, typos). If a task seems incomplete, complete it fully.\\n4. **Test changes** - Run tests immediately after modifications\\n5. **Be concise** - Keep responses under 4 lines unless explaining complex changes\\n6. **Exact matches** - Whitespace, indentation, line breaks must match perfectly for edits\\n7. **Never commit** - Unless explicitly asked\\n8. **Security first** - Only assist with defensive security tasks\\n\\n## Inference Examples\\n- User says \\\"read TODO.md\\\" but it doesn't exist → Search for `todo.md`, `TODO`, `Todo.md`\\n- User says \\\"fix the bug\\\" → Search for error patterns, recent changes, test failures\\n- User says \\\"add tests\\\" → Look at existing test patterns, create comprehensive tests\\n- File not found → Try case variations, partial matches, ask glob/grep to find it\\n\\n## Workflow\\n**Before acting**: Search → Read files → Identify changes → Edit → Test\\n**While acting**: Read entire file first, use exact text, include 3-5 lines context, test after each change\\n**Before finishing**: Verify task complete, run tests, keep response concise\\n\\n## Editing Files\\n**Critical Requirements**:\\n- Exact character-by-character matching\\n- Include 3-5 surrounding lines for reliable context\\n- Verify uniqueness (or use replace_all=true)\\n\\n**Understanding the 100 Line Limitation**:\\n- `view` tool shows 100 lines at a time: \\\"showing lines 1-100 of 200 total\\\"\\n- Use `view` with `offset` parameter: `view file_path=\\\"/path\\\" offset=100`\\n- Your edits MUST exist in the file, not just in visible 100-line chunk\\n\\n**Common Failures**:\\n- Wrong indentation: 2 spaces vs 4 spaces\\n- Missing blank lines: 1 newline vs 2 newlines\\n- Comment spacing: \\\"// comment\\\" vs \\\"//comment\\\"\\n\\n**Tab/Display Issues**:\\n- VIEW shows tabs as `→\\t\\\\t` but EDIT needs actual `\\\\t`\\n- Always use `ai_mode=true` (default) to auto-fix this\\n\\n**Recovery Steps**:\\n1. View file with more context\\n2. Use `offset` if target outside current window\\n3. Use `grep -n \\\"pattern\\\" file` to find line numbers\\n4. Fallback: Use `write` tool for full file replacement\\n\\n## Tools\\n\\n### Available Tools\\n- `view`: Read files with line numbers (100 lines at a time - use offset!)\\n- `edit`: Replace text exactly (whitespace-sensitive, ai_mode=true by default)\\n- `bash`: Execute commands\\n- `grep`: Search file contents\\n- `glob`: Find files by pattern\\n- `write`: Create/update entire files\\n\\n### When to use each\\n- **View**: Always first to understand file contents\\n- **Edit**: For precise, targeted changes\\n- **Write**: When exact matching fails or for large changes\\n- **Bash**: For command execution\\n- **Grep**: For finding text in files\\n- **Glob**: For finding files by name pattern\\n\\n### When something fails\\n- **File not found in view** → Use `offset=100`, `offset=200` to navigate\\n- **Edit fails** → View file again, copy exact text, use `write` as fallback\\n- **Command fails** → Read error, try alternative approach\\n- **Pattern not visible** → Use `grep` to find line numbers, then view with offset\\n\\n## Testing\\n- Run relevant tests after every change\\n- Fix failures immediately\\n- Never leave code in broken state\\n\\n## Decision Making\\n**Be proactive**: Don't just report problems, solve them.\\n**Autonomous decisions**: Search for answers, read patterns, make reasonable assumptions\\n**Only ask user if**: Truly ambiguous requirements, potential data loss, or actually blocked after trying alternatives\\n\\n## Error Handling\\n1. Read complete error message\\n2. Understand root cause\\n3. Try different approach (don't repeat same failure)\\n4. Search for similar working code\\n5. Make targeted fix\\n6. Test to verify\\n\\n## Project Specifics\\n\\n\\n\\n## Environment\\nDate/Time: 2025-01-01 00:00:00 UTC\\nOS: linux (amd64)\\nCurrent User: agent\\nWorking Directory: /tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file\\n\\nGit Repo: no\\n\\nInstalled Runtimes:\\n- Python: Python 3.13.7\\n- Node.js: v25.2.1\\n- Go: go1.25.5\\n- Shell: bash (mvdan/sh)\\n\\nSystem Resources:\\n- Memory: 31Gi total, 23Gi available\\n- Disk: 16G total, 15G free\\n\\nTerminal: color, 80x24, interactive\\nNetwork: online\\nActive Services: \\n\\n## Nexora System Settings\\nNexora client system settings are stored in `~/.local/share/nexora`. This directory contains two important files:\\n\\n1. **`nexora.db`** - SQLite database containing session history, configuration settings, and conversation state\\n2. **`mcp.json`** - JSON configuration file for MCP (Model Context Protocol) settings and server configurations\\n\\nMCP-related files and configurations are stored in the `mcp.json` file, which defines available MCP servers and their connection parameters.\\n\\n\\n\\n\",\"role\":\"system\"},{\"content\":\"update the main.go file by changing the print to say hello from nexora\",\"role\":\"user\"},{\"tool_calls\":[{\"id\":\"call_RXqHhCvh9X2HqlGHFEbsuMdO\",\"function\":{\"arguments\":\"{\\\"path\\\": \\\"/tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file\\\", \\\"depth\\\": 2}\",\"name\":\"ls\"},\"type\":\"function\"}],\"role\":\"assistant\"},{\"content\":\"\\n- /tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/\\n  - go.mod\\n  - main.go\\n\",\"tool_call_id\":\"call_RXqHhCvh9X2HqlGHFEbsuMdO\",\"role\":\"tool\"},{\"tool_calls\":[{\"id\":\"call_QeTGogl9gZwYHMd6QV92K84W\",\"function\":{\"arguments\":\"{\\\"file_path\\\":\\\"/tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/main.go\\\"}\",\"name\":\"view\"},\"type\":\"function\"}],\"role\":\"assistant\"},{\"content\":\"<file>\\n     1|package main\\n     2|\\n     3|import \\\"fmt\\\"\\n     4|\\n     5|func main() {\\n     6|→\\tfmt.Println(\\\"Hello, World!\\\")\\n     7|}\\n     8|\\n</file>\\n\\n\\n\U0001F4C4 File: 0 KB — showing lines 1-8 of 8 total (default chunks: 100 lines)\",\"tool_call_id\":\"call_QeTGogl9gZwYHMd6QV92K84W\",\"role\":\"tool\"}],\"model\":\"gpt-5\",\"max_completion_tokens\":10000,\"stream_options\":{\"include_usage\":true},\"tool_choice\":\"auto\",\"tools\":[{\"function\":{\"name\":\"bash\",\"strict\":false,\"description\":\"Executes bash commands with automatic background conversion for long-running tasks.\\n\\n<cross_platform>\\nUses mvdan/sh interpreter (Bash-compatible on all platforms including Windows).\\nUse forward slashes for paths: \\\"ls C:/foo/bar\\\" not \\\"ls C:\\\\foo\\\\bar\\\".\\n</cross_platform>\\n\\n<execution_steps>\\n1. Directory Verification: Use LS tool to verify parent exists before creating files\\n2. Security Check: No restrictions - explain to user. Safe read-only commands execute without prompts\\n3. Command Execution: Execute with proper quoting, capture output\\n4. Auto-Background: Commands >1 minute automatically move to background, return shell ID\\n5. Output Processing: Truncate if exceeds 30000 characters\\n6. Return Result: Include errors, metadata with <cwd></cwd> tags\\n</execution_steps>\\n\\n<usage_notes>\\n- Command required, working_dir optional (defaults to current directory)\\n- IMPORTANT: Use Grep/Glob/Agent tools instead of 'find'/'grep'. Use View/LS instead of 'cat'/'head'/'tail'/'ls'\\n- Chain with ';' or '&&', avoid newlines except in quoted strings\\n- Each command runs in independent shell (no state persistence)\\n- Prefer absolute paths over 'cd'\\n</usage_notes>\\n\\n<background_execution>\\n- Set run_in_background=true for separate background shell\\n- Returns shell ID for management\\n- Use job_output tool to view output, job_kill to terminate\\n- NEVER use `&` at end of commands - use run_in_background parameter\\n- Background: Long servers (npm start, python -m http.server), watch tasks, continuous processes\\n- Foreground: Builds, tests, git ops, file ops, short scripts\\n</background_execution>\\n\\n<git_commits>\\nWhen user asks to create git commit:\\n\\n1. Run: git status, git diff, git log (single message, three tool_use blocks)\\n2. Add relevant untracked files to staging\\n3. Analyze in <commit_analysis> tags:\\n   - List changed files, summarize nature (feature/bug fix/refactor/docs)\\n   - Draft concise (1-2 sentences) focusing on \\\"why\\\" not \\\"what\\\"\\n   - Use accurate verbs: \\\"add\\\"=new feature, \\\"update\\\"=enhancement, \\\"fix\\\"=bug\\n4. Create commit with attribution:\\n   ```bash\\n   git commit -m \\\"$(cat &lt;&lt;'EOF'\\n   Commit message here.\\n\\n   \U0001F498 Generated with Crush\\n\\n\\n   Co-Authored-By: Crush <crush@charm.land>\\n\\n   EOF\\n   )\\\"\\n   ```\\n5. If pre-commit hook fails, retry ONCE. If succeeds but files modified, MUST amend.\\n6. Run git status to verify.\\n\\nNotes: Use \\\"git commit -am\\\" when possible, don't stage unrelated files, NEVER update config, don't push, no empty commits.\\n</git_commits>\\n\\n<pull_requests>\\nWhen user asks to create PR:\\n\\n1. Run: git status, git diff, check remote tracking, git log and 'git diff main...HEAD'\\n2. Create branch if needed, commit if needed, push with -u if needed\\n3. Analyze in <pr_analysis> tags:\\n   - List commits since main divergence\\n   - Summarize changes, purpose/motivation\\n   - Draft concise (1-2 bullets) focusing on \\\"why\\\"\\n4. Create PR:\\n   ```bash\\n   gh pr create --title \\\"title\\\" --body \\\"$(cat &lt;&lt;'EOF'\\n   ## Summary\\n   &lt;1-3 bullet points>\\n   \\n   ## Test plan\\n   [Checklist...]\\n\\n   \U0001F498 Generated with Crush\\n\\n   EOF\\n   )\\\"\\n   ```\\n\\nImportant: Return empty response, never update git config\\n</pull_requests>\\n\\n<examples>\\nGood: pytest /foo/bar/tests\\nBad: cd /foo/bar && pytest tests\\n</examples>\\n\",\"parameters\":{\"properties\":{\"command\":{\"description\":\"The command to execute\",\"type\":\"string\"},\"description\":{\"description\":\"A brief description of what the command does, try to keep it under 30 characters or so\",\"type\":\"string\"},\"run_in_background\":{\"description\":\"Set to true (boolean) to run this command in the background. Use job_output to read the output later.\",\"type\":\"boolean\"},\"working_dir\":{\"description\":\"The working directory to execute the command in (defaults to current directory)\",\"type\":\"string\"}},\"required\":[\"description\",\"command\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"download\",\"strict\":false,\"description\":\"Downloads binary data from URL and saves to local file.\\n\\n<usage>\\n- Provide URL to download from\\n- Specify local file path where content should be saved\\n- Optional timeout for request\\n</usage>\\n\\n<features>\\n- Downloads any file type (binary or text)\\n- Auto-creates parent directories if missing\\n- Handles large files efficiently with streaming\\n- Sets reasonable timeouts to prevent hanging\\n- Validates input parameters before requests\\n</features>\\n\\n<limitations>\\n- Max file size: 100MB\\n- Only supports HTTP and HTTPS protocols\\n- Cannot handle authentication or cookies\\n- Some websites may block automated requests\\n- Will overwrite existing files without warning\\n</limitations>\\n\\n<tips>\\n- Use absolute paths or paths relative to working directory\\n- Set appropriate timeouts for large files or slow connections\\n</tips>\\n\",\"parameters\":{\"properties\":{\"file_path\":{\"description\":\"The local file path where the downloaded content should be saved\",\"type\":\"string\"},\"timeout\":{\"description\":\"Optional timeout in seconds (max 600)\",\"type\":\"integer\"},\"url\":{\"description\":\"The URL to download from\",\"type\":\"string\"}},\"required\":[\"url\",\"file_path\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"edit\",\"strict\":false,\"description\":\"Edits files by replacing text, creating new files, or deleting content. For moving/renaming use Bash 'mv'. For large edits use Write tool.\\n\\n**Quick Decision Tree:**\\n1. **Know exact line numbers?** → Use `smart_edit` tool (100% reliable)\\n2. **Edit failed once?** → Use `write` tool immediately\\n3. **First time editing?** → Enable ai_mode=true\\n\\n<prerequisites>\\n1. **NEVER copy from view tool output** - has visual tab indicators (→\\t) causing failures\\n2. Use `sed -n 'START,ENDp' file` or `grep -A5 -B5 pattern file` for EXACT text\\n3. For new files: Use LS tool to verify parent directory exists\\n4. If you can't extract exact text, use `smart_edit` with line numbers\\n</prerequisites>\\n\\n<parameters>\\n1. file_path: Absolute path to file (required)\\n2. old_string: Text to replace (exact match including whitespace/indentation)\\n3. new_string: Replacement text\\n4. replace_all: Replace all occurrences (default false)\\n</parameters>\\n\\n<special_cases>\\n- Create file: provide file_path + new_string, leave old_string empty\\n- Delete content: provide file_path + old_string, leave new_string empty\\n</special_cases>\\n\\n<critical_requirements>\\n**EXACT MATCHING**: Text must match character-for-character\\n- Every space, tab, blank line, newline, indentation level\\n- Comment spacing (`// comment` vs `//comment`)\\n- Brace positioning (`func() {` vs `func(){`)\\n\\n**UNIQUENESS**: old_string MUST uniquely identify target (when replace_all=false)\\n- Include 3-5 lines context before/after change point\\n- If text appears multiple times, add more context or use replace_all=true\\n\\n**VERIFICATION BEFORE USING**:\\n1. View file and locate exact target\\n2. Check how many instances exist\\n3. Copy EXACT text including whitespace\\n4. Verify enough context for unique identification\\n5. Double-check indentation (count spaces/tabs)\\n</critical_requirements>\\n\\n<warnings>\\nTool fails if:\\n- old_string matches multiple locations and replace_all=false\\n- Whitespace doesn't match exactly\\n- Indentation off by even one space\\n- Missing or extra blank lines\\n</warnings>\\n\\n<recovery_steps>\\nIf \\\"old_string not found\\\":\\n\\n**\U0001F6D1 DON'T RETRY - Use alternatives:**\\n1. `smart_edit` with line numbers (100% reliable)\\n2. Extract exact text: `sed -n '10,20p' file`\\n3. Use `write` tool for full file replacement\\n\\n**❌ DON'T:**\\n- Retry with \\\"adjusted\\\" whitespace\\n- Copy from view output (has artifacts)\\n- Guess at whitespace\\n\\n**✅ DO:**\\n- Use `smart_edit` (line numbers)\\n- Use `sed -n 'X,Yp' file` for exact text\\n- Use `write` if edit fails once\\n</recovery_steps>\\n\\n<best_practices>\\n- View file first, match exact formatting\\n- Use absolute paths with forward slashes (/)\\n- Multiple edits to same file: send all in single message\\n- Include MORE context when uncertain\\n- Match existing code style exactly\\n</best_practices>\\n\\n<examples>\\n✅ **Correct**: Exact match with context\\n```\\nold_string: \\\"func ProcessData(input string) error {\\\\n    if input == \\\\\\\"\\\\\\\" {\\\\n        return errors.New(\\\\\\\"empty input\\\\\\\")\\\\n    }\\\\n    return nil\\\\n}\\\"\\nnew_string: \\\"func ProcessData(input string) error {\\\\n    if input == \\\\\\\"\\\\\\\" {\\\\n        return errors.New(\\\\\\\"empty input\\\\\\\")\\\\n    }\\\\n    if len(input) > 1000 {\\\\n        return errors.New(\\\\\\\"input too long\\\\\\\")\\\\n    }\\\\n    return nil\\\\n}\\\"\\n```\\n\\n❌ **Incorrect**: Not enough context\\n```\\nold_string: \\\"return nil\\\"  // Appears many times!\\n```\\n\\n❌ **Incorrect**: Wrong indentation\\n```\\nold_string: \\\"  if input == \\\\\\\"\\\\\\\" {\\\"  // 2 spaces\\n// File actually has: \\\"    if input == \\\\\\\"\\\\\\\" {\\\"  // 4 spaces\\n```\\n</examples>\\n\\n## AI Mode\\nUse `ai_mode=true` (default) for automatic fixes:\\n- Converts VIEW tool display tabs (`→\\\\t`) to real tabs (`\\\\t`)\\n- Expands minimal context automatically\\n- Enhanced error messages\\n- Lower failure rate on whitespace issues\\n\",\"parameters\":{\"properties\":{\"ai_mode\":{\"description\":\"Enable AI-optimized editing with automatic context expansion and improved error handling (DEFAULT: true)\",\"type\":\"boolean\"},\"file_path\":{\"description\":\"The absolute path to the file to modify\",\"type\":\"string\"},\"new_string\":{\"description\":\"The text to replace it with\",\"type\":\"string\"},\"old_string\":{\"description\":\"The text to replace\",\"type\":\"string\"},\"replace_all\":{\"description\":\"Replace all occurrences of old_string (default false)\",\"type\":\"boolean\"}},\"required\":[\"file_path\",\"old_string\",\"new_string\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"multiedit\",\"strict\":false,\"description\":\"Makes multiple edits to a single file in one operation. Built on Edit tool for efficient multiple find-and-replace. Prefer over Edit tool for multiple edits to same file.\\n\\n<prerequisites>\\n1. Use View tool to understand file contents\\n2. Verify directory path is correct\\n3. CRITICAL: Note exact whitespace, indentation from View output\\n</prerequisites>\\n\\n<parameters>\\n1. file_path: Absolute path to file (required)\\n2. edits: Array of edit objects (MUST be array, not string!):\\n   - old_string: Text to replace (exact match including whitespace)\\n   - new_string: Replacement text\\n   - replace_all: Replace all occurrences (optional, default false)\\n   \\n   ✅ CORRECT: `\\\"edits\\\": [{\\\"old_string\\\": \\\"text1\\\", \\\"new_string\\\": \\\"replace1\\\"}]`\\n   ❌ INCORRECT: `\\\"edits\\\": \\\"[{\\\\\\\"old_string\\\\\\\": \\\\\\\"text1\\\\\\\"}]\\\"` (string, not array)\\n</parameters>\\n\\n<operation>\\n- Edits applied sequentially in order\\n- Each edit operates on result of previous edit\\n- PARTIAL SUCCESS: Failed edits returned, successful edits kept\\n- File modified if at least one edit succeeds\\n</operation>\\n\\n<inherited_rules>\\n**All Edit tool rules apply to each edit:**\\n- See edit.md for critical requirements, warnings, recovery steps\\n- Exact matching for whitespace, indentation, blank lines\\n- Uniqueness requirements (3-5 lines context)\\n- Verification checklist before using\\n- Use ai_mode=true (default) for tab handling\\n</inherited_rules>\\n\\n<critical_requirements>\\n1. Apply Edit tool rules to EACH edit (see edit.md)\\n2. Edits applied in order; successful edits kept if later edits fail\\n3. Plan sequence: earlier edits change content that later edits must match\\n4. Ensure each old_string unique at application time (after prior edits)\\n5. Check response for failed edits, retry with corrections\\n</critical_requirements>\\n\\n<verification_before_using>\\n1. View file, copy exact text (including whitespace) for each target\\n2. Check instances of each old_string BEFORE sequence\\n3. Dry-run: after edit #N, will edit #N+1 still match?\\n4. Prefer fewer, larger context blocks over many tiny fragments\\n5. If edits independent, consider separate multiedit batches\\n</verification_before_using>\\n\\n<warnings>\\n- Check response for failed edits\\n- Earlier edits invalidate later matches (added/removed spaces, lines)\\n- Mixed tabs/spaces, trailing spaces cause failures\\n- replace_all may affect unintended regions\\n</warnings>\\n\\n<recovery_steps>\\nIf edits fail:\\n1. Check response metadata for failed edits with errors\\n2. View file to see current state after successful edits\\n3. Adjust failed edits based on new content\\n4. Retry with corrected old_string values\\n5. Break complex batches into smaller operations\\n</recovery_steps>\\n\\n<best_practices>\\n- Result in correct, idiomatic code\\n- Use absolute file paths (/)\\n- Use replace_all only when certain\\n- Match existing style exactly\\n- Review failed edits, retry with corrections\\n</best_practices>\\n\\n<examples>\\n✅ **Correct**: Sequential edits accounting for changes\\n```\\nedits: [\\n  {\\n    old_string: \\\"func A() {\\\\n    doOld()\\\\n}\\\",\\n    new_string: \\\"func A() {\\\\n    doNew()\\\\n}\\\",\\n  },\\n  {\\n    // Context exists AFTER first replacement\\n    old_string: \\\"func B() {\\\\n    callA()\\\\n}\\\",\\n    new_string: \\\"func B() {\\\\n    callA()\\\\n    logChange()\\\\n}\\\",\\n  },\\n]\\n```\\n\\n❌ **Incorrect**: Second old_string no longer matches\\n```\\nedits: [\\n  {\\n    old_string: \\\"func A() {\\\\n    doOld()\\\\n}\\\",\\n    new_string: \\\"func A() {\\\\n\\\\n    doNew()\\\\n}\\\", // Added blank line\\n  },\\n  {\\n    old_string: \\\"func A() {\\\\n    doNew()\\\\n}\\\", // Missing blank line - FAILS\\n    new_string: \\\"func A() {\\\\n    doNew()\\\\n    logChange()\\\\n}\\\",\\n  },\\n]\\n```\\n</examples>\\n\",\"parameters\":{\"properties\":{\"edits\":{\"description\":\"Array of edit operations to perform sequentially on the file\",\"items\":{\"properties\":{\"new_string\":{\"description\":\"The text to replace it with\",\"type\":\"string\"},\"old_string\":{\"description\":\"The text to replace\",\"type\":\"string\"},\"replace_all\":{\"description\":\"Replace all occurrences of old_string (default false).\",\"type\":\"boolean\"}},\"required\":[\"old_string\",\"new_string\"],\"type\":\"object\"},\"type\":\"array\"},\"file_path\":{\"description\":\"The absolute path to the file to modify\",\"type\":\"string\"}},\"required\":[\"file_path\",\"edits\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"fetch\",\"strict\":false,\"description\":\"Fetches raw content from URL and returns it in specified format without any AI processing.\\n\\n<when_to_use>\\nUse this tool when you need:\\n- Raw, unprocessed content from a URL\\n- Direct access to API responses or JSON data\\n- HTML/text/markdown content without interpretation\\n- Simple, fast content retrieval without analysis\\n- To save tokens by avoiding AI processing\\n\\nDO NOT use this tool when you need to:\\n- Extract specific information from a webpage (use agentic_fetch instead)\\n- Answer questions about web content (use agentic_fetch instead)\\n- Analyze or summarize web pages (use agentic_fetch instead)\\n</when_to_use>\\n\\n<usage>\\n- Provide URL to fetch content from\\n- Specify desired output format (text, markdown, or html)\\n- Optional timeout for request\\n</usage>\\n\\n<features>\\n- Supports three output formats: text, markdown, html\\n- Auto-handles HTTP redirects\\n- Fast and lightweight - no AI processing\\n- Sets reasonable timeouts to prevent hanging\\n- Validates input parameters before requests\\n</features>\\n\\n<limitations>\\n- Max response size: 5MB\\n- Only supports HTTP and HTTPS protocols\\n- Cannot handle authentication or cookies\\n- Some websites may block automated requests\\n- Returns raw content only - no analysis or extraction\\n</limitations>\\n\\n<tips>\\n- Use text format for plain text content or simple API responses\\n- Use markdown format for content that should be rendered with formatting\\n- Use html format when you need raw HTML structure\\n- Set appropriate timeouts for potentially slow websites\\n- If the user asks to analyze or extract from a page, use agentic_fetch instead\\n</tips>\\n\",\"parameters\":{\"properties\":{\"format\":{\"description\":\"The format to return the content in (text, markdown, or html)\",\"type\":\"string\"},\"timeout\":{\"description\":\"Optional timeout in seconds (max 120)\",\"type\":\"integer\"},\"url\":{\"description\":\"The URL to fetch content from\",\"type\":\"string\"}},\"required\":[\"url\",\"format\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"glob\",\"strict\":false,\"description\":\"Fast file pattern matching tool that finds files by name/pattern, returning paths sorted by modification time (newest first).\\n\\n<usage>\\n- Provide glob pattern to match against file paths\\n- Optional starting directory (defaults to current working directory)\\n- Results sorted with most recently modified files first\\n</usage>\\n\\n<pattern_syntax>\\n- '\\\\*' matches any sequence of non-separator characters\\n- '\\\\*\\\\*' matches any sequence including separators\\n- '?' matches any single non-separator character\\n- '[...]' matches any character in brackets\\n- '[!...]' matches any character not in brackets\\n</pattern_syntax>\\n\\n<examples>\\n- '*.js' - JavaScript files in current directory\\n- '**/*.js' - JavaScript files in any subdirectory\\n- 'src/**/*.{ts,tsx}' - TypeScript files in src directory\\n- '*.{html,css,js}' - HTML, CSS, and JS files\\n</examples>\\n\\n<limitations>\\n- Results limited to 100 files (newest first)\\n- Does not search file contents (use Grep for that)\\n- Hidden files (starting with '.') skipped\\n</limitations>\\n\\n<cross_platform>\\n- Path separators handled automatically (/ and \\\\ work)\\n- Uses ripgrep (rg) if available, otherwise Go implementation\\n- Patterns should use forward slashes (/) for compatibility\\n</cross_platform>\\n\\n<tips>\\n- Combine with Grep: find files with Glob, search contents with Grep\\n- For iterative exploration requiring multiple searches, consider Agent tool\\n- Check if results truncated and refine pattern if needed\\n</tips>\\n\",\"parameters\":{\"properties\":{\"path\":{\"description\":\"The directory to search in. Defaults to the current working directory.\",\"type\":\"string\"},\"pattern\":{\"description\":\"The glob pattern to match files against\",\"type\":\"string\"}},\"required\":[\"pattern\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"grep\",\"strict\":false,\"description\":\"Fast content search tool that finds files containing specific text/patterns, returning matching paths sorted by modification time (newest first).\\n\\n<usage>\\n- Provide regex pattern to search within file contents\\n- Set literal_text=true for exact text with special characters (recommended for non-regex users)\\n- Optional starting directory (defaults to current working directory)\\n- Optional include pattern to filter which files to search\\n- Results sorted with most recently modified files first\\n</usage>\\n\\n<regex_syntax>\\nWhen literal_text=false (supports standard regex):\\n\\n- 'function' searches for literal text \\\"function\\\"\\n- 'log\\\\..\\\\*Error' finds text starting with \\\"log.\\\" and ending with \\\"Error\\\"\\n- 'import\\\\s+.\\\\*\\\\s+from' finds import statements in JavaScript/TypeScript\\n</regex_syntax>\\n\\n<include_patterns>\\n- '\\\\*.js' - Only search JavaScript files\\n- '\\\\*.{ts,tsx}' - Only search TypeScript files\\n- '\\\\*.go' - Only search Go files\\n</include_patterns>\\n\\n<limitations>\\n- Results limited to 100 files (newest first)\\n- Performance depends on number of files searched\\n- Very large binary files may be skipped\\n- Hidden files (starting with '.') skipped\\n</limitations>\\n\\n<ignore_support>\\n- Respects .gitignore patterns to skip ignored files/directories\\n- Respects .nexoraignore patterns for additional ignore rules\\n- Both ignore files auto-detected in search root directory\\n</ignore_support>\\n\\n<cross_platform>\\n- Uses ripgrep (rg) if available for better performance\\n- Falls back to Go implementation if ripgrep unavailable\\n- File paths normalized automatically for compatibility\\n</cross_platform>\\n\\n<tips>\\n- For faster searches: use Glob to find relevant files first, then Grep\\n- For iterative exploration requiring multiple searches, consider Agent tool\\n- Check if results truncated and refine search pattern if needed\\n- Use literal_text=true for exact text with special characters (dots, parentheses, etc.)\\n</tips>\\n\",\"parameters\":{\"properties\":{\"include\":{\"description\":\"File pattern to include in the search (e.g. \\\"*.js\\\", \\\"*.{ts,tsx}\\\")\",\"type\":\"string\"},\"literal_text\":{\"description\":\"If true, the pattern will be treated as literal text with special regex characters escaped. Default is false.\",\"type\":\"boolean\"},\"path\":{\"description\":\"The directory to search in. Defaults to the current working directory.\",\"type\":\"string\"},\"pattern\":{\"description\":\"The regex pattern to search for in file contents\",\"type\":\"string\"}},\"required\":[\"pattern\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"ls\",\"strict\":false,\"description\":\"Shows files and subdirectories in tree structure for exploring project organization.\\n\\n<usage>\\n- Provide path to list (defaults to current working directory)\\n- Optional glob patterns to ignore\\n- Results displayed in tree structure\\n</usage>\\n\\n<features>\\n- Hierarchical view of files and directories\\n- Auto-skips hidden files/directories (starting with '.')\\n- Skips common system directories like __pycache__\\n- Can filter files matching specific patterns\\n</features>\\n\\n<limitations>\\n- Results limited to 1000 files\\n- Large directories truncated\\n- No file sizes or permissions shown\\n- Cannot recursively list all directories in large projects\\n</limitations>\\n\\n<cross_platform>\\n- Hidden file detection uses Unix convention (files starting with '.')\\n- Windows hidden files (with hidden attribute) not auto-skipped\\n- Common Windows directories (System32, Program Files) not in default ignore\\n- Path separators handled automatically (/ and \\\\ work)\\n</cross_platform>\\n\\n<tips>\\n- Use Glob for finding files by name patterns instead of browsing\\n- Use Grep for searching file contents\\n- Combine with other tools for effective exploration\\n</tips>\\n\",\"parameters\":{\"properties\":{\"depth\":{\"description\":\"The maximum depth to traverse\",\"type\":\"integer\"},\"ignore\":{\"description\":\"List of glob patterns to ignore\",\"items\":{\"type\":\"string\"},\"type\":\"array\"},\"path\":{\"description\":\"The path to the directory to list (defaults to current working directory)\",\"type\":\"string\"}},\"required\":[],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"sourcegraph\",\"strict\":false,\"description\":\"Search code across public repositories using Sourcegraph's GraphQL API.\\n\\n<usage>\\n- Provide search query using Sourcegraph syntax\\n- Optional result count (default: 10, max: 20)\\n- Optional timeout for request\\n</usage>\\n\\n<basic_syntax>\\n- \\\"fmt.Println\\\" - exact matches\\n- \\\"file:.go fmt.Println\\\" - limit to Go files\\n- \\\"repo:^github\\\\.com/golang/go$ fmt.Println\\\" - specific repos\\n- \\\"lang:go fmt.Println\\\" - limit to Go code\\n- \\\"fmt.Println AND log.Fatal\\\" - combined terms\\n- \\\"fmt\\\\.(Print|Printf|Println)\\\" - regex patterns\\n- \\\"\\\\\\\"exact phrase\\\\\\\"\\\" - exact phrase matching\\n- \\\"-file:test\\\" or \\\"-repo:forks\\\" - exclude matches\\n</basic_syntax>\\n\\n<key_filters>\\nRepository: repo:name, repo:^exact$, repo:org/repo@branch, -repo:exclude, fork:yes, archived:yes, visibility:public\\nFile: file:\\\\.js$, file:internal/, -file:test, file:has.content(text)\\nContent: content:\\\"exact\\\", -content:\\\"unwanted\\\", case:yes\\nType: type:symbol, type:file, type:path, type:diff, type:commit\\nTime: after:\\\"1 month ago\\\", before:\\\"2023-01-01\\\", author:name, message:\\\"fix\\\"\\nResult: select:repo, select:file, select:content, count:100, timeout:30s\\n</key_filters>\\n\\n<examples>\\n- \\\"file:.go context.WithTimeout\\\" - Go code using context.WithTimeout\\n- \\\"lang:typescript useState type:symbol\\\" - TypeScript React useState hooks\\n- \\\"repo:^github\\\\.com/kubernetes/kubernetes$ pod list type:file\\\" - Kubernetes pod files\\n- \\\"file:Dockerfile (alpine OR ubuntu) -content:alpine:latest\\\" - Dockerfiles with base images\\n</examples>\\n\\n<boolean_operators>\\n- \\\"term1 AND term2\\\" - both terms\\n- \\\"term1 OR term2\\\" - either term\\n- \\\"term1 NOT term2\\\" - term1 but not term2\\n- \\\"term1 and (term2 or term3)\\\" - grouping with parentheses\\n</boolean_operators>\\n\\n<limitations>\\n- Only searches public repositories\\n- Rate limits may apply\\n- Complex queries take longer\\n- Max 20 results per query\\n</limitations>\\n\\n<tips>\\n- Use specific file extensions to narrow results\\n- Add repo: filters for targeted searches\\n- Use type:symbol for function/method definitions\\n- Use type:file to find relevant files\\n</tips>\\n\",\"parameters\":{\"properties\":{\"context_window\":{\"description\":\"The context around the match to return (default: 10 lines)\",\"type\":\"integer\"},\"count\":{\"description\":\"Optional number of results to return (default: 10, max: 20)\",\"type\":\"integer\"},\"query\":{\"description\":\"The Sourcegraph search query\",\"type\":\"string\"},\"timeout\":{\"description\":\"Optional timeout in seconds (max 120)\",\"type\":\"integer\"}},\"required\":[\"query\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"view\",\"strict\":false,\"description\":\"Reads and displays file contents with line numbers for examining code, logs, or text data.\\n\\n<usage>\\n- Provide file path to read\\n- Optional offset: start reading from specific line (0-based)\\n- Optional limit: control lines read (default 100)\\n- Don't use for directories (use LS tool instead)\\n- Supports image files (PNG, JPEG, GIF, BMP, SVG, WebP)\\n</usage>\\n\\n<features>\\n- Displays contents with line numbers\\n- Can read from any file position using offset\\n- Handles large files by limiting lines read\\n- Auto-truncates very long lines for display\\n- Suggests similar filenames when file not found\\n- Renders image files directly in terminal\\n</features>\\n\\n<limitations>\\n- Max file size: 5MB\\n- Default limit: 100 lines (reduced to prevent context window issues)\\n- Lines >2000 chars truncated\\n- Binary files (except images) cannot be displayed\\n</limitations>\\n\\n<cross_platform>\\n- Handles Windows (CRLF) and Unix (LF) line endings\\n- Works with forward slashes (/) and backslashes (\\\\)\\n- Auto-detects text encoding for common formats\\n</cross_platform>\\n\\n<tips>\\n- Use with Glob to find files first\\n- For code exploration: Grep to find relevant files, then View to examine\\n- For large files: use offset and limit parameters for specific sections\\n- The tool uses smaller chunks (100 lines default) to manage context window efficiently\\n- For very large files, consider using 'head' or 'tail' commands via bash tool\\n- View tool automatically detects and renders image files\\n</tips>\\n\",\"parameters\":{\"properties\":{\"file_path\":{\"description\":\"The path to the file to read\",\"type\":\"string\"},\"limit\":{\"description\":\"The number of lines to read (defaults to 2000)\",\"type\":\"integer\"},\"offset\":{\"description\":\"The line number to start reading from (0-based)\",\"type\":\"integer\"}},\"required\":[\"file_path\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"write\",\"strict\":false,\"description\":\"Creates or updates files in filesystem for saving/modifying text content.\\n\\n<usage>\\n- Provide file path to write\\n- Include content to write to file\\n- Tool creates necessary parent directories automatically\\n</usage>\\n\\n<features>\\n- Creates new files or overwrites existing ones\\n- Auto-creates parent directories if missing\\n- Checks if file modified since last read for safety\\n- Avoids unnecessary writes when content unchanged\\n</features>\\n\\n<limitations>\\n- Read file before writing to avoid conflicts\\n- Cannot append (rewrites entire file)\\n</limitations>\\n\\n<cross_platform>\\n- Use forward slashes (/) for compatibility\\n</cross_platform>\\n\\n<tips>\\n- Use View tool first to examine existing files before modifying\\n- Use LS tool to verify location when creating new files\\n- Combine with Glob/Grep to find and modify multiple files\\n- Include descriptive comments when changing existing code\\n</tips>\\n\",\"parameters\":{\"properties\":{\"content\":{\"description\":\"The content to write to the file\",\"type\":\"string\"},\"file_path\":{\"description\":\"The path to the file to write\",\"type\":\"string\"}},\"required\":[\"file_path\",\"content\"],\"type\":\"object\"}},\"type\":\"function\"}],\"stream\":true}"
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - OpenAI/Go 2.7.1
    url: https://api.openai.com/v1/chat/completions
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: -1
    body: |+
      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_XNTbs69OfCxAWerklmAIEaVi","type":"function","function":{"name":"edit","arguments":""}}],"refusal":null},"finish_reason":null}],"usage":null,"obfuscation":"ULpgSt3X1zN9"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"{\""}}]},"finish_reason":null}],"usage":null,"obfuscation":"czhvtbSPecoDJlv"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"file"}}]},"finish_reason":null}],"usage":null,"obfuscation":"cAESGhWzMzKdcq"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"_path"}}]},"finish_reason":null}],"usage":null,"obfuscation":"mTxb6TLBkmcsz"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\":"}}]},"finish_reason":null}],"usage":null,"obfuscation":"Mo46ZEsYvcAr9EY"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\"/"}}]},"finish_reason":null}],"usage":null,"obfuscation":"UV3AeZtYW6Ph5Se"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"tmp"}}]},"finish_reason":null}],"usage":null,"obfuscation":"WnJVyM7wRgJsPr8"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/n"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"ex"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"ora"}}]},"finish_reason":null}],"usage":null,"obfuscation":"9cI4PHXEr3ivVCh"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"-test"}}]},"finish_reason":null}],"usage":null,"obfuscation":"VML5uojRaLaKI"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/Test"}}]},"finish_reason":null}],"usage":null,"obfuscation":"MNzdPcBpkCDpy"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"Coder"}}]},"finish_reason":null}],"usage":null,"obfuscation":"0nDF7IkzJ0iCd"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"Agent"}}]},"finish_reason":null}],"usage":null,"obfuscation":"VcaTreHkDo8No"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/open"}}]},"finish_reason":null}],"usage":null,"obfuscation":"TzBNLBnfilcT9"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"ai"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"-g"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"pt"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"-"}}]},"finish_reason":null}],"usage":null,"obfuscation":"R"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"5"}}]},"finish_reason":null}],"usage":null,"obfuscation":"l"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/update"}}]},"finish_reason":null}],"usage":null,"obfuscation":"iarpRyIEeka"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"_a"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"_file"}}]},"finish_reason":null}],"usage":null,"obfuscation":"W389XytxplKWz"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/main"}}]},"finish_reason":null}],"usage":null,"obfuscation":"qfXAuqaaxFj01"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":".go"}}]},"finish_reason":null}],"usage":null,"obfuscation":"DGD9xfHgdQiSVCo"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\",\""}}]},"finish_reason":null}],"usage":null,"obfuscation":"65mq7vszKWYJh"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"old"}}]},"finish_reason":null}],"usage":null,"obfuscation":"WLxQVLkGNAvrL8i"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"_string"}}]},"finish_reason":null}],"usage":null,"obfuscation":"QApyHRHUYcZ"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\":\""}}]},"finish_reason":null}],"usage":null,"obfuscation":"cLAVvRLnULIZm"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"Hello"}}]},"finish_reason":null}],"usage":null,"obfuscation":"BilyQWcRQmnOV"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":","}}]},"finish_reason":null}],"usage":null,"obfuscation":"Q"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":" World"}}]},"finish_reason":null}],"usage":null,"obfuscation":"pGVYKFyAVNQ2"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"!"}}]},"finish_reason":null}],"usage":null,"obfuscation":"t"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\",\""}}]},"finish_reason":null}],"usage":null,"obfuscation":"1T499jkTRJase"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"new"}}]},"finish_reason":null}],"usage":null,"obfuscation":"eI3eK7WdyrIIqC0"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"_string"}}]},"finish_reason":null}],"usage":null,"obfuscation":"U2S2W3MgszD"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\":\""}}]},"finish_reason":null}],"usage":null,"obfuscation":"J0i6msxDcRA4r"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"hello"}}]},"finish_reason":null}],"usage":null,"obfuscation":"CPTeMxko0eRff"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":" from"}}]},"finish_reason":null}],"usage":null,"obfuscation":"vuk1xrm7BcrNA"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":" nex"}}]},"finish_reason":null}],"usage":null,"obfuscation":"1lp1RVGbayQVKq"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"ora"}}]},"finish_reason":null}],"usage":null,"obfuscation":"9YDLxFkVPfydFD0"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\",\""}}]},"finish_reason":null}],"usage":null,"obfuscation":"JTJSQ8cgy0xOv"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"ai"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"_mode"}}]},"finish_reason":null}],"usage":null,"obfuscation":"1MV9hk0IMMlwo"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\":"}}]},"finish_reason":null}],"usage":null,"obfuscation":"MqQ0kkbpQdvcOCp"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"true"}}]},"finish_reason":null}],"usage":null,"obfuscation":"iekIvM1fgiV2YA"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"}"}}]},"finish_reason":null}],"usage":null,"obfuscation":"b"}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{},"finish_reason":"tool_calls"}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6Y4l9G2WBAjwSquRpY074Mpf0X9","object":"chat.completion.chunk","created":1766772592,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[],"usage":{"prompt_tokens":7847,"completion_tokens":1343,"total_tokens":9190,"prompt_tokens_details":{"cached_tokens":7680,"audio_tokens":0},"completion_tokens_details":{"reasoning_tokens":1280,"audio_tokens":0,"accepted_prediction_tokens":0,"rejected_prediction_tokens":0}},"obfuscation":"pFgkN6jxZu1aICW"}

      data: [DONE]

    headers:
      Content-Type:
      - text/event-stream; charset=utf-8
    status: 200 OK
    code: 200
    duration: 14.557426122s
- id: 4
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 35077
    host: ""
    body: "{\"messages\":[{\"content\":\"## CRITICAL: TOOL CALL FORMAT (READ THIS FIRST)\\n**ALWAYS use EXACT OpenAI JSON format for tools. NEVER use &lt;tool_call&gt; tags:**\\n\\n```\\n{\\n  \\\"tool_calls\\\": [{\\n    \\\"id\\\": \\\"call_abc123\\\",\\n    \\\"type\\\": \\\"function\\\",\\n    \\\"function\\\": {\\n      \\\"name\\\": \\\"view\\\",\\n      \\\"arguments\\\": \\\"{\\\\\\\"file_path\\\\\\\":\\\\\\\"/home/nexora/todo.md\\\\\\\"}\\\"\\n    }\\n  }]\\n}\\n```\\n\\n**Penalty for wrong format: Your response will be ignored!**\\n\\n## Core Rules\\n1. **Read before editing** - Always view files first, match exact formatting\\n2. **Be autonomous** - Search, decide, act without asking. Break complex tasks into steps.\\n3. **Infer intent** - Don't be literal. If a file isn't found, search for similar names (case variations, typos). If a task seems incomplete, complete it fully.\\n4. **Test changes** - Run tests immediately after modifications\\n5. **Be concise** - Keep responses under 4 lines unless explaining complex changes\\n6. **Exact matches** - Whitespace, indentation, line breaks must match perfectly for edits\\n7. **Never commit** - Unless explicitly asked\\n8. **Security first** - Only assist with defensive security tasks\\n\\n## Inference Examples\\n- User says \\\"read TODO.md\\\" but it doesn't exist → Search for `todo.md`, `TODO`, `Todo.md`\\n- User says \\\"fix the bug\\\" → Search for error patterns, recent changes, test failures\\n- User says \\\"add tests\\\" → Look at existing test patterns, create comprehensive tests\\n- File not found → Try case variations, partial matches, ask glob/grep to find it\\n\\n## Workflow\\n**Before acting**: Search → Read files → Identify changes → Edit → Test\\n**While acting**: Read entire file first, use exact text, include 3-5 lines context, test after each change\\n**Before finishing**: Verify task complete, run tests, keep response concise\\n\\n## Editing Files\\n**Critical Requirements**:\\n- Exact character-by-character matching\\n- Include 3-5 surrounding lines for reliable context\\n- Verify uniqueness (or use replace_all=true)\\n\\n**Understanding the 100 Line Limitation**:\\n- `view` tool shows 100 lines at a time: \\\"showing lines 1-100 of 200 total\\\"\\n- Use `view` with `offset` parameter: `view file_path=\\\"/path\\\" offset=100`\\n- Your edits MUST exist in the file, not just in visible 100-line chunk\\n\\n**Common Failures**:\\n- Wrong indentation: 2 spaces vs 4 spaces\\n- Missing blank lines: 1 newline vs 2 newlines\\n- Comment spacing: \\\"// comment\\\" vs \\\"//comment\\\"\\n\\n**Tab/Display Issues**:\\n- VIEW shows tabs as `→\\t\\\\t` but EDIT needs actual `\\\\t`\\n- Always use `ai_mode=true` (default) to auto-fix this\\n\\n**Recovery Steps**:\\n1. View file with more context\\n2. Use `offset` if target outside current window\\n3. Use `grep -n \\\"pattern\\\" file` to find line numbers\\n4. Fallback: Use `write` tool for full file replacement\\n\\n## Tools\\n\\n### Available Tools\\n- `view`: Read files with line numbers (100 lines at a time - use offset!)\\n- `edit`: Replace text exactly (whitespace-sensitive, ai_mode=true by default)\\n- `bash`: Execute commands\\n- `grep`: Search file contents\\n- `glob`: Find files by pattern\\n- `write`: Create/update entire files\\n\\n### When to use each\\n- **View**: Always first to understand file contents\\n- **Edit**: For precise, targeted changes\\n- **Write**: When exact matching fails or for large changes\\n- **Bash**: For command execution\\n- **Grep**: For finding text in files\\n- **Glob**: For finding files by name pattern\\n\\n### When something fails\\n- **File not found in view** → Use `offset=100`, `offset=200` to navigate\\n- **Edit fails** → View file again, copy exact text, use `write` as fallback\\n- **Command fails** → Read error, try alternative approach\\n- **Pattern not visible** → Use `grep` to find line numbers, then view with offset\\n\\n## Testing\\n- Run relevant tests after every change\\n- Fix failures immediately\\n- Never leave code in broken state\\n\\n## Decision Making\\n**Be proactive**: Don't just report problems, solve them.\\n**Autonomous decisions**: Search for answers, read patterns, make reasonable assumptions\\n**Only ask user if**: Truly ambiguous requirements, potential data loss, or actually blocked after trying alternatives\\n\\n## Error Handling\\n1. Read complete error message\\n2. Understand root cause\\n3. Try different approach (don't repeat same failure)\\n4. Search for similar working code\\n5. Make targeted fix\\n6. Test to verify\\n\\n## Project Specifics\\n\\n\\n\\n## Environment\\nDate/Time: 2025-01-01 00:00:00 UTC\\nOS: linux (amd64)\\nCurrent User: agent\\nWorking Directory: /tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file\\n\\nGit Repo: no\\n\\nInstalled Runtimes:\\n- Python: Python 3.13.7\\n- Node.js: v25.2.1\\n- Go: go1.25.5\\n- Shell: bash (mvdan/sh)\\n\\nSystem Resources:\\n- Memory: 31Gi total, 23Gi available\\n- Disk: 16G total, 15G free\\n\\nTerminal: color, 80x24, interactive\\nNetwork: online\\nActive Services: \\n\\n## Nexora System Settings\\nNexora client system settings are stored in `~/.local/share/nexora`. This directory contains two important files:\\n\\n1. **`nexora.db`** - SQLite database containing session history, configuration settings, and conversation state\\n2. **`mcp.json`** - JSON configuration file for MCP (Model Context Protocol) settings and server configurations\\n\\nMCP-related files and configurations are stored in the `mcp.json` file, which defines available MCP servers and their connection parameters.\\n\\n\\n\\n\",\"role\":\"system\"},{\"content\":\"update the main.go file by changing the print to say hello from nexora\",\"role\":\"user\"},{\"tool_calls\":[{\"id\":\"call_RXqHhCvh9X2HqlGHFEbsuMdO\",\"function\":{\"arguments\":\"{\\\"path\\\": \\\"/tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file\\\", \\\"depth\\\": 2}\",\"name\":\"ls\"},\"type\":\"function\"}],\"role\":\"assistant\"},{\"content\":\"\\n- /tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/\\n  - go.mod\\n  - main.go\\n\",\"tool_call_id\":\"call_RXqHhCvh9X2HqlGHFEbsuMdO\",\"role\":\"tool\"},{\"tool_calls\":[{\"id\":\"call_QeTGogl9gZwYHMd6QV92K84W\",\"function\":{\"arguments\":\"{\\\"file_path\\\":\\\"/tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/main.go\\\"}\",\"name\":\"view\"},\"type\":\"function\"}],\"role\":\"assistant\"},{\"content\":\"<file>\\n     1|package main\\n     2|\\n     3|import \\\"fmt\\\"\\n     4|\\n     5|func main() {\\n     6|→\\tfmt.Println(\\\"Hello, World!\\\")\\n     7|}\\n     8|\\n</file>\\n\\n\\n\U0001F4C4 File: 0 KB — showing lines 1-8 of 8 total (default chunks: 100 lines)\",\"tool_call_id\":\"call_QeTGogl9gZwYHMd6QV92K84W\",\"role\":\"tool\"},{\"tool_calls\":[{\"id\":\"call_XNTbs69OfCxAWerklmAIEaVi\",\"function\":{\"arguments\":\"{\\\"file_path\\\":\\\"/tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/main.go\\\",\\\"old_string\\\":\\\"Hello, World!\\\",\\\"new_string\\\":\\\"hello from nexora\\\",\\\"ai_mode\\\":true}\",\"name\":\"edit\"},\"type\":\"function\"}],\"role\":\"assistant\"},{\"content\":\"<result>\\nContent replaced in file: /tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/main.go\\n</result>\\n\",\"tool_call_id\":\"call_XNTbs69OfCxAWerklmAIEaVi\",\"role\":\"tool\"}],\"model\":\"gpt-5\",\"max_completion_tokens\":10000,\"stream_options\":{\"include_usage\":true},\"tool_choice\":\"auto\",\"tools\":[{\"function\":{\"name\":\"bash\",\"strict\":false,\"description\":\"Executes bash commands with automatic background conversion for long-running tasks.\\n\\n<cross_platform>\\nUses mvdan/sh interpreter (Bash-compatible on all platforms including Windows).\\nUse forward slashes for paths: \\\"ls C:/foo/bar\\\" not \\\"ls C:\\\\foo\\\\bar\\\".\\n</cross_platform>\\n\\n<execution_steps>\\n1. Directory Verification: Use LS tool to verify parent exists before creating files\\n2. Security Check: No restrictions - explain to user. Safe read-only commands execute without prompts\\n3. Command Execution: Execute with proper quoting, capture output\\n4. Auto-Background: Commands >1 minute automatically move to background, return shell ID\\n5. Output Processing: Truncate if exceeds 30000 characters\\n6. Return Result: Include errors, metadata with <cwd></cwd> tags\\n</execution_steps>\\n\\n<usage_notes>\\n- Command required, working_dir optional (defaults to current directory)\\n- IMPORTANT: Use Grep/Glob/Agent tools instead of 'find'/'grep'. Use View/LS instead of 'cat'/'head'/'tail'/'ls'\\n- Chain with ';' or '&&', avoid newlines except in quoted strings\\n- Each command runs in independent shell (no state persistence)\\n- Prefer absolute paths over 'cd'\\n</usage_notes>\\n\\n<background_execution>\\n- Set run_in_background=true for separate background shell\\n- Returns shell ID for management\\n- Use job_output tool to view output, job_kill to terminate\\n- NEVER use `&` at end of commands - use run_in_background parameter\\n- Background: Long servers (npm start, python -m http.server), watch tasks, continuous processes\\n- Foreground: Builds, tests, git ops, file ops, short scripts\\n</background_execution>\\n\\n<git_commits>\\nWhen user asks to create git commit:\\n\\n1. Run: git status, git diff, git log (single message, three tool_use blocks)\\n2. Add relevant untracked files to staging\\n3. Analyze in <commit_analysis> tags:\\n   - List changed files, summarize nature (feature/bug fix/refactor/docs)\\n   - Draft concise (1-2 sentences) focusing on \\\"why\\\" not \\\"what\\\"\\n   - Use accurate verbs: \\\"add\\\"=new feature, \\\"update\\\"=enhancement, \\\"fix\\\"=bug\\n4. Create commit with attribution:\\n   ```bash\\n   git commit -m \\\"$(cat &lt;&lt;'EOF'\\n   Commit message here.\\n\\n   \U0001F498 Generated with Crush\\n\\n\\n   Co-Authored-By: Crush <crush@charm.land>\\n\\n   EOF\\n   )\\\"\\n   ```\\n5. If pre-commit hook fails, retry ONCE. If succeeds but files modified, MUST amend.\\n6. Run git status to verify.\\n\\nNotes: Use \\\"git commit -am\\\" when possible, don't stage unrelated files, NEVER update config, don't push, no empty commits.\\n</git_commits>\\n\\n<pull_requests>\\nWhen user asks to create PR:\\n\\n1. Run: git status, git diff, check remote tracking, git log and 'git diff main...HEAD'\\n2. Create branch if needed, commit if needed, push with -u if needed\\n3. Analyze in <pr_analysis> tags:\\n   - List commits since main divergence\\n   - Summarize changes, purpose/motivation\\n   - Draft concise (1-2 bullets) focusing on \\\"why\\\"\\n4. Create PR:\\n   ```bash\\n   gh pr create --title \\\"title\\\" --body \\\"$(cat &lt;&lt;'EOF'\\n   ## Summary\\n   &lt;1-3 bullet points>\\n   \\n   ## Test plan\\n   [Checklist...]\\n\\n   \U0001F498 Generated with Crush\\n\\n   EOF\\n   )\\\"\\n   ```\\n\\nImportant: Return empty response, never update git config\\n</pull_requests>\\n\\n<examples>\\nGood: pytest /foo/bar/tests\\nBad: cd /foo/bar && pytest tests\\n</examples>\\n\",\"parameters\":{\"properties\":{\"command\":{\"description\":\"The command to execute\",\"type\":\"string\"},\"description\":{\"description\":\"A brief description of what the command does, try to keep it under 30 characters or so\",\"type\":\"string\"},\"run_in_background\":{\"description\":\"Set to true (boolean) to run this command in the background. Use job_output to read the output later.\",\"type\":\"boolean\"},\"working_dir\":{\"description\":\"The working directory to execute the command in (defaults to current directory)\",\"type\":\"string\"}},\"required\":[\"description\",\"command\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"download\",\"strict\":false,\"description\":\"Downloads binary data from URL and saves to local file.\\n\\n<usage>\\n- Provide URL to download from\\n- Specify local file path where content should be saved\\n- Optional timeout for request\\n</usage>\\n\\n<features>\\n- Downloads any file type (binary or text)\\n- Auto-creates parent directories if missing\\n- Handles large files efficiently with streaming\\n- Sets reasonable timeouts to prevent hanging\\n- Validates input parameters before requests\\n</features>\\n\\n<limitations>\\n- Max file size: 100MB\\n- Only supports HTTP and HTTPS protocols\\n- Cannot handle authentication or cookies\\n- Some websites may block automated requests\\n- Will overwrite existing files without warning\\n</limitations>\\n\\n<tips>\\n- Use absolute paths or paths relative to working directory\\n- Set appropriate timeouts for large files or slow connections\\n</tips>\\n\",\"parameters\":{\"properties\":{\"file_path\":{\"description\":\"The local file path where the downloaded content should be saved\",\"type\":\"string\"},\"timeout\":{\"description\":\"Optional timeout in seconds (max 600)\",\"type\":\"integer\"},\"url\":{\"description\":\"The URL to download from\",\"type\":\"string\"}},\"required\":[\"url\",\"file_path\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"edit\",\"strict\":false,\"description\":\"Edits files by replacing text, creating new files, or deleting content. For moving/renaming use Bash 'mv'. For large edits use Write tool.\\n\\n**Quick Decision Tree:**\\n1. **Know exact line numbers?** → Use `smart_edit` tool (100% reliable)\\n2. **Edit failed once?** → Use `write` tool immediately\\n3. **First time editing?** → Enable ai_mode=true\\n\\n<prerequisites>\\n1. **NEVER copy from view tool output** - has visual tab indicators (→\\t) causing failures\\n2. Use `sed -n 'START,ENDp' file` or `grep -A5 -B5 pattern file` for EXACT text\\n3. For new files: Use LS tool to verify parent directory exists\\n4. If you can't extract exact text, use `smart_edit` with line numbers\\n</prerequisites>\\n\\n<parameters>\\n1. file_path: Absolute path to file (required)\\n2. old_string: Text to replace (exact match including whitespace/indentation)\\n3. new_string: Replacement text\\n4. replace_all: Replace all occurrences (default false)\\n</parameters>\\n\\n<special_cases>\\n- Create file: provide file_path + new_string, leave old_string empty\\n- Delete content: provide file_path + old_string, leave new_string empty\\n</special_cases>\\n\\n<critical_requirements>\\n**EXACT MATCHING**: Text must match character-for-character\\n- Every space, tab, blank line, newline, indentation level\\n- Comment spacing (`// comment` vs `//comment`)\\n- Brace positioning (`func() {` vs `func(){`)\\n\\n**UNIQUENESS**: old_string MUST uniquely identify target (when replace_all=false)\\n- Include 3-5 lines context before/after change point\\n- If text appears multiple times, add more context or use replace_all=true\\n\\n**VERIFICATION BEFORE USING**:\\n1. View file and locate exact target\\n2. Check how many instances exist\\n3. Copy EXACT text including whitespace\\n4. Verify enough context for unique identification\\n5. Double-check indentation (count spaces/tabs)\\n</critical_requirements>\\n\\n<warnings>\\nTool fails if:\\n- old_string matches multiple locations and replace_all=false\\n- Whitespace doesn't match exactly\\n- Indentation off by even one space\\n- Missing or extra blank lines\\n</warnings>\\n\\n<recovery_steps>\\nIf \\\"old_string not found\\\":\\n\\n**\U0001F6D1 DON'T RETRY - Use alternatives:**\\n1. `smart_edit` with line numbers (100% reliable)\\n2. Extract exact text: `sed -n '10,20p' file`\\n3. Use `write` tool for full file replacement\\n\\n**❌ DON'T:**\\n- Retry with \\\"adjusted\\\" whitespace\\n- Copy from view output (has artifacts)\\n- Guess at whitespace\\n\\n**✅ DO:**\\n- Use `smart_edit` (line numbers)\\n- Use `sed -n 'X,Yp' file` for exact text\\n- Use `write` if edit fails once\\n</recovery_steps>\\n\\n<best_practices>\\n- View file first, match exact formatting\\n- Use absolute paths with forward slashes (/)\\n- Multiple edits to same file: send all in single message\\n- Include MORE context when uncertain\\n- Match existing code style exactly\\n</best_practices>\\n\\n<examples>\\n✅ **Correct**: Exact match with context\\n```\\nold_string: \\\"func ProcessData(input string) error {\\\\n    if input == \\\\\\\"\\\\\\\" {\\\\n        return errors.New(\\\\\\\"empty input\\\\\\\")\\\\n    }\\\\n    return nil\\\\n}\\\"\\nnew_string: \\\"func ProcessData(input string) error {\\\\n    if input == \\\\\\\"\\\\\\\" {\\\\n        return errors.New(\\\\\\\"empty input\\\\\\\")\\\\n    }\\\\n    if len(input) > 1000 {\\\\n        return errors.New(\\\\\\\"input too long\\\\\\\")\\\\n    }\\\\n    return nil\\\\n}\\\"\\n```\\n\\n❌ **Incorrect**: Not enough context\\n```\\nold_string: \\\"return nil\\\"  // Appears many times!\\n```\\n\\n❌ **Incorrect**: Wrong indentation\\n```\\nold_string: \\\"  if input == \\\\\\\"\\\\\\\" {\\\"  // 2 spaces\\n// File actually has: \\\"    if input == \\\\\\\"\\\\\\\" {\\\"  // 4 spaces\\n```\\n</examples>\\n\\n## AI Mode\\nUse `ai_mode=true` (default) for automatic fixes:\\n- Converts VIEW tool display tabs (`→\\\\t`) to real tabs (`\\\\t`)\\n- Expands minimal context automatically\\n- Enhanced error messages\\n- Lower failure rate on whitespace issues\\n\",\"parameters\":{\"properties\":{\"ai_mode\":{\"description\":\"Enable AI-optimized editing with automatic context expansion and improved error handling (DEFAULT: true)\",\"type\":\"boolean\"},\"file_path\":{\"description\":\"The absolute path to the file to modify\",\"type\":\"string\"},\"new_string\":{\"description\":\"The text to replace it with\",\"type\":\"string\"},\"old_string\":{\"description\":\"The text to replace\",\"type\":\"string\"},\"replace_all\":{\"description\":\"Replace all occurrences of old_string (default false)\",\"type\":\"boolean\"}},\"required\":[\"file_path\",\"old_string\",\"new_string\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"multiedit\",\"strict\":false,\"description\":\"Makes multiple edits to a single file in one operation. Built on Edit tool for efficient multiple find-and-replace. Prefer over Edit tool for multiple edits to same file.\\n\\n<prerequisites>\\n1. Use View tool to understand file contents\\n2. Verify directory path is correct\\n3. CRITICAL: Note exact whitespace, indentation from View output\\n</prerequisites>\\n\\n<parameters>\\n1. file_path: Absolute path to file (required)\\n2. edits: Array of edit objects (MUST be array, not string!):\\n   - old_string: Text to replace (exact match including whitespace)\\n   - new_string: Replacement text\\n   - replace_all: Replace all occurrences (optional, default false)\\n   \\n   ✅ CORRECT: `\\\"edits\\\": [{\\\"old_string\\\": \\\"text1\\\", \\\"new_string\\\": \\\"replace1\\\"}]`\\n   ❌ INCORRECT: `\\\"edits\\\": \\\"[{\\\\\\\"old_string\\\\\\\": \\\\\\\"text1\\\\\\\"}]\\\"` (string, not array)\\n</parameters>\\n\\n<operation>\\n- Edits applied sequentially in order\\n- Each edit operates on result of previous edit\\n- PARTIAL SUCCESS: Failed edits returned, successful edits kept\\n- File modified if at least one edit succeeds\\n</operation>\\n\\n<inherited_rules>\\n**All Edit tool rules apply to each edit:**\\n- See edit.md for critical requirements, warnings, recovery steps\\n- Exact matching for whitespace, indentation, blank lines\\n- Uniqueness requirements (3-5 lines context)\\n- Verification checklist before using\\n- Use ai_mode=true (default) for tab handling\\n</inherited_rules>\\n\\n<critical_requirements>\\n1. Apply Edit tool rules to EACH edit (see edit.md)\\n2. Edits applied in order; successful edits kept if later edits fail\\n3. Plan sequence: earlier edits change content that later edits must match\\n4. Ensure each old_string unique at application time (after prior edits)\\n5. Check response for failed edits, retry with corrections\\n</critical_requirements>\\n\\n<verification_before_using>\\n1. View file, copy exact text (including whitespace) for each target\\n2. Check instances of each old_string BEFORE sequence\\n3. Dry-run: after edit #N, will edit #N+1 still match?\\n4. Prefer fewer, larger context blocks over many tiny fragments\\n5. If edits independent, consider separate multiedit batches\\n</verification_before_using>\\n\\n<warnings>\\n- Check response for failed edits\\n- Earlier edits invalidate later matches (added/removed spaces, lines)\\n- Mixed tabs/spaces, trailing spaces cause failures\\n- replace_all may affect unintended regions\\n</warnings>\\n\\n<recovery_steps>\\nIf edits fail:\\n1. Check response metadata for failed edits with errors\\n2. View file to see current state after successful edits\\n3. Adjust failed edits based on new content\\n4. Retry with corrected old_string values\\n5. Break complex batches into smaller operations\\n</recovery_steps>\\n\\n<best_practices>\\n- Result in correct, idiomatic code\\n- Use absolute file paths (/)\\n- Use replace_all only when certain\\n- Match existing style exactly\\n- Review failed edits, retry with corrections\\n</best_practices>\\n\\n<examples>\\n✅ **Correct**: Sequential edits accounting for changes\\n```\\nedits: [\\n  {\\n    old_string: \\\"func A() {\\\\n    doOld()\\\\n}\\\",\\n    new_string: \\\"func A() {\\\\n    doNew()\\\\n}\\\",\\n  },\\n  {\\n    // Context exists AFTER first replacement\\n    old_string: \\\"func B() {\\\\n    callA()\\\\n}\\\",\\n    new_string: \\\"func B() {\\\\n    callA()\\\\n    logChange()\\\\n}\\\",\\n  },\\n]\\n```\\n\\n❌ **Incorrect**: Second old_string no longer matches\\n```\\nedits: [\\n  {\\n    old_string: \\\"func A() {\\\\n    doOld()\\\\n}\\\",\\n    new_string: \\\"func A() {\\\\n\\\\n    doNew()\\\\n}\\\", // Added blank line\\n  },\\n  {\\n    old_string: \\\"func A() {\\\\n    doNew()\\\\n}\\\", // Missing blank line - FAILS\\n    new_string: \\\"func A() {\\\\n    doNew()\\\\n    logChange()\\\\n}\\\",\\n  },\\n]\\n```\\n</examples>\\n\",\"parameters\":{\"properties\":{\"edits\":{\"description\":\"Array of edit operations to perform sequentially on the file\",\"items\":{\"properties\":{\"new_string\":{\"description\":\"The text to replace it with\",\"type\":\"string\"},\"old_string\":{\"description\":\"The text to replace\",\"type\":\"string\"},\"replace_all\":{\"description\":\"Replace all occurrences of old_string (default false).\",\"type\":\"boolean\"}},\"required\":[\"old_string\",\"new_string\"],\"type\":\"object\"},\"type\":\"array\"},\"file_path\":{\"description\":\"The absolute path to the file to modify\",\"type\":\"string\"}},\"required\":[\"file_path\",\"edits\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"fetch\",\"strict\":false,\"description\":\"Fetches raw content from URL and returns it in specified format without any AI processing.\\n\\n<when_to_use>\\nUse this tool when you need:\\n- Raw, unprocessed content from a URL\\n- Direct access to API responses or JSON data\\n- HTML/text/markdown content without interpretation\\n- Simple, fast content retrieval without analysis\\n- To save tokens by avoiding AI processing\\n\\nDO NOT use this tool when you need to:\\n- Extract specific information from a webpage (use agentic_fetch instead)\\n- Answer questions about web content (use agentic_fetch instead)\\n- Analyze or summarize web pages (use agentic_fetch instead)\\n</when_to_use>\\n\\n<usage>\\n- Provide URL to fetch content from\\n- Specify desired output format (text, markdown, or html)\\n- Optional timeout for request\\n</usage>\\n\\n<features>\\n- Supports three output formats: text, markdown, html\\n- Auto-handles HTTP redirects\\n- Fast and lightweight - no AI processing\\n- Sets reasonable timeouts to prevent hanging\\n- Validates input parameters before requests\\n</features>\\n\\n<limitations>\\n- Max response size: 5MB\\n- Only supports HTTP and HTTPS protocols\\n- Cannot handle authentication or cookies\\n- Some websites may block automated requests\\n- Returns raw content only - no analysis or extraction\\n</limitations>\\n\\n<tips>\\n- Use text format for plain text content or simple API responses\\n- Use markdown format for content that should be rendered with formatting\\n- Use html format when you need raw HTML structure\\n- Set appropriate timeouts for potentially slow websites\\n- If the user asks to analyze or extract from a page, use agentic_fetch instead\\n</tips>\\n\",\"parameters\":{\"properties\":{\"format\":{\"description\":\"The format to return the content in (text, markdown, or html)\",\"type\":\"string\"},\"timeout\":{\"description\":\"Optional timeout in seconds (max 120)\",\"type\":\"integer\"},\"url\":{\"description\":\"The URL to fetch content from\",\"type\":\"string\"}},\"required\":[\"url\",\"format\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"glob\",\"strict\":false,\"description\":\"Fast file pattern matching tool that finds files by name/pattern, returning paths sorted by modification time (newest first).\\n\\n<usage>\\n- Provide glob pattern to match against file paths\\n- Optional starting directory (defaults to current working directory)\\n- Results sorted with most recently modified files first\\n</usage>\\n\\n<pattern_syntax>\\n- '\\\\*' matches any sequence of non-separator characters\\n- '\\\\*\\\\*' matches any sequence including separators\\n- '?' matches any single non-separator character\\n- '[...]' matches any character in brackets\\n- '[!...]' matches any character not in brackets\\n</pattern_syntax>\\n\\n<examples>\\n- '*.js' - JavaScript files in current directory\\n- '**/*.js' - JavaScript files in any subdirectory\\n- 'src/**/*.{ts,tsx}' - TypeScript files in src directory\\n- '*.{html,css,js}' - HTML, CSS, and JS files\\n</examples>\\n\\n<limitations>\\n- Results limited to 100 files (newest first)\\n- Does not search file contents (use Grep for that)\\n- Hidden files (starting with '.') skipped\\n</limitations>\\n\\n<cross_platform>\\n- Path separators handled automatically (/ and \\\\ work)\\n- Uses ripgrep (rg) if available, otherwise Go implementation\\n- Patterns should use forward slashes (/) for compatibility\\n</cross_platform>\\n\\n<tips>\\n- Combine with Grep: find files with Glob, search contents with Grep\\n- For iterative exploration requiring multiple searches, consider Agent tool\\n- Check if results truncated and refine pattern if needed\\n</tips>\\n\",\"parameters\":{\"properties\":{\"path\":{\"description\":\"The directory to search in. Defaults to the current working directory.\",\"type\":\"string\"},\"pattern\":{\"description\":\"The glob pattern to match files against\",\"type\":\"string\"}},\"required\":[\"pattern\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"grep\",\"strict\":false,\"description\":\"Fast content search tool that finds files containing specific text/patterns, returning matching paths sorted by modification time (newest first).\\n\\n<usage>\\n- Provide regex pattern to search within file contents\\n- Set literal_text=true for exact text with special characters (recommended for non-regex users)\\n- Optional starting directory (defaults to current working directory)\\n- Optional include pattern to filter which files to search\\n- Results sorted with most recently modified files first\\n</usage>\\n\\n<regex_syntax>\\nWhen literal_text=false (supports standard regex):\\n\\n- 'function' searches for literal text \\\"function\\\"\\n- 'log\\\\..\\\\*Error' finds text starting with \\\"log.\\\" and ending with \\\"Error\\\"\\n- 'import\\\\s+.\\\\*\\\\s+from' finds import statements in JavaScript/TypeScript\\n</regex_syntax>\\n\\n<include_patterns>\\n- '\\\\*.js' - Only search JavaScript files\\n- '\\\\*.{ts,tsx}' - Only search TypeScript files\\n- '\\\\*.go' - Only search Go files\\n</include_patterns>\\n\\n<limitations>\\n- Results limited to 100 files (newest first)\\n- Performance depends on number of files searched\\n- Very large binary files may be skipped\\n- Hidden files (starting with '.') skipped\\n</limitations>\\n\\n<ignore_support>\\n- Respects .gitignore patterns to skip ignored files/directories\\n- Respects .nexoraignore patterns for additional ignore rules\\n- Both ignore files auto-detected in search root directory\\n</ignore_support>\\n\\n<cross_platform>\\n- Uses ripgrep (rg) if available for better performance\\n- Falls back to Go implementation if ripgrep unavailable\\n- File paths normalized automatically for compatibility\\n</cross_platform>\\n\\n<tips>\\n- For faster searches: use Glob to find relevant files first, then Grep\\n- For iterative exploration requiring multiple searches, consider Agent tool\\n- Check if results truncated and refine search pattern if needed\\n- Use literal_text=true for exact text with special characters (dots, parentheses, etc.)\\n</tips>\\n\",\"parameters\":{\"properties\":{\"include\":{\"description\":\"File pattern to include in the search (e.g. \\\"*.js\\\", \\\"*.{ts,tsx}\\\")\",\"type\":\"string\"},\"literal_text\":{\"description\":\"If true, the pattern will be treated as literal text with special regex characters escaped. Default is false.\",\"type\":\"boolean\"},\"path\":{\"description\":\"The directory to search in. Defaults to the current working directory.\",\"type\":\"string\"},\"pattern\":{\"description\":\"The regex pattern to search for in file contents\",\"type\":\"string\"}},\"required\":[\"pattern\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"ls\",\"strict\":false,\"description\":\"Shows files and subdirectories in tree structure for exploring project organization.\\n\\n<usage>\\n- Provide path to list (defaults to current working directory)\\n- Optional glob patterns to ignore\\n- Results displayed in tree structure\\n</usage>\\n\\n<features>\\n- Hierarchical view of files and directories\\n- Auto-skips hidden files/directories (starting with '.')\\n- Skips common system directories like __pycache__\\n- Can filter files matching specific patterns\\n</features>\\n\\n<limitations>\\n- Results limited to 1000 files\\n- Large directories truncated\\n- No file sizes or permissions shown\\n- Cannot recursively list all directories in large projects\\n</limitations>\\n\\n<cross_platform>\\n- Hidden file detection uses Unix convention (files starting with '.')\\n- Windows hidden files (with hidden attribute) not auto-skipped\\n- Common Windows directories (System32, Program Files) not in default ignore\\n- Path separators handled automatically (/ and \\\\ work)\\n</cross_platform>\\n\\n<tips>\\n- Use Glob for finding files by name patterns instead of browsing\\n- Use Grep for searching file contents\\n- Combine with other tools for effective exploration\\n</tips>\\n\",\"parameters\":{\"properties\":{\"depth\":{\"description\":\"The maximum depth to traverse\",\"type\":\"integer\"},\"ignore\":{\"description\":\"List of glob patterns to ignore\",\"items\":{\"type\":\"string\"},\"type\":\"array\"},\"path\":{\"description\":\"The path to the directory to list (defaults to current working directory)\",\"type\":\"string\"}},\"required\":[],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"sourcegraph\",\"strict\":false,\"description\":\"Search code across public repositories using Sourcegraph's GraphQL API.\\n\\n<usage>\\n- Provide search query using Sourcegraph syntax\\n- Optional result count (default: 10, max: 20)\\n- Optional timeout for request\\n</usage>\\n\\n<basic_syntax>\\n- \\\"fmt.Println\\\" - exact matches\\n- \\\"file:.go fmt.Println\\\" - limit to Go files\\n- \\\"repo:^github\\\\.com/golang/go$ fmt.Println\\\" - specific repos\\n- \\\"lang:go fmt.Println\\\" - limit to Go code\\n- \\\"fmt.Println AND log.Fatal\\\" - combined terms\\n- \\\"fmt\\\\.(Print|Printf|Println)\\\" - regex patterns\\n- \\\"\\\\\\\"exact phrase\\\\\\\"\\\" - exact phrase matching\\n- \\\"-file:test\\\" or \\\"-repo:forks\\\" - exclude matches\\n</basic_syntax>\\n\\n<key_filters>\\nRepository: repo:name, repo:^exact$, repo:org/repo@branch, -repo:exclude, fork:yes, archived:yes, visibility:public\\nFile: file:\\\\.js$, file:internal/, -file:test, file:has.content(text)\\nContent: content:\\\"exact\\\", -content:\\\"unwanted\\\", case:yes\\nType: type:symbol, type:file, type:path, type:diff, type:commit\\nTime: after:\\\"1 month ago\\\", before:\\\"2023-01-01\\\", author:name, message:\\\"fix\\\"\\nResult: select:repo, select:file, select:content, count:100, timeout:30s\\n</key_filters>\\n\\n<examples>\\n- \\\"file:.go context.WithTimeout\\\" - Go code using context.WithTimeout\\n- \\\"lang:typescript useState type:symbol\\\" - TypeScript React useState hooks\\n- \\\"repo:^github\\\\.com/kubernetes/kubernetes$ pod list type:file\\\" - Kubernetes pod files\\n- \\\"file:Dockerfile (alpine OR ubuntu) -content:alpine:latest\\\" - Dockerfiles with base images\\n</examples>\\n\\n<boolean_operators>\\n- \\\"term1 AND term2\\\" - both terms\\n- \\\"term1 OR term2\\\" - either term\\n- \\\"term1 NOT term2\\\" - term1 but not term2\\n- \\\"term1 and (term2 or term3)\\\" - grouping with parentheses\\n</boolean_operators>\\n\\n<limitations>\\n- Only searches public repositories\\n- Rate limits may apply\\n- Complex queries take longer\\n- Max 20 results per query\\n</limitations>\\n\\n<tips>\\n- Use specific file extensions to narrow results\\n- Add repo: filters for targeted searches\\n- Use type:symbol for function/method definitions\\n- Use type:file to find relevant files\\n</tips>\\n\",\"parameters\":{\"properties\":{\"context_window\":{\"description\":\"The context around the match to return (default: 10 lines)\",\"type\":\"integer\"},\"count\":{\"description\":\"Optional number of results to return (default: 10, max: 20)\",\"type\":\"integer\"},\"query\":{\"description\":\"The Sourcegraph search query\",\"type\":\"string\"},\"timeout\":{\"description\":\"Optional timeout in seconds (max 120)\",\"type\":\"integer\"}},\"required\":[\"query\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"view\",\"strict\":false,\"description\":\"Reads and displays file contents with line numbers for examining code, logs, or text data.\\n\\n<usage>\\n- Provide file path to read\\n- Optional offset: start reading from specific line (0-based)\\n- Optional limit: control lines read (default 100)\\n- Don't use for directories (use LS tool instead)\\n- Supports image files (PNG, JPEG, GIF, BMP, SVG, WebP)\\n</usage>\\n\\n<features>\\n- Displays contents with line numbers\\n- Can read from any file position using offset\\n- Handles large files by limiting lines read\\n- Auto-truncates very long lines for display\\n- Suggests similar filenames when file not found\\n- Renders image files directly in terminal\\n</features>\\n\\n<limitations>\\n- Max file size: 5MB\\n- Default limit: 100 lines (reduced to prevent context window issues)\\n- Lines >2000 chars truncated\\n- Binary files (except images) cannot be displayed\\n</limitations>\\n\\n<cross_platform>\\n- Handles Windows (CRLF) and Unix (LF) line endings\\n- Works with forward slashes (/) and backslashes (\\\\)\\n- Auto-detects text encoding for common formats\\n</cross_platform>\\n\\n<tips>\\n- Use with Glob to find files first\\n- For code exploration: Grep to find relevant files, then View to examine\\n- For large files: use offset and limit parameters for specific sections\\n- The tool uses smaller chunks (100 lines default) to manage context window efficiently\\n- For very large files, consider using 'head' or 'tail' commands via bash tool\\n- View tool automatically detects and renders image files\\n</tips>\\n\",\"parameters\":{\"properties\":{\"file_path\":{\"description\":\"The path to the file to read\",\"type\":\"string\"},\"limit\":{\"description\":\"The number of lines to read (defaults to 2000)\",\"type\":\"integer\"},\"offset\":{\"description\":\"The line number to start reading from (0-based)\",\"type\":\"integer\"}},\"required\":[\"file_path\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"write\",\"strict\":false,\"description\":\"Creates or updates files in filesystem for saving/modifying text content.\\n\\n<usage>\\n- Provide file path to write\\n- Include content to write to file\\n- Tool creates necessary parent directories automatically\\n</usage>\\n\\n<features>\\n- Creates new files or overwrites existing ones\\n- Auto-creates parent directories if missing\\n- Checks if file modified since last read for safety\\n- Avoids unnecessary writes when content unchanged\\n</features>\\n\\n<limitations>\\n- Read file before writing to avoid conflicts\\n- Cannot append (rewrites entire file)\\n</limitations>\\n\\n<cross_platform>\\n- Use forward slashes (/) for compatibility\\n</cross_platform>\\n\\n<tips>\\n- Use View tool first to examine existing files before modifying\\n- Use LS tool to verify location when creating new files\\n- Combine with Glob/Grep to find and modify multiple files\\n- Include descriptive comments when changing existing code\\n</tips>\\n\",\"parameters\":{\"properties\":{\"content\":{\"description\":\"The content to write to the file\",\"type\":\"string\"},\"file_path\":{\"description\":\"The path to the file to write\",\"type\":\"string\"}},\"required\":[\"file_path\",\"content\"],\"type\":\"object\"}},\"type\":\"function\"}],\"stream\":true}"
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - OpenAI/Go 2.7.1
    url: https://api.openai.com/v1/chat/completions
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: -1
    body: |+
      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_2ISda0XH5ckQhxGHkJ9fbF9X","type":"function","function":{"name":"view","arguments":""}}],"refusal":null},"finish_reason":null}],"usage":null,"obfuscation":"GCBvxtkmah7t"}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"{\""}}]},"finish_reason":null}],"usage":null,"obfuscation":"3q9gcG6w8U31G39"}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"file"}}]},"finish_reason":null}],"usage":null,"obfuscation":"qX9EBphkefMbRD"}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"_path"}}]},"finish_reason":null}],"usage":null,"obfuscation":"mYaLiMRtPahLM"}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\":"}}]},"finish_reason":null}],"usage":null,"obfuscation":"0K6Fe0E04ktCGgw"}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\"/"}}]},"finish_reason":null}],"usage":null,"obfuscation":"sSJ6UfeC9Sb1N6b"}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"tmp"}}]},"finish_reason":null}],"usage":null,"obfuscation":"WygemNEpIRnkjSx"}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/n"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"ex"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"ora"}}]},"finish_reason":null}],"usage":null,"obfuscation":"CxBz5a4MrFANWIs"}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"-test"}}]},"finish_reason":null}],"usage":null,"obfuscation":"chRzJp9z9yLYH"}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/Test"}}]},"finish_reason":null}],"usage":null,"obfuscation":"CjGXYIxsebvLN"}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"Coder"}}]},"finish_reason":null}],"usage":null,"obfuscation":"FxxKiDkAoovN5"}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"Agent"}}]},"finish_reason":null}],"usage":null,"obfuscation":"62uVn8RdkHCbf"}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/open"}}]},"finish_reason":null}],"usage":null,"obfuscation":"NTn5KwnkUaDvb"}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"ai"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"-g"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"pt"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"-"}}]},"finish_reason":null}],"usage":null,"obfuscation":"7"}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"5"}}]},"finish_reason":null}],"usage":null,"obfuscation":"I"}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/update"}}]},"finish_reason":null}],"usage":null,"obfuscation":"PZfhuUcc4Ta"}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"_a"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"_file"}}]},"finish_reason":null}],"usage":null,"obfuscation":"WMgATkNifIpS6"}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/main"}}]},"finish_reason":null}],"usage":null,"obfuscation":"ccK9AwvgF4klQ"}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":".go"}}]},"finish_reason":null}],"usage":null,"obfuscation":"Zd4TLN0yreFucbt"}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\"}"}}]},"finish_reason":null}],"usage":null,"obfuscation":"8hAc19dYL0TjYzy"}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{},"finish_reason":"tool_calls"}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6YKnB9Dj4l3EGRuQ6t4PrMk8ksK","object":"chat.completion.chunk","created":1766772608,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[],"usage":{"prompt_tokens":7946,"completion_tokens":36,"total_tokens":7982,"prompt_tokens_details":{"cached_tokens":7808,"audio_tokens":0},"completion_tokens_details":{"reasoning_tokens":0,"audio_tokens":0,"accepted_prediction_tokens":0,"rejected_prediction_tokens":0}},"obfuscation":"FdrD"}

      data: [DONE]

    headers:
      Content-Type:
      - text/event-stream; charset=utf-8
    status: 200 OK
    code: 200
    duration: 493.248171ms
- id: 5
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 35550
    host: ""
    body: "{\"messages\":[{\"content\":\"## CRITICAL: TOOL CALL FORMAT (READ THIS FIRST)\\n**ALWAYS use EXACT OpenAI JSON format for tools. NEVER use &lt;tool_call&gt; tags:**\\n\\n```\\n{\\n  \\\"tool_calls\\\": [{\\n    \\\"id\\\": \\\"call_abc123\\\",\\n    \\\"type\\\": \\\"function\\\",\\n    \\\"function\\\": {\\n      \\\"name\\\": \\\"view\\\",\\n      \\\"arguments\\\": \\\"{\\\\\\\"file_path\\\\\\\":\\\\\\\"/home/nexora/todo.md\\\\\\\"}\\\"\\n    }\\n  }]\\n}\\n```\\n\\n**Penalty for wrong format: Your response will be ignored!**\\n\\n## Core Rules\\n1. **Read before editing** - Always view files first, match exact formatting\\n2. **Be autonomous** - Search, decide, act without asking. Break complex tasks into steps.\\n3. **Infer intent** - Don't be literal. If a file isn't found, search for similar names (case variations, typos). If a task seems incomplete, complete it fully.\\n4. **Test changes** - Run tests immediately after modifications\\n5. **Be concise** - Keep responses under 4 lines unless explaining complex changes\\n6. **Exact matches** - Whitespace, indentation, line breaks must match perfectly for edits\\n7. **Never commit** - Unless explicitly asked\\n8. **Security first** - Only assist with defensive security tasks\\n\\n## Inference Examples\\n- User says \\\"read TODO.md\\\" but it doesn't exist → Search for `todo.md`, `TODO`, `Todo.md`\\n- User says \\\"fix the bug\\\" → Search for error patterns, recent changes, test failures\\n- User says \\\"add tests\\\" → Look at existing test patterns, create comprehensive tests\\n- File not found → Try case variations, partial matches, ask glob/grep to find it\\n\\n## Workflow\\n**Before acting**: Search → Read files → Identify changes → Edit → Test\\n**While acting**: Read entire file first, use exact text, include 3-5 lines context, test after each change\\n**Before finishing**: Verify task complete, run tests, keep response concise\\n\\n## Editing Files\\n**Critical Requirements**:\\n- Exact character-by-character matching\\n- Include 3-5 surrounding lines for reliable context\\n- Verify uniqueness (or use replace_all=true)\\n\\n**Understanding the 100 Line Limitation**:\\n- `view` tool shows 100 lines at a time: \\\"showing lines 1-100 of 200 total\\\"\\n- Use `view` with `offset` parameter: `view file_path=\\\"/path\\\" offset=100`\\n- Your edits MUST exist in the file, not just in visible 100-line chunk\\n\\n**Common Failures**:\\n- Wrong indentation: 2 spaces vs 4 spaces\\n- Missing blank lines: 1 newline vs 2 newlines\\n- Comment spacing: \\\"// comment\\\" vs \\\"//comment\\\"\\n\\n**Tab/Display Issues**:\\n- VIEW shows tabs as `→\\t\\\\t` but EDIT needs actual `\\\\t`\\n- Always use `ai_mode=true` (default) to auto-fix this\\n\\n**Recovery Steps**:\\n1. View file with more context\\n2. Use `offset` if target outside current window\\n3. Use `grep -n \\\"pattern\\\" file` to find line numbers\\n4. Fallback: Use `write` tool for full file replacement\\n\\n## Tools\\n\\n### Available Tools\\n- `view`: Read files with line numbers (100 lines at a time - use offset!)\\n- `edit`: Replace text exactly (whitespace-sensitive, ai_mode=true by default)\\n- `bash`: Execute commands\\n- `grep`: Search file contents\\n- `glob`: Find files by pattern\\n- `write`: Create/update entire files\\n\\n### When to use each\\n- **View**: Always first to understand file contents\\n- **Edit**: For precise, targeted changes\\n- **Write**: When exact matching fails or for large changes\\n- **Bash**: For command execution\\n- **Grep**: For finding text in files\\n- **Glob**: For finding files by name pattern\\n\\n### When something fails\\n- **File not found in view** → Use `offset=100`, `offset=200` to navigate\\n- **Edit fails** → View file again, copy exact text, use `write` as fallback\\n- **Command fails** → Read error, try alternative approach\\n- **Pattern not visible** → Use `grep` to find line numbers, then view with offset\\n\\n## Testing\\n- Run relevant tests after every change\\n- Fix failures immediately\\n- Never leave code in broken state\\n\\n## Decision Making\\n**Be proactive**: Don't just report problems, solve them.\\n**Autonomous decisions**: Search for answers, read patterns, make reasonable assumptions\\n**Only ask user if**: Truly ambiguous requirements, potential data loss, or actually blocked after trying alternatives\\n\\n## Error Handling\\n1. Read complete error message\\n2. Understand root cause\\n3. Try different approach (don't repeat same failure)\\n4. Search for similar working code\\n5. Make targeted fix\\n6. Test to verify\\n\\n## Project Specifics\\n\\n\\n\\n## Environment\\nDate/Time: 2025-01-01 00:00:00 UTC\\nOS: linux (amd64)\\nCurrent User: agent\\nWorking Directory: /tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file\\n\\nGit Repo: no\\n\\nInstalled Runtimes:\\n- Python: Python 3.13.7\\n- Node.js: v25.2.1\\n- Go: go1.25.5\\n- Shell: bash (mvdan/sh)\\n\\nSystem Resources:\\n- Memory: 31Gi total, 23Gi available\\n- Disk: 16G total, 15G free\\n\\nTerminal: color, 80x24, interactive\\nNetwork: online\\nActive Services: \\n\\n## Nexora System Settings\\nNexora client system settings are stored in `~/.local/share/nexora`. This directory contains two important files:\\n\\n1. **`nexora.db`** - SQLite database containing session history, configuration settings, and conversation state\\n2. **`mcp.json`** - JSON configuration file for MCP (Model Context Protocol) settings and server configurations\\n\\nMCP-related files and configurations are stored in the `mcp.json` file, which defines available MCP servers and their connection parameters.\\n\\n\\n\\n\",\"role\":\"system\"},{\"content\":\"update the main.go file by changing the print to say hello from nexora\",\"role\":\"user\"},{\"tool_calls\":[{\"id\":\"call_RXqHhCvh9X2HqlGHFEbsuMdO\",\"function\":{\"arguments\":\"{\\\"path\\\": \\\"/tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file\\\", \\\"depth\\\": 2}\",\"name\":\"ls\"},\"type\":\"function\"}],\"role\":\"assistant\"},{\"content\":\"\\n- /tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/\\n  - go.mod\\n  - main.go\\n\",\"tool_call_id\":\"call_RXqHhCvh9X2HqlGHFEbsuMdO\",\"role\":\"tool\"},{\"tool_calls\":[{\"id\":\"call_QeTGogl9gZwYHMd6QV92K84W\",\"function\":{\"arguments\":\"{\\\"file_path\\\":\\\"/tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/main.go\\\"}\",\"name\":\"view\"},\"type\":\"function\"}],\"role\":\"assistant\"},{\"content\":\"<file>\\n     1|package main\\n     2|\\n     3|import \\\"fmt\\\"\\n     4|\\n     5|func main() {\\n     6|→\\tfmt.Println(\\\"Hello, World!\\\")\\n     7|}\\n     8|\\n</file>\\n\\n\\n\U0001F4C4 File: 0 KB — showing lines 1-8 of 8 total (default chunks: 100 lines)\",\"tool_call_id\":\"call_QeTGogl9gZwYHMd6QV92K84W\",\"role\":\"tool\"},{\"tool_calls\":[{\"id\":\"call_XNTbs69OfCxAWerklmAIEaVi\",\"function\":{\"arguments\":\"{\\\"file_path\\\":\\\"/tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/main.go\\\",\\\"old_string\\\":\\\"Hello, World!\\\",\\\"new_string\\\":\\\"hello from nexora\\\",\\\"ai_mode\\\":true}\",\"name\":\"edit\"},\"type\":\"function\"}],\"role\":\"assistant\"},{\"content\":\"<result>\\nContent replaced in file: /tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/main.go\\n</result>\\n\",\"tool_call_id\":\"call_XNTbs69OfCxAWerklmAIEaVi\",\"role\":\"tool\"},{\"tool_calls\":[{\"id\":\"call_2ISda0XH5ckQhxGHkJ9fbF9X\",\"function\":{\"arguments\":\"{\\\"file_path\\\":\\\"/tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/main.go\\\"}\",\"name\":\"view\"},\"type\":\"function\"}],\"role\":\"assistant\"},{\"content\":\"<file>\\n     1|package main\\n     2|\\n     3|import \\\"fmt\\\"\\n     4|hello from nexora\\n</file>\\n\\n\\n\U0001F4C4 File: 0 KB — showing lines 1-4 of 4 total (default chunks: 100 lines)\",\"tool_call_id\":\"call_2ISda0XH5ckQhxGHkJ9fbF9X\",\"role\":\"tool\"}],\"model\":\"gpt-5\",\"max_completion_tokens\":10000,\"stream_options\":{\"include_usage\":true},\"tool_choice\":\"auto\",\"tools\":[{\"function\":{\"name\":\"bash\",\"strict\":false,\"description\":\"Executes bash commands with automatic background conversion for long-running tasks.\\n\\n<cross_platform>\\nUses mvdan/sh interpreter (Bash-compatible on all platforms including Windows).\\nUse forward slashes for paths: \\\"ls C:/foo/bar\\\" not \\\"ls C:\\\\foo\\\\bar\\\".\\n</cross_platform>\\n\\n<execution_steps>\\n1. Directory Verification: Use LS tool to verify parent exists before creating files\\n2. Security Check: No restrictions - explain to user. Safe read-only commands execute without prompts\\n3. Command Execution: Execute with proper quoting, capture output\\n4. Auto-Background: Commands >1 minute automatically move to background, return shell ID\\n5. Output Processing: Truncate if exceeds 30000 characters\\n6. Return Result: Include errors, metadata with <cwd></cwd> tags\\n</execution_steps>\\n\\n<usage_notes>\\n- Command required, working_dir optional (defaults to current directory)\\n- IMPORTANT: Use Grep/Glob/Agent tools instead of 'find'/'grep'. Use View/LS instead of 'cat'/'head'/'tail'/'ls'\\n- Chain with ';' or '&&', avoid newlines except in quoted strings\\n- Each command runs in independent shell (no state persistence)\\n- Prefer absolute paths over 'cd'\\n</usage_notes>\\n\\n<background_execution>\\n- Set run_in_background=true for separate background shell\\n- Returns shell ID for management\\n- Use job_output tool to view output, job_kill to terminate\\n- NEVER use `&` at end of commands - use run_in_background parameter\\n- Background: Long servers (npm start, python -m http.server), watch tasks, continuous processes\\n- Foreground: Builds, tests, git ops, file ops, short scripts\\n</background_execution>\\n\\n<git_commits>\\nWhen user asks to create git commit:\\n\\n1. Run: git status, git diff, git log (single message, three tool_use blocks)\\n2. Add relevant untracked files to staging\\n3. Analyze in <commit_analysis> tags:\\n   - List changed files, summarize nature (feature/bug fix/refactor/docs)\\n   - Draft concise (1-2 sentences) focusing on \\\"why\\\" not \\\"what\\\"\\n   - Use accurate verbs: \\\"add\\\"=new feature, \\\"update\\\"=enhancement, \\\"fix\\\"=bug\\n4. Create commit with attribution:\\n   ```bash\\n   git commit -m \\\"$(cat &lt;&lt;'EOF'\\n   Commit message here.\\n\\n   \U0001F498 Generated with Crush\\n\\n\\n   Co-Authored-By: Crush <crush@charm.land>\\n\\n   EOF\\n   )\\\"\\n   ```\\n5. If pre-commit hook fails, retry ONCE. If succeeds but files modified, MUST amend.\\n6. Run git status to verify.\\n\\nNotes: Use \\\"git commit -am\\\" when possible, don't stage unrelated files, NEVER update config, don't push, no empty commits.\\n</git_commits>\\n\\n<pull_requests>\\nWhen user asks to create PR:\\n\\n1. Run: git status, git diff, check remote tracking, git log and 'git diff main...HEAD'\\n2. Create branch if needed, commit if needed, push with -u if needed\\n3. Analyze in <pr_analysis> tags:\\n   - List commits since main divergence\\n   - Summarize changes, purpose/motivation\\n   - Draft concise (1-2 bullets) focusing on \\\"why\\\"\\n4. Create PR:\\n   ```bash\\n   gh pr create --title \\\"title\\\" --body \\\"$(cat &lt;&lt;'EOF'\\n   ## Summary\\n   &lt;1-3 bullet points>\\n   \\n   ## Test plan\\n   [Checklist...]\\n\\n   \U0001F498 Generated with Crush\\n\\n   EOF\\n   )\\\"\\n   ```\\n\\nImportant: Return empty response, never update git config\\n</pull_requests>\\n\\n<examples>\\nGood: pytest /foo/bar/tests\\nBad: cd /foo/bar && pytest tests\\n</examples>\\n\",\"parameters\":{\"properties\":{\"command\":{\"description\":\"The command to execute\",\"type\":\"string\"},\"description\":{\"description\":\"A brief description of what the command does, try to keep it under 30 characters or so\",\"type\":\"string\"},\"run_in_background\":{\"description\":\"Set to true (boolean) to run this command in the background. Use job_output to read the output later.\",\"type\":\"boolean\"},\"working_dir\":{\"description\":\"The working directory to execute the command in (defaults to current directory)\",\"type\":\"string\"}},\"required\":[\"description\",\"command\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"download\",\"strict\":false,\"description\":\"Downloads binary data from URL and saves to local file.\\n\\n<usage>\\n- Provide URL to download from\\n- Specify local file path where content should be saved\\n- Optional timeout for request\\n</usage>\\n\\n<features>\\n- Downloads any file type (binary or text)\\n- Auto-creates parent directories if missing\\n- Handles large files efficiently with streaming\\n- Sets reasonable timeouts to prevent hanging\\n- Validates input parameters before requests\\n</features>\\n\\n<limitations>\\n- Max file size: 100MB\\n- Only supports HTTP and HTTPS protocols\\n- Cannot handle authentication or cookies\\n- Some websites may block automated requests\\n- Will overwrite existing files without warning\\n</limitations>\\n\\n<tips>\\n- Use absolute paths or paths relative to working directory\\n- Set appropriate timeouts for large files or slow connections\\n</tips>\\n\",\"parameters\":{\"properties\":{\"file_path\":{\"description\":\"The local file path where the downloaded content should be saved\",\"type\":\"string\"},\"timeout\":{\"description\":\"Optional timeout in seconds (max 600)\",\"type\":\"integer\"},\"url\":{\"description\":\"The URL to download from\",\"type\":\"string\"}},\"required\":[\"url\",\"file_path\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"edit\",\"strict\":false,\"description\":\"Edits files by replacing text, creating new files, or deleting content. For moving/renaming use Bash 'mv'. For large edits use Write tool.\\n\\n**Quick Decision Tree:**\\n1. **Know exact line numbers?** → Use `smart_edit` tool (100% reliable)\\n2. **Edit failed once?** → Use `write` tool immediately\\n3. **First time editing?** → Enable ai_mode=true\\n\\n<prerequisites>\\n1. **NEVER copy from view tool output** - has visual tab indicators (→\\t) causing failures\\n2. Use `sed -n 'START,ENDp' file` or `grep -A5 -B5 pattern file` for EXACT text\\n3. For new files: Use LS tool to verify parent directory exists\\n4. If you can't extract exact text, use `smart_edit` with line numbers\\n</prerequisites>\\n\\n<parameters>\\n1. file_path: Absolute path to file (required)\\n2. old_string: Text to replace (exact match including whitespace/indentation)\\n3. new_string: Replacement text\\n4. replace_all: Replace all occurrences (default false)\\n</parameters>\\n\\n<special_cases>\\n- Create file: provide file_path + new_string, leave old_string empty\\n- Delete content: provide file_path + old_string, leave new_string empty\\n</special_cases>\\n\\n<critical_requirements>\\n**EXACT MATCHING**: Text must match character-for-character\\n- Every space, tab, blank line, newline, indentation level\\n- Comment spacing (`// comment` vs `//comment`)\\n- Brace positioning (`func() {` vs `func(){`)\\n\\n**UNIQUENESS**: old_string MUST uniquely identify target (when replace_all=false)\\n- Include 3-5 lines context before/after change point\\n- If text appears multiple times, add more context or use replace_all=true\\n\\n**VERIFICATION BEFORE USING**:\\n1. View file and locate exact target\\n2. Check how many instances exist\\n3. Copy EXACT text including whitespace\\n4. Verify enough context for unique identification\\n5. Double-check indentation (count spaces/tabs)\\n</critical_requirements>\\n\\n<warnings>\\nTool fails if:\\n- old_string matches multiple locations and replace_all=false\\n- Whitespace doesn't match exactly\\n- Indentation off by even one space\\n- Missing or extra blank lines\\n</warnings>\\n\\n<recovery_steps>\\nIf \\\"old_string not found\\\":\\n\\n**\U0001F6D1 DON'T RETRY - Use alternatives:**\\n1. `smart_edit` with line numbers (100% reliable)\\n2. Extract exact text: `sed -n '10,20p' file`\\n3. Use `write` tool for full file replacement\\n\\n**❌ DON'T:**\\n- Retry with \\\"adjusted\\\" whitespace\\n- Copy from view output (has artifacts)\\n- Guess at whitespace\\n\\n**✅ DO:**\\n- Use `smart_edit` (line numbers)\\n- Use `sed -n 'X,Yp' file` for exact text\\n- Use `write` if edit fails once\\n</recovery_steps>\\n\\n<best_practices>\\n- View file first, match exact formatting\\n- Use absolute paths with forward slashes (/)\\n- Multiple edits to same file: send all in single message\\n- Include MORE context when uncertain\\n- Match existing code style exactly\\n</best_practices>\\n\\n<examples>\\n✅ **Correct**: Exact match with context\\n```\\nold_string: \\\"func ProcessData(input string) error {\\\\n    if input == \\\\\\\"\\\\\\\" {\\\\n        return errors.New(\\\\\\\"empty input\\\\\\\")\\\\n    }\\\\n    return nil\\\\n}\\\"\\nnew_string: \\\"func ProcessData(input string) error {\\\\n    if input == \\\\\\\"\\\\\\\" {\\\\n        return errors.New(\\\\\\\"empty input\\\\\\\")\\\\n    }\\\\n    if len(input) > 1000 {\\\\n        return errors.New(\\\\\\\"input too long\\\\\\\")\\\\n    }\\\\n    return nil\\\\n}\\\"\\n```\\n\\n❌ **Incorrect**: Not enough context\\n```\\nold_string: \\\"return nil\\\"  // Appears many times!\\n```\\n\\n❌ **Incorrect**: Wrong indentation\\n```\\nold_string: \\\"  if input == \\\\\\\"\\\\\\\" {\\\"  // 2 spaces\\n// File actually has: \\\"    if input == \\\\\\\"\\\\\\\" {\\\"  // 4 spaces\\n```\\n</examples>\\n\\n## AI Mode\\nUse `ai_mode=true` (default) for automatic fixes:\\n- Converts VIEW tool display tabs (`→\\\\t`) to real tabs (`\\\\t`)\\n- Expands minimal context automatically\\n- Enhanced error messages\\n- Lower failure rate on whitespace issues\\n\",\"parameters\":{\"properties\":{\"ai_mode\":{\"description\":\"Enable AI-optimized editing with automatic context expansion and improved error handling (DEFAULT: true)\",\"type\":\"boolean\"},\"file_path\":{\"description\":\"The absolute path to the file to modify\",\"type\":\"string\"},\"new_string\":{\"description\":\"The text to replace it with\",\"type\":\"string\"},\"old_string\":{\"description\":\"The text to replace\",\"type\":\"string\"},\"replace_all\":{\"description\":\"Replace all occurrences of old_string (default false)\",\"type\":\"boolean\"}},\"required\":[\"file_path\",\"old_string\",\"new_string\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"multiedit\",\"strict\":false,\"description\":\"Makes multiple edits to a single file in one operation. Built on Edit tool for efficient multiple find-and-replace. Prefer over Edit tool for multiple edits to same file.\\n\\n<prerequisites>\\n1. Use View tool to understand file contents\\n2. Verify directory path is correct\\n3. CRITICAL: Note exact whitespace, indentation from View output\\n</prerequisites>\\n\\n<parameters>\\n1. file_path: Absolute path to file (required)\\n2. edits: Array of edit objects (MUST be array, not string!):\\n   - old_string: Text to replace (exact match including whitespace)\\n   - new_string: Replacement text\\n   - replace_all: Replace all occurrences (optional, default false)\\n   \\n   ✅ CORRECT: `\\\"edits\\\": [{\\\"old_string\\\": \\\"text1\\\", \\\"new_string\\\": \\\"replace1\\\"}]`\\n   ❌ INCORRECT: `\\\"edits\\\": \\\"[{\\\\\\\"old_string\\\\\\\": \\\\\\\"text1\\\\\\\"}]\\\"` (string, not array)\\n</parameters>\\n\\n<operation>\\n- Edits applied sequentially in order\\n- Each edit operates on result of previous edit\\n- PARTIAL SUCCESS: Failed edits returned, successful edits kept\\n- File modified if at least one edit succeeds\\n</operation>\\n\\n<inherited_rules>\\n**All Edit tool rules apply to each edit:**\\n- See edit.md for critical requirements, warnings, recovery steps\\n- Exact matching for whitespace, indentation, blank lines\\n- Uniqueness requirements (3-5 lines context)\\n- Verification checklist before using\\n- Use ai_mode=true (default) for tab handling\\n</inherited_rules>\\n\\n<critical_requirements>\\n1. Apply Edit tool rules to EACH edit (see edit.md)\\n2. Edits applied in order; successful edits kept if later edits fail\\n3. Plan sequence: earlier edits change content that later edits must match\\n4. Ensure each old_string unique at application time (after prior edits)\\n5. Check response for failed edits, retry with corrections\\n</critical_requirements>\\n\\n<verification_before_using>\\n1. View file, copy exact text (including whitespace) for each target\\n2. Check instances of each old_string BEFORE sequence\\n3. Dry-run: after edit #N, will edit #N+1 still match?\\n4. Prefer fewer, larger context blocks over many tiny fragments\\n5. If edits independent, consider separate multiedit batches\\n</verification_before_using>\\n\\n<warnings>\\n- Check response for failed edits\\n- Earlier edits invalidate later matches (added/removed spaces, lines)\\n- Mixed tabs/spaces, trailing spaces cause failures\\n- replace_all may affect unintended regions\\n</warnings>\\n\\n<recovery_steps>\\nIf edits fail:\\n1. Check response metadata for failed edits with errors\\n2. View file to see current state after successful edits\\n3. Adjust failed edits based on new content\\n4. Retry with corrected old_string values\\n5. Break complex batches into smaller operations\\n</recovery_steps>\\n\\n<best_practices>\\n- Result in correct, idiomatic code\\n- Use absolute file paths (/)\\n- Use replace_all only when certain\\n- Match existing style exactly\\n- Review failed edits, retry with corrections\\n</best_practices>\\n\\n<examples>\\n✅ **Correct**: Sequential edits accounting for changes\\n```\\nedits: [\\n  {\\n    old_string: \\\"func A() {\\\\n    doOld()\\\\n}\\\",\\n    new_string: \\\"func A() {\\\\n    doNew()\\\\n}\\\",\\n  },\\n  {\\n    // Context exists AFTER first replacement\\n    old_string: \\\"func B() {\\\\n    callA()\\\\n}\\\",\\n    new_string: \\\"func B() {\\\\n    callA()\\\\n    logChange()\\\\n}\\\",\\n  },\\n]\\n```\\n\\n❌ **Incorrect**: Second old_string no longer matches\\n```\\nedits: [\\n  {\\n    old_string: \\\"func A() {\\\\n    doOld()\\\\n}\\\",\\n    new_string: \\\"func A() {\\\\n\\\\n    doNew()\\\\n}\\\", // Added blank line\\n  },\\n  {\\n    old_string: \\\"func A() {\\\\n    doNew()\\\\n}\\\", // Missing blank line - FAILS\\n    new_string: \\\"func A() {\\\\n    doNew()\\\\n    logChange()\\\\n}\\\",\\n  },\\n]\\n```\\n</examples>\\n\",\"parameters\":{\"properties\":{\"edits\":{\"description\":\"Array of edit operations to perform sequentially on the file\",\"items\":{\"properties\":{\"new_string\":{\"description\":\"The text to replace it with\",\"type\":\"string\"},\"old_string\":{\"description\":\"The text to replace\",\"type\":\"string\"},\"replace_all\":{\"description\":\"Replace all occurrences of old_string (default false).\",\"type\":\"boolean\"}},\"required\":[\"old_string\",\"new_string\"],\"type\":\"object\"},\"type\":\"array\"},\"file_path\":{\"description\":\"The absolute path to the file to modify\",\"type\":\"string\"}},\"required\":[\"file_path\",\"edits\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"fetch\",\"strict\":false,\"description\":\"Fetches raw content from URL and returns it in specified format without any AI processing.\\n\\n<when_to_use>\\nUse this tool when you need:\\n- Raw, unprocessed content from a URL\\n- Direct access to API responses or JSON data\\n- HTML/text/markdown content without interpretation\\n- Simple, fast content retrieval without analysis\\n- To save tokens by avoiding AI processing\\n\\nDO NOT use this tool when you need to:\\n- Extract specific information from a webpage (use agentic_fetch instead)\\n- Answer questions about web content (use agentic_fetch instead)\\n- Analyze or summarize web pages (use agentic_fetch instead)\\n</when_to_use>\\n\\n<usage>\\n- Provide URL to fetch content from\\n- Specify desired output format (text, markdown, or html)\\n- Optional timeout for request\\n</usage>\\n\\n<features>\\n- Supports three output formats: text, markdown, html\\n- Auto-handles HTTP redirects\\n- Fast and lightweight - no AI processing\\n- Sets reasonable timeouts to prevent hanging\\n- Validates input parameters before requests\\n</features>\\n\\n<limitations>\\n- Max response size: 5MB\\n- Only supports HTTP and HTTPS protocols\\n- Cannot handle authentication or cookies\\n- Some websites may block automated requests\\n- Returns raw content only - no analysis or extraction\\n</limitations>\\n\\n<tips>\\n- Use text format for plain text content or simple API responses\\n- Use markdown format for content that should be rendered with formatting\\n- Use html format when you need raw HTML structure\\n- Set appropriate timeouts for potentially slow websites\\n- If the user asks to analyze or extract from a page, use agentic_fetch instead\\n</tips>\\n\",\"parameters\":{\"properties\":{\"format\":{\"description\":\"The format to return the content in (text, markdown, or html)\",\"type\":\"string\"},\"timeout\":{\"description\":\"Optional timeout in seconds (max 120)\",\"type\":\"integer\"},\"url\":{\"description\":\"The URL to fetch content from\",\"type\":\"string\"}},\"required\":[\"url\",\"format\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"glob\",\"strict\":false,\"description\":\"Fast file pattern matching tool that finds files by name/pattern, returning paths sorted by modification time (newest first).\\n\\n<usage>\\n- Provide glob pattern to match against file paths\\n- Optional starting directory (defaults to current working directory)\\n- Results sorted with most recently modified files first\\n</usage>\\n\\n<pattern_syntax>\\n- '\\\\*' matches any sequence of non-separator characters\\n- '\\\\*\\\\*' matches any sequence including separators\\n- '?' matches any single non-separator character\\n- '[...]' matches any character in brackets\\n- '[!...]' matches any character not in brackets\\n</pattern_syntax>\\n\\n<examples>\\n- '*.js' - JavaScript files in current directory\\n- '**/*.js' - JavaScript files in any subdirectory\\n- 'src/**/*.{ts,tsx}' - TypeScript files in src directory\\n- '*.{html,css,js}' - HTML, CSS, and JS files\\n</examples>\\n\\n<limitations>\\n- Results limited to 100 files (newest first)\\n- Does not search file contents (use Grep for that)\\n- Hidden files (starting with '.') skipped\\n</limitations>\\n\\n<cross_platform>\\n- Path separators handled automatically (/ and \\\\ work)\\n- Uses ripgrep (rg) if available, otherwise Go implementation\\n- Patterns should use forward slashes (/) for compatibility\\n</cross_platform>\\n\\n<tips>\\n- Combine with Grep: find files with Glob, search contents with Grep\\n- For iterative exploration requiring multiple searches, consider Agent tool\\n- Check if results truncated and refine pattern if needed\\n</tips>\\n\",\"parameters\":{\"properties\":{\"path\":{\"description\":\"The directory to search in. Defaults to the current working directory.\",\"type\":\"string\"},\"pattern\":{\"description\":\"The glob pattern to match files against\",\"type\":\"string\"}},\"required\":[\"pattern\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"grep\",\"strict\":false,\"description\":\"Fast content search tool that finds files containing specific text/patterns, returning matching paths sorted by modification time (newest first).\\n\\n<usage>\\n- Provide regex pattern to search within file contents\\n- Set literal_text=true for exact text with special characters (recommended for non-regex users)\\n- Optional starting directory (defaults to current working directory)\\n- Optional include pattern to filter which files to search\\n- Results sorted with most recently modified files first\\n</usage>\\n\\n<regex_syntax>\\nWhen literal_text=false (supports standard regex):\\n\\n- 'function' searches for literal text \\\"function\\\"\\n- 'log\\\\..\\\\*Error' finds text starting with \\\"log.\\\" and ending with \\\"Error\\\"\\n- 'import\\\\s+.\\\\*\\\\s+from' finds import statements in JavaScript/TypeScript\\n</regex_syntax>\\n\\n<include_patterns>\\n- '\\\\*.js' - Only search JavaScript files\\n- '\\\\*.{ts,tsx}' - Only search TypeScript files\\n- '\\\\*.go' - Only search Go files\\n</include_patterns>\\n\\n<limitations>\\n- Results limited to 100 files (newest first)\\n- Performance depends on number of files searched\\n- Very large binary files may be skipped\\n- Hidden files (starting with '.') skipped\\n</limitations>\\n\\n<ignore_support>\\n- Respects .gitignore patterns to skip ignored files/directories\\n- Respects .nexoraignore patterns for additional ignore rules\\n- Both ignore files auto-detected in search root directory\\n</ignore_support>\\n\\n<cross_platform>\\n- Uses ripgrep (rg) if available for better performance\\n- Falls back to Go implementation if ripgrep unavailable\\n- File paths normalized automatically for compatibility\\n</cross_platform>\\n\\n<tips>\\n- For faster searches: use Glob to find relevant files first, then Grep\\n- For iterative exploration requiring multiple searches, consider Agent tool\\n- Check if results truncated and refine search pattern if needed\\n- Use literal_text=true for exact text with special characters (dots, parentheses, etc.)\\n</tips>\\n\",\"parameters\":{\"properties\":{\"include\":{\"description\":\"File pattern to include in the search (e.g. \\\"*.js\\\", \\\"*.{ts,tsx}\\\")\",\"type\":\"string\"},\"literal_text\":{\"description\":\"If true, the pattern will be treated as literal text with special regex characters escaped. Default is false.\",\"type\":\"boolean\"},\"path\":{\"description\":\"The directory to search in. Defaults to the current working directory.\",\"type\":\"string\"},\"pattern\":{\"description\":\"The regex pattern to search for in file contents\",\"type\":\"string\"}},\"required\":[\"pattern\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"ls\",\"strict\":false,\"description\":\"Shows files and subdirectories in tree structure for exploring project organization.\\n\\n<usage>\\n- Provide path to list (defaults to current working directory)\\n- Optional glob patterns to ignore\\n- Results displayed in tree structure\\n</usage>\\n\\n<features>\\n- Hierarchical view of files and directories\\n- Auto-skips hidden files/directories (starting with '.')\\n- Skips common system directories like __pycache__\\n- Can filter files matching specific patterns\\n</features>\\n\\n<limitations>\\n- Results limited to 1000 files\\n- Large directories truncated\\n- No file sizes or permissions shown\\n- Cannot recursively list all directories in large projects\\n</limitations>\\n\\n<cross_platform>\\n- Hidden file detection uses Unix convention (files starting with '.')\\n- Windows hidden files (with hidden attribute) not auto-skipped\\n- Common Windows directories (System32, Program Files) not in default ignore\\n- Path separators handled automatically (/ and \\\\ work)\\n</cross_platform>\\n\\n<tips>\\n- Use Glob for finding files by name patterns instead of browsing\\n- Use Grep for searching file contents\\n- Combine with other tools for effective exploration\\n</tips>\\n\",\"parameters\":{\"properties\":{\"depth\":{\"description\":\"The maximum depth to traverse\",\"type\":\"integer\"},\"ignore\":{\"description\":\"List of glob patterns to ignore\",\"items\":{\"type\":\"string\"},\"type\":\"array\"},\"path\":{\"description\":\"The path to the directory to list (defaults to current working directory)\",\"type\":\"string\"}},\"required\":[],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"sourcegraph\",\"strict\":false,\"description\":\"Search code across public repositories using Sourcegraph's GraphQL API.\\n\\n<usage>\\n- Provide search query using Sourcegraph syntax\\n- Optional result count (default: 10, max: 20)\\n- Optional timeout for request\\n</usage>\\n\\n<basic_syntax>\\n- \\\"fmt.Println\\\" - exact matches\\n- \\\"file:.go fmt.Println\\\" - limit to Go files\\n- \\\"repo:^github\\\\.com/golang/go$ fmt.Println\\\" - specific repos\\n- \\\"lang:go fmt.Println\\\" - limit to Go code\\n- \\\"fmt.Println AND log.Fatal\\\" - combined terms\\n- \\\"fmt\\\\.(Print|Printf|Println)\\\" - regex patterns\\n- \\\"\\\\\\\"exact phrase\\\\\\\"\\\" - exact phrase matching\\n- \\\"-file:test\\\" or \\\"-repo:forks\\\" - exclude matches\\n</basic_syntax>\\n\\n<key_filters>\\nRepository: repo:name, repo:^exact$, repo:org/repo@branch, -repo:exclude, fork:yes, archived:yes, visibility:public\\nFile: file:\\\\.js$, file:internal/, -file:test, file:has.content(text)\\nContent: content:\\\"exact\\\", -content:\\\"unwanted\\\", case:yes\\nType: type:symbol, type:file, type:path, type:diff, type:commit\\nTime: after:\\\"1 month ago\\\", before:\\\"2023-01-01\\\", author:name, message:\\\"fix\\\"\\nResult: select:repo, select:file, select:content, count:100, timeout:30s\\n</key_filters>\\n\\n<examples>\\n- \\\"file:.go context.WithTimeout\\\" - Go code using context.WithTimeout\\n- \\\"lang:typescript useState type:symbol\\\" - TypeScript React useState hooks\\n- \\\"repo:^github\\\\.com/kubernetes/kubernetes$ pod list type:file\\\" - Kubernetes pod files\\n- \\\"file:Dockerfile (alpine OR ubuntu) -content:alpine:latest\\\" - Dockerfiles with base images\\n</examples>\\n\\n<boolean_operators>\\n- \\\"term1 AND term2\\\" - both terms\\n- \\\"term1 OR term2\\\" - either term\\n- \\\"term1 NOT term2\\\" - term1 but not term2\\n- \\\"term1 and (term2 or term3)\\\" - grouping with parentheses\\n</boolean_operators>\\n\\n<limitations>\\n- Only searches public repositories\\n- Rate limits may apply\\n- Complex queries take longer\\n- Max 20 results per query\\n</limitations>\\n\\n<tips>\\n- Use specific file extensions to narrow results\\n- Add repo: filters for targeted searches\\n- Use type:symbol for function/method definitions\\n- Use type:file to find relevant files\\n</tips>\\n\",\"parameters\":{\"properties\":{\"context_window\":{\"description\":\"The context around the match to return (default: 10 lines)\",\"type\":\"integer\"},\"count\":{\"description\":\"Optional number of results to return (default: 10, max: 20)\",\"type\":\"integer\"},\"query\":{\"description\":\"The Sourcegraph search query\",\"type\":\"string\"},\"timeout\":{\"description\":\"Optional timeout in seconds (max 120)\",\"type\":\"integer\"}},\"required\":[\"query\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"view\",\"strict\":false,\"description\":\"Reads and displays file contents with line numbers for examining code, logs, or text data.\\n\\n<usage>\\n- Provide file path to read\\n- Optional offset: start reading from specific line (0-based)\\n- Optional limit: control lines read (default 100)\\n- Don't use for directories (use LS tool instead)\\n- Supports image files (PNG, JPEG, GIF, BMP, SVG, WebP)\\n</usage>\\n\\n<features>\\n- Displays contents with line numbers\\n- Can read from any file position using offset\\n- Handles large files by limiting lines read\\n- Auto-truncates very long lines for display\\n- Suggests similar filenames when file not found\\n- Renders image files directly in terminal\\n</features>\\n\\n<limitations>\\n- Max file size: 5MB\\n- Default limit: 100 lines (reduced to prevent context window issues)\\n- Lines >2000 chars truncated\\n- Binary files (except images) cannot be displayed\\n</limitations>\\n\\n<cross_platform>\\n- Handles Windows (CRLF) and Unix (LF) line endings\\n- Works with forward slashes (/) and backslashes (\\\\)\\n- Auto-detects text encoding for common formats\\n</cross_platform>\\n\\n<tips>\\n- Use with Glob to find files first\\n- For code exploration: Grep to find relevant files, then View to examine\\n- For large files: use offset and limit parameters for specific sections\\n- The tool uses smaller chunks (100 lines default) to manage context window efficiently\\n- For very large files, consider using 'head' or 'tail' commands via bash tool\\n- View tool automatically detects and renders image files\\n</tips>\\n\",\"parameters\":{\"properties\":{\"file_path\":{\"description\":\"The path to the file to read\",\"type\":\"string\"},\"limit\":{\"description\":\"The number of lines to read (defaults to 2000)\",\"type\":\"integer\"},\"offset\":{\"description\":\"The line number to start reading from (0-based)\",\"type\":\"integer\"}},\"required\":[\"file_path\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"write\",\"strict\":false,\"description\":\"Creates or updates files in filesystem for saving/modifying text content.\\n\\n<usage>\\n- Provide file path to write\\n- Include content to write to file\\n- Tool creates necessary parent directories automatically\\n</usage>\\n\\n<features>\\n- Creates new files or overwrites existing ones\\n- Auto-creates parent directories if missing\\n- Checks if file modified since last read for safety\\n- Avoids unnecessary writes when content unchanged\\n</features>\\n\\n<limitations>\\n- Read file before writing to avoid conflicts\\n- Cannot append (rewrites entire file)\\n</limitations>\\n\\n<cross_platform>\\n- Use forward slashes (/) for compatibility\\n</cross_platform>\\n\\n<tips>\\n- Use View tool first to examine existing files before modifying\\n- Use LS tool to verify location when creating new files\\n- Combine with Glob/Grep to find and modify multiple files\\n- Include descriptive comments when changing existing code\\n</tips>\\n\",\"parameters\":{\"properties\":{\"content\":{\"description\":\"The content to write to the file\",\"type\":\"string\"},\"file_path\":{\"description\":\"The path to the file to write\",\"type\":\"string\"}},\"required\":[\"file_path\",\"content\"],\"type\":\"object\"}},\"type\":\"function\"}],\"stream\":true}"
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - OpenAI/Go 2.7.1
    url: https://api.openai.com/v1/chat/completions
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: -1
    body: |+
      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_BVGQVsn4rsVJR9t82eKkBISV","type":"function","function":{"name":"write","arguments":""}}],"refusal":null},"finish_reason":null}],"usage":null,"obfuscation":"bJCse3V7W9x"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"{\""}}]},"finish_reason":null}],"usage":null,"obfuscation":"2QJo0Rvi06eKbRn"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"file"}}]},"finish_reason":null}],"usage":null,"obfuscation":"OX1GubROYMFF6K"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"_path"}}]},"finish_reason":null}],"usage":null,"obfuscation":"9m6o9j4r0RdRh"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\":"}}]},"finish_reason":null}],"usage":null,"obfuscation":"OAyHzZV4ySWk2sa"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\"/"}}]},"finish_reason":null}],"usage":null,"obfuscation":"YmpE8NiHLM1seAU"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"tmp"}}]},"finish_reason":null}],"usage":null,"obfuscation":"bXWtnZFNABjm858"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/n"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"ex"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"ora"}}]},"finish_reason":null}],"usage":null,"obfuscation":"JdV6eGOMZLOx4u0"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"-test"}}]},"finish_reason":null}],"usage":null,"obfuscation":"eLRh6ntGO11Gq"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/Test"}}]},"finish_reason":null}],"usage":null,"obfuscation":"uAZgqtjCwEsna"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"Coder"}}]},"finish_reason":null}],"usage":null,"obfuscation":"PQfGbrVmZQ3oV"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"Agent"}}]},"finish_reason":null}],"usage":null,"obfuscation":"uvidoja3bey15"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/open"}}]},"finish_reason":null}],"usage":null,"obfuscation":"MrmRaYCn2ZwWF"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"ai"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"-g"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"pt"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"-"}}]},"finish_reason":null}],"usage":null,"obfuscation":"K"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"5"}}]},"finish_reason":null}],"usage":null,"obfuscation":"M"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/update"}}]},"finish_reason":null}],"usage":null,"obfuscation":"BMo6tZuf4wd"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"_a"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"_file"}}]},"finish_reason":null}],"usage":null,"obfuscation":"8AEGnbybcYTXh"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/main"}}]},"finish_reason":null}],"usage":null,"obfuscation":"OlcPJHT2qjw9C"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":".go"}}]},"finish_reason":null}],"usage":null,"obfuscation":"jWY9Qi6UAQtkNwH"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\",\""}}]},"finish_reason":null}],"usage":null,"obfuscation":"wV2q4xYKfLNG2"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"content"}}]},"finish_reason":null}],"usage":null,"obfuscation":"zmKFyUFKzYP"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\":\""}}]},"finish_reason":null}],"usage":null,"obfuscation":"AaIHEZVkhhIjf"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"package"}}]},"finish_reason":null}],"usage":null,"obfuscation":"w88bCBIpZUE"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":" main"}}]},"finish_reason":null}],"usage":null,"obfuscation":"0H2FMObL52GJq"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\\n"}}]},"finish_reason":null}],"usage":null,"obfuscation":"BtSEBdm0OSV3PLO"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\\n"}}]},"finish_reason":null}],"usage":null,"obfuscation":"i1kKolBQiTQV3k7"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"import"}}]},"finish_reason":null}],"usage":null,"obfuscation":"NLvHq0eCTuxq"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":" \\\""}}]},"finish_reason":null}],"usage":null,"obfuscation":"KObJVQ8wu27Ow"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"fmt"}}]},"finish_reason":null}],"usage":null,"obfuscation":"nZtDKHpC8vAC07K"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\\\"\\"}}]},"finish_reason":null}],"usage":null,"obfuscation":"jTPdgeyeZn7Y"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"n"}}]},"finish_reason":null}],"usage":null,"obfuscation":"d"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\\n"}}]},"finish_reason":null}],"usage":null,"obfuscation":"VYvECpRhDcQYSkn"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"func"}}]},"finish_reason":null}],"usage":null,"obfuscation":"5p9WGSygrrKTPZ"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":" main"}}]},"finish_reason":null}],"usage":null,"obfuscation":"jMG4XlErAj6FD"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"()"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":" {\\"}}]},"finish_reason":null}],"usage":null,"obfuscation":"sDO9CCSDtRPfHu"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"n"}}]},"finish_reason":null}],"usage":null,"obfuscation":"4"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\\t"}}]},"finish_reason":null}],"usage":null,"obfuscation":"sXw9zZbpHQCYtK4"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"fmt"}}]},"finish_reason":null}],"usage":null,"obfuscation":"2uQuFNRkDajetaj"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":".Println"}}]},"finish_reason":null}],"usage":null,"obfuscation":"Qv3cwNz0UI"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"(\\\""}}]},"finish_reason":null}],"usage":null,"obfuscation":"R5zFasCO5t1WO"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"hello"}}]},"finish_reason":null}],"usage":null,"obfuscation":"EEBc2HUjAqpRc"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":" from"}}]},"finish_reason":null}],"usage":null,"obfuscation":"sRUklfR2lIIcJ"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":" nex"}}]},"finish_reason":null}],"usage":null,"obfuscation":"cExwAqYm6oYhxk"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"ora"}}]},"finish_reason":null}],"usage":null,"obfuscation":"bbYTN8KTxHYoRkR"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\\\")"}}]},"finish_reason":null}],"usage":null,"obfuscation":"Qd23TcHnoiy0T"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\\"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"n"}}]},"finish_reason":null}],"usage":null,"obfuscation":"X"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"}\\"}}]},"finish_reason":null}],"usage":null,"obfuscation":"vApTrEv9o5ax8KB"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"n"}}]},"finish_reason":null}],"usage":null,"obfuscation":"P"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\"}"}}]},"finish_reason":null}],"usage":null,"obfuscation":"poDJ3xVbe8Kuo9r"}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{},"finish_reason":"tool_calls"}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6YLm4Hmo4v3Daeym3OsLD7ekFiS","object":"chat.completion.chunk","created":1766772609,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[],"usage":{"prompt_tokens":8052,"completion_tokens":649,"total_tokens":8701,"prompt_tokens_details":{"cached_tokens":7936,"audio_tokens":0},"completion_tokens_details":{"reasoning_tokens":576,"audio_tokens":0,"accepted_prediction_tokens":0,"rejected_prediction_tokens":0}},"obfuscation":"r"}

      data: [DONE]

    headers:
      Content-Type:
      - text/event-stream; charset=utf-8
    status: 200 OK
    code: 200
    duration: 6.773882722s
- id: 6
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 36085
    host: ""
    body: "{\"messages\":[{\"content\":\"## CRITICAL: TOOL CALL FORMAT (READ THIS FIRST)\\n**ALWAYS use EXACT OpenAI JSON format for tools. NEVER use &lt;tool_call&gt; tags:**\\n\\n```\\n{\\n  \\\"tool_calls\\\": [{\\n    \\\"id\\\": \\\"call_abc123\\\",\\n    \\\"type\\\": \\\"function\\\",\\n    \\\"function\\\": {\\n      \\\"name\\\": \\\"view\\\",\\n      \\\"arguments\\\": \\\"{\\\\\\\"file_path\\\\\\\":\\\\\\\"/home/nexora/todo.md\\\\\\\"}\\\"\\n    }\\n  }]\\n}\\n```\\n\\n**Penalty for wrong format: Your response will be ignored!**\\n\\n## Core Rules\\n1. **Read before editing** - Always view files first, match exact formatting\\n2. **Be autonomous** - Search, decide, act without asking. Break complex tasks into steps.\\n3. **Infer intent** - Don't be literal. If a file isn't found, search for similar names (case variations, typos). If a task seems incomplete, complete it fully.\\n4. **Test changes** - Run tests immediately after modifications\\n5. **Be concise** - Keep responses under 4 lines unless explaining complex changes\\n6. **Exact matches** - Whitespace, indentation, line breaks must match perfectly for edits\\n7. **Never commit** - Unless explicitly asked\\n8. **Security first** - Only assist with defensive security tasks\\n\\n## Inference Examples\\n- User says \\\"read TODO.md\\\" but it doesn't exist → Search for `todo.md`, `TODO`, `Todo.md`\\n- User says \\\"fix the bug\\\" → Search for error patterns, recent changes, test failures\\n- User says \\\"add tests\\\" → Look at existing test patterns, create comprehensive tests\\n- File not found → Try case variations, partial matches, ask glob/grep to find it\\n\\n## Workflow\\n**Before acting**: Search → Read files → Identify changes → Edit → Test\\n**While acting**: Read entire file first, use exact text, include 3-5 lines context, test after each change\\n**Before finishing**: Verify task complete, run tests, keep response concise\\n\\n## Editing Files\\n**Critical Requirements**:\\n- Exact character-by-character matching\\n- Include 3-5 surrounding lines for reliable context\\n- Verify uniqueness (or use replace_all=true)\\n\\n**Understanding the 100 Line Limitation**:\\n- `view` tool shows 100 lines at a time: \\\"showing lines 1-100 of 200 total\\\"\\n- Use `view` with `offset` parameter: `view file_path=\\\"/path\\\" offset=100`\\n- Your edits MUST exist in the file, not just in visible 100-line chunk\\n\\n**Common Failures**:\\n- Wrong indentation: 2 spaces vs 4 spaces\\n- Missing blank lines: 1 newline vs 2 newlines\\n- Comment spacing: \\\"// comment\\\" vs \\\"//comment\\\"\\n\\n**Tab/Display Issues**:\\n- VIEW shows tabs as `→\\t\\\\t` but EDIT needs actual `\\\\t`\\n- Always use `ai_mode=true` (default) to auto-fix this\\n\\n**Recovery Steps**:\\n1. View file with more context\\n2. Use `offset` if target outside current window\\n3. Use `grep -n \\\"pattern\\\" file` to find line numbers\\n4. Fallback: Use `write` tool for full file replacement\\n\\n## Tools\\n\\n### Available Tools\\n- `view`: Read files with line numbers (100 lines at a time - use offset!)\\n- `edit`: Replace text exactly (whitespace-sensitive, ai_mode=true by default)\\n- `bash`: Execute commands\\n- `grep`: Search file contents\\n- `glob`: Find files by pattern\\n- `write`: Create/update entire files\\n\\n### When to use each\\n- **View**: Always first to understand file contents\\n- **Edit**: For precise, targeted changes\\n- **Write**: When exact matching fails or for large changes\\n- **Bash**: For command execution\\n- **Grep**: For finding text in files\\n- **Glob**: For finding files by name pattern\\n\\n### When something fails\\n- **File not found in view** → Use `offset=100`, `offset=200` to navigate\\n- **Edit fails** → View file again, copy exact text, use `write` as fallback\\n- **Command fails** → Read error, try alternative approach\\n- **Pattern not visible** → Use `grep` to find line numbers, then view with offset\\n\\n## Testing\\n- Run relevant tests after every change\\n- Fix failures immediately\\n- Never leave code in broken state\\n\\n## Decision Making\\n**Be proactive**: Don't just report problems, solve them.\\n**Autonomous decisions**: Search for answers, read patterns, make reasonable assumptions\\n**Only ask user if**: Truly ambiguous requirements, potential data loss, or actually blocked after trying alternatives\\n\\n## Error Handling\\n1. Read complete error message\\n2. Understand root cause\\n3. Try different approach (don't repeat same failure)\\n4. Search for similar working code\\n5. Make targeted fix\\n6. Test to verify\\n\\n## Project Specifics\\n\\n\\n\\n## Environment\\nDate/Time: 2025-01-01 00:00:00 UTC\\nOS: linux (amd64)\\nCurrent User: agent\\nWorking Directory: /tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file\\n\\nGit Repo: no\\n\\nInstalled Runtimes:\\n- Python: Python 3.13.7\\n- Node.js: v25.2.1\\n- Go: go1.25.5\\n- Shell: bash (mvdan/sh)\\n\\nSystem Resources:\\n- Memory: 31Gi total, 23Gi available\\n- Disk: 16G total, 15G free\\n\\nTerminal: color, 80x24, interactive\\nNetwork: online\\nActive Services: \\n\\n## Nexora System Settings\\nNexora client system settings are stored in `~/.local/share/nexora`. This directory contains two important files:\\n\\n1. **`nexora.db`** - SQLite database containing session history, configuration settings, and conversation state\\n2. **`mcp.json`** - JSON configuration file for MCP (Model Context Protocol) settings and server configurations\\n\\nMCP-related files and configurations are stored in the `mcp.json` file, which defines available MCP servers and their connection parameters.\\n\\n\\n\\n\",\"role\":\"system\"},{\"content\":\"update the main.go file by changing the print to say hello from nexora\",\"role\":\"user\"},{\"tool_calls\":[{\"id\":\"call_RXqHhCvh9X2HqlGHFEbsuMdO\",\"function\":{\"arguments\":\"{\\\"path\\\": \\\"/tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file\\\", \\\"depth\\\": 2}\",\"name\":\"ls\"},\"type\":\"function\"}],\"role\":\"assistant\"},{\"content\":\"\\n- /tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/\\n  - go.mod\\n  - main.go\\n\",\"tool_call_id\":\"call_RXqHhCvh9X2HqlGHFEbsuMdO\",\"role\":\"tool\"},{\"tool_calls\":[{\"id\":\"call_QeTGogl9gZwYHMd6QV92K84W\",\"function\":{\"arguments\":\"{\\\"file_path\\\":\\\"/tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/main.go\\\"}\",\"name\":\"view\"},\"type\":\"function\"}],\"role\":\"assistant\"},{\"content\":\"<file>\\n     1|package main\\n     2|\\n     3|import \\\"fmt\\\"\\n     4|\\n     5|func main() {\\n     6|→\\tfmt.Println(\\\"Hello, World!\\\")\\n     7|}\\n     8|\\n</file>\\n\\n\\n\U0001F4C4 File: 0 KB — showing lines 1-8 of 8 total (default chunks: 100 lines)\",\"tool_call_id\":\"call_QeTGogl9gZwYHMd6QV92K84W\",\"role\":\"tool\"},{\"tool_calls\":[{\"id\":\"call_XNTbs69OfCxAWerklmAIEaVi\",\"function\":{\"arguments\":\"{\\\"file_path\\\":\\\"/tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/main.go\\\",\\\"old_string\\\":\\\"Hello, World!\\\",\\\"new_string\\\":\\\"hello from nexora\\\",\\\"ai_mode\\\":true}\",\"name\":\"edit\"},\"type\":\"function\"}],\"role\":\"assistant\"},{\"content\":\"<result>\\nContent replaced in file: /tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/main.go\\n</result>\\n\",\"tool_call_id\":\"call_XNTbs69OfCxAWerklmAIEaVi\",\"role\":\"tool\"},{\"tool_calls\":[{\"id\":\"call_2ISda0XH5ckQhxGHkJ9fbF9X\",\"function\":{\"arguments\":\"{\\\"file_path\\\":\\\"/tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/main.go\\\"}\",\"name\":\"view\"},\"type\":\"function\"}],\"role\":\"assistant\"},{\"content\":\"<file>\\n     1|package main\\n     2|\\n     3|import \\\"fmt\\\"\\n     4|hello from nexora\\n</file>\\n\\n\\n\U0001F4C4 File: 0 KB — showing lines 1-4 of 4 total (default chunks: 100 lines)\",\"tool_call_id\":\"call_2ISda0XH5ckQhxGHkJ9fbF9X\",\"role\":\"tool\"},{\"tool_calls\":[{\"id\":\"call_BVGQVsn4rsVJR9t82eKkBISV\",\"function\":{\"arguments\":\"{\\\"file_path\\\":\\\"/tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/main.go\\\",\\\"content\\\":\\\"package main\\\\n\\\\nimport \\\\\\\"fmt\\\\\\\"\\\\n\\\\nfunc main() {\\\\n\\\\tfmt.Println(\\\\\\\"hello from nexora\\\\\\\")\\\\n}\\\\n\\\"}\",\"name\":\"write\"},\"type\":\"function\"}],\"role\":\"assistant\"},{\"content\":\"<result>\\nFile successfully written: /tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/main.go\\n</result>\",\"tool_call_id\":\"call_BVGQVsn4rsVJR9t82eKkBISV\",\"role\":\"tool\"}],\"model\":\"gpt-5\",\"max_completion_tokens\":10000,\"stream_options\":{\"include_usage\":true},\"tool_choice\":\"auto\",\"tools\":[{\"function\":{\"name\":\"bash\",\"strict\":false,\"description\":\"Executes bash commands with automatic background conversion for long-running tasks.\\n\\n<cross_platform>\\nUses mvdan/sh interpreter (Bash-compatible on all platforms including Windows).\\nUse forward slashes for paths: \\\"ls C:/foo/bar\\\" not \\\"ls C:\\\\foo\\\\bar\\\".\\n</cross_platform>\\n\\n<execution_steps>\\n1. Directory Verification: Use LS tool to verify parent exists before creating files\\n2. Security Check: No restrictions - explain to user. Safe read-only commands execute without prompts\\n3. Command Execution: Execute with proper quoting, capture output\\n4. Auto-Background: Commands >1 minute automatically move to background, return shell ID\\n5. Output Processing: Truncate if exceeds 30000 characters\\n6. Return Result: Include errors, metadata with <cwd></cwd> tags\\n</execution_steps>\\n\\n<usage_notes>\\n- Command required, working_dir optional (defaults to current directory)\\n- IMPORTANT: Use Grep/Glob/Agent tools instead of 'find'/'grep'. Use View/LS instead of 'cat'/'head'/'tail'/'ls'\\n- Chain with ';' or '&&', avoid newlines except in quoted strings\\n- Each command runs in independent shell (no state persistence)\\n- Prefer absolute paths over 'cd'\\n</usage_notes>\\n\\n<background_execution>\\n- Set run_in_background=true for separate background shell\\n- Returns shell ID for management\\n- Use job_output tool to view output, job_kill to terminate\\n- NEVER use `&` at end of commands - use run_in_background parameter\\n- Background: Long servers (npm start, python -m http.server), watch tasks, continuous processes\\n- Foreground: Builds, tests, git ops, file ops, short scripts\\n</background_execution>\\n\\n<git_commits>\\nWhen user asks to create git commit:\\n\\n1. Run: git status, git diff, git log (single message, three tool_use blocks)\\n2. Add relevant untracked files to staging\\n3. Analyze in <commit_analysis> tags:\\n   - List changed files, summarize nature (feature/bug fix/refactor/docs)\\n   - Draft concise (1-2 sentences) focusing on \\\"why\\\" not \\\"what\\\"\\n   - Use accurate verbs: \\\"add\\\"=new feature, \\\"update\\\"=enhancement, \\\"fix\\\"=bug\\n4. Create commit with attribution:\\n   ```bash\\n   git commit -m \\\"$(cat &lt;&lt;'EOF'\\n   Commit message here.\\n\\n   \U0001F498 Generated with Crush\\n\\n\\n   Co-Authored-By: Crush <crush@charm.land>\\n\\n   EOF\\n   )\\\"\\n   ```\\n5. If pre-commit hook fails, retry ONCE. If succeeds but files modified, MUST amend.\\n6. Run git status to verify.\\n\\nNotes: Use \\\"git commit -am\\\" when possible, don't stage unrelated files, NEVER update config, don't push, no empty commits.\\n</git_commits>\\n\\n<pull_requests>\\nWhen user asks to create PR:\\n\\n1. Run: git status, git diff, check remote tracking, git log and 'git diff main...HEAD'\\n2. Create branch if needed, commit if needed, push with -u if needed\\n3. Analyze in <pr_analysis> tags:\\n   - List commits since main divergence\\n   - Summarize changes, purpose/motivation\\n   - Draft concise (1-2 bullets) focusing on \\\"why\\\"\\n4. Create PR:\\n   ```bash\\n   gh pr create --title \\\"title\\\" --body \\\"$(cat &lt;&lt;'EOF'\\n   ## Summary\\n   &lt;1-3 bullet points>\\n   \\n   ## Test plan\\n   [Checklist...]\\n\\n   \U0001F498 Generated with Crush\\n\\n   EOF\\n   )\\\"\\n   ```\\n\\nImportant: Return empty response, never update git config\\n</pull_requests>\\n\\n<examples>\\nGood: pytest /foo/bar/tests\\nBad: cd /foo/bar && pytest tests\\n</examples>\\n\",\"parameters\":{\"properties\":{\"command\":{\"description\":\"The command to execute\",\"type\":\"string\"},\"description\":{\"description\":\"A brief description of what the command does, try to keep it under 30 characters or so\",\"type\":\"string\"},\"run_in_background\":{\"description\":\"Set to true (boolean) to run this command in the background. Use job_output to read the output later.\",\"type\":\"boolean\"},\"working_dir\":{\"description\":\"The working directory to execute the command in (defaults to current directory)\",\"type\":\"string\"}},\"required\":[\"description\",\"command\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"download\",\"strict\":false,\"description\":\"Downloads binary data from URL and saves to local file.\\n\\n<usage>\\n- Provide URL to download from\\n- Specify local file path where content should be saved\\n- Optional timeout for request\\n</usage>\\n\\n<features>\\n- Downloads any file type (binary or text)\\n- Auto-creates parent directories if missing\\n- Handles large files efficiently with streaming\\n- Sets reasonable timeouts to prevent hanging\\n- Validates input parameters before requests\\n</features>\\n\\n<limitations>\\n- Max file size: 100MB\\n- Only supports HTTP and HTTPS protocols\\n- Cannot handle authentication or cookies\\n- Some websites may block automated requests\\n- Will overwrite existing files without warning\\n</limitations>\\n\\n<tips>\\n- Use absolute paths or paths relative to working directory\\n- Set appropriate timeouts for large files or slow connections\\n</tips>\\n\",\"parameters\":{\"properties\":{\"file_path\":{\"description\":\"The local file path where the downloaded content should be saved\",\"type\":\"string\"},\"timeout\":{\"description\":\"Optional timeout in seconds (max 600)\",\"type\":\"integer\"},\"url\":{\"description\":\"The URL to download from\",\"type\":\"string\"}},\"required\":[\"url\",\"file_path\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"edit\",\"strict\":false,\"description\":\"Edits files by replacing text, creating new files, or deleting content. For moving/renaming use Bash 'mv'. For large edits use Write tool.\\n\\n**Quick Decision Tree:**\\n1. **Know exact line numbers?** → Use `smart_edit` tool (100% reliable)\\n2. **Edit failed once?** → Use `write` tool immediately\\n3. **First time editing?** → Enable ai_mode=true\\n\\n<prerequisites>\\n1. **NEVER copy from view tool output** - has visual tab indicators (→\\t) causing failures\\n2. Use `sed -n 'START,ENDp' file` or `grep -A5 -B5 pattern file` for EXACT text\\n3. For new files: Use LS tool to verify parent directory exists\\n4. If you can't extract exact text, use `smart_edit` with line numbers\\n</prerequisites>\\n\\n<parameters>\\n1. file_path: Absolute path to file (required)\\n2. old_string: Text to replace (exact match including whitespace/indentation)\\n3. new_string: Replacement text\\n4. replace_all: Replace all occurrences (default false)\\n</parameters>\\n\\n<special_cases>\\n- Create file: provide file_path + new_string, leave old_string empty\\n- Delete content: provide file_path + old_string, leave new_string empty\\n</special_cases>\\n\\n<critical_requirements>\\n**EXACT MATCHING**: Text must match character-for-character\\n- Every space, tab, blank line, newline, indentation level\\n- Comment spacing (`// comment` vs `//comment`)\\n- Brace positioning (`func() {` vs `func(){`)\\n\\n**UNIQUENESS**: old_string MUST uniquely identify target (when replace_all=false)\\n- Include 3-5 lines context before/after change point\\n- If text appears multiple times, add more context or use replace_all=true\\n\\n**VERIFICATION BEFORE USING**:\\n1. View file and locate exact target\\n2. Check how many instances exist\\n3. Copy EXACT text including whitespace\\n4. Verify enough context for unique identification\\n5. Double-check indentation (count spaces/tabs)\\n</critical_requirements>\\n\\n<warnings>\\nTool fails if:\\n- old_string matches multiple locations and replace_all=false\\n- Whitespace doesn't match exactly\\n- Indentation off by even one space\\n- Missing or extra blank lines\\n</warnings>\\n\\n<recovery_steps>\\nIf \\\"old_string not found\\\":\\n\\n**\U0001F6D1 DON'T RETRY - Use alternatives:**\\n1. `smart_edit` with line numbers (100% reliable)\\n2. Extract exact text: `sed -n '10,20p' file`\\n3. Use `write` tool for full file replacement\\n\\n**❌ DON'T:**\\n- Retry with \\\"adjusted\\\" whitespace\\n- Copy from view output (has artifacts)\\n- Guess at whitespace\\n\\n**✅ DO:**\\n- Use `smart_edit` (line numbers)\\n- Use `sed -n 'X,Yp' file` for exact text\\n- Use `write` if edit fails once\\n</recovery_steps>\\n\\n<best_practices>\\n- View file first, match exact formatting\\n- Use absolute paths with forward slashes (/)\\n- Multiple edits to same file: send all in single message\\n- Include MORE context when uncertain\\n- Match existing code style exactly\\n</best_practices>\\n\\n<examples>\\n✅ **Correct**: Exact match with context\\n```\\nold_string: \\\"func ProcessData(input string) error {\\\\n    if input == \\\\\\\"\\\\\\\" {\\\\n        return errors.New(\\\\\\\"empty input\\\\\\\")\\\\n    }\\\\n    return nil\\\\n}\\\"\\nnew_string: \\\"func ProcessData(input string) error {\\\\n    if input == \\\\\\\"\\\\\\\" {\\\\n        return errors.New(\\\\\\\"empty input\\\\\\\")\\\\n    }\\\\n    if len(input) > 1000 {\\\\n        return errors.New(\\\\\\\"input too long\\\\\\\")\\\\n    }\\\\n    return nil\\\\n}\\\"\\n```\\n\\n❌ **Incorrect**: Not enough context\\n```\\nold_string: \\\"return nil\\\"  // Appears many times!\\n```\\n\\n❌ **Incorrect**: Wrong indentation\\n```\\nold_string: \\\"  if input == \\\\\\\"\\\\\\\" {\\\"  // 2 spaces\\n// File actually has: \\\"    if input == \\\\\\\"\\\\\\\" {\\\"  // 4 spaces\\n```\\n</examples>\\n\\n## AI Mode\\nUse `ai_mode=true` (default) for automatic fixes:\\n- Converts VIEW tool display tabs (`→\\\\t`) to real tabs (`\\\\t`)\\n- Expands minimal context automatically\\n- Enhanced error messages\\n- Lower failure rate on whitespace issues\\n\",\"parameters\":{\"properties\":{\"ai_mode\":{\"description\":\"Enable AI-optimized editing with automatic context expansion and improved error handling (DEFAULT: true)\",\"type\":\"boolean\"},\"file_path\":{\"description\":\"The absolute path to the file to modify\",\"type\":\"string\"},\"new_string\":{\"description\":\"The text to replace it with\",\"type\":\"string\"},\"old_string\":{\"description\":\"The text to replace\",\"type\":\"string\"},\"replace_all\":{\"description\":\"Replace all occurrences of old_string (default false)\",\"type\":\"boolean\"}},\"required\":[\"file_path\",\"old_string\",\"new_string\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"multiedit\",\"strict\":false,\"description\":\"Makes multiple edits to a single file in one operation. Built on Edit tool for efficient multiple find-and-replace. Prefer over Edit tool for multiple edits to same file.\\n\\n<prerequisites>\\n1. Use View tool to understand file contents\\n2. Verify directory path is correct\\n3. CRITICAL: Note exact whitespace, indentation from View output\\n</prerequisites>\\n\\n<parameters>\\n1. file_path: Absolute path to file (required)\\n2. edits: Array of edit objects (MUST be array, not string!):\\n   - old_string: Text to replace (exact match including whitespace)\\n   - new_string: Replacement text\\n   - replace_all: Replace all occurrences (optional, default false)\\n   \\n   ✅ CORRECT: `\\\"edits\\\": [{\\\"old_string\\\": \\\"text1\\\", \\\"new_string\\\": \\\"replace1\\\"}]`\\n   ❌ INCORRECT: `\\\"edits\\\": \\\"[{\\\\\\\"old_string\\\\\\\": \\\\\\\"text1\\\\\\\"}]\\\"` (string, not array)\\n</parameters>\\n\\n<operation>\\n- Edits applied sequentially in order\\n- Each edit operates on result of previous edit\\n- PARTIAL SUCCESS: Failed edits returned, successful edits kept\\n- File modified if at least one edit succeeds\\n</operation>\\n\\n<inherited_rules>\\n**All Edit tool rules apply to each edit:**\\n- See edit.md for critical requirements, warnings, recovery steps\\n- Exact matching for whitespace, indentation, blank lines\\n- Uniqueness requirements (3-5 lines context)\\n- Verification checklist before using\\n- Use ai_mode=true (default) for tab handling\\n</inherited_rules>\\n\\n<critical_requirements>\\n1. Apply Edit tool rules to EACH edit (see edit.md)\\n2. Edits applied in order; successful edits kept if later edits fail\\n3. Plan sequence: earlier edits change content that later edits must match\\n4. Ensure each old_string unique at application time (after prior edits)\\n5. Check response for failed edits, retry with corrections\\n</critical_requirements>\\n\\n<verification_before_using>\\n1. View file, copy exact text (including whitespace) for each target\\n2. Check instances of each old_string BEFORE sequence\\n3. Dry-run: after edit #N, will edit #N+1 still match?\\n4. Prefer fewer, larger context blocks over many tiny fragments\\n5. If edits independent, consider separate multiedit batches\\n</verification_before_using>\\n\\n<warnings>\\n- Check response for failed edits\\n- Earlier edits invalidate later matches (added/removed spaces, lines)\\n- Mixed tabs/spaces, trailing spaces cause failures\\n- replace_all may affect unintended regions\\n</warnings>\\n\\n<recovery_steps>\\nIf edits fail:\\n1. Check response metadata for failed edits with errors\\n2. View file to see current state after successful edits\\n3. Adjust failed edits based on new content\\n4. Retry with corrected old_string values\\n5. Break complex batches into smaller operations\\n</recovery_steps>\\n\\n<best_practices>\\n- Result in correct, idiomatic code\\n- Use absolute file paths (/)\\n- Use replace_all only when certain\\n- Match existing style exactly\\n- Review failed edits, retry with corrections\\n</best_practices>\\n\\n<examples>\\n✅ **Correct**: Sequential edits accounting for changes\\n```\\nedits: [\\n  {\\n    old_string: \\\"func A() {\\\\n    doOld()\\\\n}\\\",\\n    new_string: \\\"func A() {\\\\n    doNew()\\\\n}\\\",\\n  },\\n  {\\n    // Context exists AFTER first replacement\\n    old_string: \\\"func B() {\\\\n    callA()\\\\n}\\\",\\n    new_string: \\\"func B() {\\\\n    callA()\\\\n    logChange()\\\\n}\\\",\\n  },\\n]\\n```\\n\\n❌ **Incorrect**: Second old_string no longer matches\\n```\\nedits: [\\n  {\\n    old_string: \\\"func A() {\\\\n    doOld()\\\\n}\\\",\\n    new_string: \\\"func A() {\\\\n\\\\n    doNew()\\\\n}\\\", // Added blank line\\n  },\\n  {\\n    old_string: \\\"func A() {\\\\n    doNew()\\\\n}\\\", // Missing blank line - FAILS\\n    new_string: \\\"func A() {\\\\n    doNew()\\\\n    logChange()\\\\n}\\\",\\n  },\\n]\\n```\\n</examples>\\n\",\"parameters\":{\"properties\":{\"edits\":{\"description\":\"Array of edit operations to perform sequentially on the file\",\"items\":{\"properties\":{\"new_string\":{\"description\":\"The text to replace it with\",\"type\":\"string\"},\"old_string\":{\"description\":\"The text to replace\",\"type\":\"string\"},\"replace_all\":{\"description\":\"Replace all occurrences of old_string (default false).\",\"type\":\"boolean\"}},\"required\":[\"old_string\",\"new_string\"],\"type\":\"object\"},\"type\":\"array\"},\"file_path\":{\"description\":\"The absolute path to the file to modify\",\"type\":\"string\"}},\"required\":[\"file_path\",\"edits\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"fetch\",\"strict\":false,\"description\":\"Fetches raw content from URL and returns it in specified format without any AI processing.\\n\\n<when_to_use>\\nUse this tool when you need:\\n- Raw, unprocessed content from a URL\\n- Direct access to API responses or JSON data\\n- HTML/text/markdown content without interpretation\\n- Simple, fast content retrieval without analysis\\n- To save tokens by avoiding AI processing\\n\\nDO NOT use this tool when you need to:\\n- Extract specific information from a webpage (use agentic_fetch instead)\\n- Answer questions about web content (use agentic_fetch instead)\\n- Analyze or summarize web pages (use agentic_fetch instead)\\n</when_to_use>\\n\\n<usage>\\n- Provide URL to fetch content from\\n- Specify desired output format (text, markdown, or html)\\n- Optional timeout for request\\n</usage>\\n\\n<features>\\n- Supports three output formats: text, markdown, html\\n- Auto-handles HTTP redirects\\n- Fast and lightweight - no AI processing\\n- Sets reasonable timeouts to prevent hanging\\n- Validates input parameters before requests\\n</features>\\n\\n<limitations>\\n- Max response size: 5MB\\n- Only supports HTTP and HTTPS protocols\\n- Cannot handle authentication or cookies\\n- Some websites may block automated requests\\n- Returns raw content only - no analysis or extraction\\n</limitations>\\n\\n<tips>\\n- Use text format for plain text content or simple API responses\\n- Use markdown format for content that should be rendered with formatting\\n- Use html format when you need raw HTML structure\\n- Set appropriate timeouts for potentially slow websites\\n- If the user asks to analyze or extract from a page, use agentic_fetch instead\\n</tips>\\n\",\"parameters\":{\"properties\":{\"format\":{\"description\":\"The format to return the content in (text, markdown, or html)\",\"type\":\"string\"},\"timeout\":{\"description\":\"Optional timeout in seconds (max 120)\",\"type\":\"integer\"},\"url\":{\"description\":\"The URL to fetch content from\",\"type\":\"string\"}},\"required\":[\"url\",\"format\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"glob\",\"strict\":false,\"description\":\"Fast file pattern matching tool that finds files by name/pattern, returning paths sorted by modification time (newest first).\\n\\n<usage>\\n- Provide glob pattern to match against file paths\\n- Optional starting directory (defaults to current working directory)\\n- Results sorted with most recently modified files first\\n</usage>\\n\\n<pattern_syntax>\\n- '\\\\*' matches any sequence of non-separator characters\\n- '\\\\*\\\\*' matches any sequence including separators\\n- '?' matches any single non-separator character\\n- '[...]' matches any character in brackets\\n- '[!...]' matches any character not in brackets\\n</pattern_syntax>\\n\\n<examples>\\n- '*.js' - JavaScript files in current directory\\n- '**/*.js' - JavaScript files in any subdirectory\\n- 'src/**/*.{ts,tsx}' - TypeScript files in src directory\\n- '*.{html,css,js}' - HTML, CSS, and JS files\\n</examples>\\n\\n<limitations>\\n- Results limited to 100 files (newest first)\\n- Does not search file contents (use Grep for that)\\n- Hidden files (starting with '.') skipped\\n</limitations>\\n\\n<cross_platform>\\n- Path separators handled automatically (/ and \\\\ work)\\n- Uses ripgrep (rg) if available, otherwise Go implementation\\n- Patterns should use forward slashes (/) for compatibility\\n</cross_platform>\\n\\n<tips>\\n- Combine with Grep: find files with Glob, search contents with Grep\\n- For iterative exploration requiring multiple searches, consider Agent tool\\n- Check if results truncated and refine pattern if needed\\n</tips>\\n\",\"parameters\":{\"properties\":{\"path\":{\"description\":\"The directory to search in. Defaults to the current working directory.\",\"type\":\"string\"},\"pattern\":{\"description\":\"The glob pattern to match files against\",\"type\":\"string\"}},\"required\":[\"pattern\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"grep\",\"strict\":false,\"description\":\"Fast content search tool that finds files containing specific text/patterns, returning matching paths sorted by modification time (newest first).\\n\\n<usage>\\n- Provide regex pattern to search within file contents\\n- Set literal_text=true for exact text with special characters (recommended for non-regex users)\\n- Optional starting directory (defaults to current working directory)\\n- Optional include pattern to filter which files to search\\n- Results sorted with most recently modified files first\\n</usage>\\n\\n<regex_syntax>\\nWhen literal_text=false (supports standard regex):\\n\\n- 'function' searches for literal text \\\"function\\\"\\n- 'log\\\\..\\\\*Error' finds text starting with \\\"log.\\\" and ending with \\\"Error\\\"\\n- 'import\\\\s+.\\\\*\\\\s+from' finds import statements in JavaScript/TypeScript\\n</regex_syntax>\\n\\n<include_patterns>\\n- '\\\\*.js' - Only search JavaScript files\\n- '\\\\*.{ts,tsx}' - Only search TypeScript files\\n- '\\\\*.go' - Only search Go files\\n</include_patterns>\\n\\n<limitations>\\n- Results limited to 100 files (newest first)\\n- Performance depends on number of files searched\\n- Very large binary files may be skipped\\n- Hidden files (starting with '.') skipped\\n</limitations>\\n\\n<ignore_support>\\n- Respects .gitignore patterns to skip ignored files/directories\\n- Respects .nexoraignore patterns for additional ignore rules\\n- Both ignore files auto-detected in search root directory\\n</ignore_support>\\n\\n<cross_platform>\\n- Uses ripgrep (rg) if available for better performance\\n- Falls back to Go implementation if ripgrep unavailable\\n- File paths normalized automatically for compatibility\\n</cross_platform>\\n\\n<tips>\\n- For faster searches: use Glob to find relevant files first, then Grep\\n- For iterative exploration requiring multiple searches, consider Agent tool\\n- Check if results truncated and refine search pattern if needed\\n- Use literal_text=true for exact text with special characters (dots, parentheses, etc.)\\n</tips>\\n\",\"parameters\":{\"properties\":{\"include\":{\"description\":\"File pattern to include in the search (e.g. \\\"*.js\\\", \\\"*.{ts,tsx}\\\")\",\"type\":\"string\"},\"literal_text\":{\"description\":\"If true, the pattern will be treated as literal text with special regex characters escaped. Default is false.\",\"type\":\"boolean\"},\"path\":{\"description\":\"The directory to search in. Defaults to the current working directory.\",\"type\":\"string\"},\"pattern\":{\"description\":\"The regex pattern to search for in file contents\",\"type\":\"string\"}},\"required\":[\"pattern\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"ls\",\"strict\":false,\"description\":\"Shows files and subdirectories in tree structure for exploring project organization.\\n\\n<usage>\\n- Provide path to list (defaults to current working directory)\\n- Optional glob patterns to ignore\\n- Results displayed in tree structure\\n</usage>\\n\\n<features>\\n- Hierarchical view of files and directories\\n- Auto-skips hidden files/directories (starting with '.')\\n- Skips common system directories like __pycache__\\n- Can filter files matching specific patterns\\n</features>\\n\\n<limitations>\\n- Results limited to 1000 files\\n- Large directories truncated\\n- No file sizes or permissions shown\\n- Cannot recursively list all directories in large projects\\n</limitations>\\n\\n<cross_platform>\\n- Hidden file detection uses Unix convention (files starting with '.')\\n- Windows hidden files (with hidden attribute) not auto-skipped\\n- Common Windows directories (System32, Program Files) not in default ignore\\n- Path separators handled automatically (/ and \\\\ work)\\n</cross_platform>\\n\\n<tips>\\n- Use Glob for finding files by name patterns instead of browsing\\n- Use Grep for searching file contents\\n- Combine with other tools for effective exploration\\n</tips>\\n\",\"parameters\":{\"properties\":{\"depth\":{\"description\":\"The maximum depth to traverse\",\"type\":\"integer\"},\"ignore\":{\"description\":\"List of glob patterns to ignore\",\"items\":{\"type\":\"string\"},\"type\":\"array\"},\"path\":{\"description\":\"The path to the directory to list (defaults to current working directory)\",\"type\":\"string\"}},\"required\":[],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"sourcegraph\",\"strict\":false,\"description\":\"Search code across public repositories using Sourcegraph's GraphQL API.\\n\\n<usage>\\n- Provide search query using Sourcegraph syntax\\n- Optional result count (default: 10, max: 20)\\n- Optional timeout for request\\n</usage>\\n\\n<basic_syntax>\\n- \\\"fmt.Println\\\" - exact matches\\n- \\\"file:.go fmt.Println\\\" - limit to Go files\\n- \\\"repo:^github\\\\.com/golang/go$ fmt.Println\\\" - specific repos\\n- \\\"lang:go fmt.Println\\\" - limit to Go code\\n- \\\"fmt.Println AND log.Fatal\\\" - combined terms\\n- \\\"fmt\\\\.(Print|Printf|Println)\\\" - regex patterns\\n- \\\"\\\\\\\"exact phrase\\\\\\\"\\\" - exact phrase matching\\n- \\\"-file:test\\\" or \\\"-repo:forks\\\" - exclude matches\\n</basic_syntax>\\n\\n<key_filters>\\nRepository: repo:name, repo:^exact$, repo:org/repo@branch, -repo:exclude, fork:yes, archived:yes, visibility:public\\nFile: file:\\\\.js$, file:internal/, -file:test, file:has.content(text)\\nContent: content:\\\"exact\\\", -content:\\\"unwanted\\\", case:yes\\nType: type:symbol, type:file, type:path, type:diff, type:commit\\nTime: after:\\\"1 month ago\\\", before:\\\"2023-01-01\\\", author:name, message:\\\"fix\\\"\\nResult: select:repo, select:file, select:content, count:100, timeout:30s\\n</key_filters>\\n\\n<examples>\\n- \\\"file:.go context.WithTimeout\\\" - Go code using context.WithTimeout\\n- \\\"lang:typescript useState type:symbol\\\" - TypeScript React useState hooks\\n- \\\"repo:^github\\\\.com/kubernetes/kubernetes$ pod list type:file\\\" - Kubernetes pod files\\n- \\\"file:Dockerfile (alpine OR ubuntu) -content:alpine:latest\\\" - Dockerfiles with base images\\n</examples>\\n\\n<boolean_operators>\\n- \\\"term1 AND term2\\\" - both terms\\n- \\\"term1 OR term2\\\" - either term\\n- \\\"term1 NOT term2\\\" - term1 but not term2\\n- \\\"term1 and (term2 or term3)\\\" - grouping with parentheses\\n</boolean_operators>\\n\\n<limitations>\\n- Only searches public repositories\\n- Rate limits may apply\\n- Complex queries take longer\\n- Max 20 results per query\\n</limitations>\\n\\n<tips>\\n- Use specific file extensions to narrow results\\n- Add repo: filters for targeted searches\\n- Use type:symbol for function/method definitions\\n- Use type:file to find relevant files\\n</tips>\\n\",\"parameters\":{\"properties\":{\"context_window\":{\"description\":\"The context around the match to return (default: 10 lines)\",\"type\":\"integer\"},\"count\":{\"description\":\"Optional number of results to return (default: 10, max: 20)\",\"type\":\"integer\"},\"query\":{\"description\":\"The Sourcegraph search query\",\"type\":\"string\"},\"timeout\":{\"description\":\"Optional timeout in seconds (max 120)\",\"type\":\"integer\"}},\"required\":[\"query\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"view\",\"strict\":false,\"description\":\"Reads and displays file contents with line numbers for examining code, logs, or text data.\\n\\n<usage>\\n- Provide file path to read\\n- Optional offset: start reading from specific line (0-based)\\n- Optional limit: control lines read (default 100)\\n- Don't use for directories (use LS tool instead)\\n- Supports image files (PNG, JPEG, GIF, BMP, SVG, WebP)\\n</usage>\\n\\n<features>\\n- Displays contents with line numbers\\n- Can read from any file position using offset\\n- Handles large files by limiting lines read\\n- Auto-truncates very long lines for display\\n- Suggests similar filenames when file not found\\n- Renders image files directly in terminal\\n</features>\\n\\n<limitations>\\n- Max file size: 5MB\\n- Default limit: 100 lines (reduced to prevent context window issues)\\n- Lines >2000 chars truncated\\n- Binary files (except images) cannot be displayed\\n</limitations>\\n\\n<cross_platform>\\n- Handles Windows (CRLF) and Unix (LF) line endings\\n- Works with forward slashes (/) and backslashes (\\\\)\\n- Auto-detects text encoding for common formats\\n</cross_platform>\\n\\n<tips>\\n- Use with Glob to find files first\\n- For code exploration: Grep to find relevant files, then View to examine\\n- For large files: use offset and limit parameters for specific sections\\n- The tool uses smaller chunks (100 lines default) to manage context window efficiently\\n- For very large files, consider using 'head' or 'tail' commands via bash tool\\n- View tool automatically detects and renders image files\\n</tips>\\n\",\"parameters\":{\"properties\":{\"file_path\":{\"description\":\"The path to the file to read\",\"type\":\"string\"},\"limit\":{\"description\":\"The number of lines to read (defaults to 2000)\",\"type\":\"integer\"},\"offset\":{\"description\":\"The line number to start reading from (0-based)\",\"type\":\"integer\"}},\"required\":[\"file_path\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"write\",\"strict\":false,\"description\":\"Creates or updates files in filesystem for saving/modifying text content.\\n\\n<usage>\\n- Provide file path to write\\n- Include content to write to file\\n- Tool creates necessary parent directories automatically\\n</usage>\\n\\n<features>\\n- Creates new files or overwrites existing ones\\n- Auto-creates parent directories if missing\\n- Checks if file modified since last read for safety\\n- Avoids unnecessary writes when content unchanged\\n</features>\\n\\n<limitations>\\n- Read file before writing to avoid conflicts\\n- Cannot append (rewrites entire file)\\n</limitations>\\n\\n<cross_platform>\\n- Use forward slashes (/) for compatibility\\n</cross_platform>\\n\\n<tips>\\n- Use View tool first to examine existing files before modifying\\n- Use LS tool to verify location when creating new files\\n- Combine with Glob/Grep to find and modify multiple files\\n- Include descriptive comments when changing existing code\\n</tips>\\n\",\"parameters\":{\"properties\":{\"content\":{\"description\":\"The content to write to the file\",\"type\":\"string\"},\"file_path\":{\"description\":\"The path to the file to write\",\"type\":\"string\"}},\"required\":[\"file_path\",\"content\"],\"type\":\"object\"}},\"type\":\"function\"}],\"stream\":true}"
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - OpenAI/Go 2.7.1
    url: https://api.openai.com/v1/chat/completions
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: -1
    body: |+
      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_4uDvc3qDnMSYRTWVxpyxP7c1","type":"function","function":{"name":"bash","arguments":""}}],"refusal":null},"finish_reason":null}],"usage":null,"obfuscation":"83ed4F5laTJj"}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"{\""}}]},"finish_reason":null}],"usage":null,"obfuscation":"hjsIOrBYR5UOcLK"}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"command"}}]},"finish_reason":null}],"usage":null,"obfuscation":"BD11WxOwUzi"}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\":\""}}]},"finish_reason":null}],"usage":null,"obfuscation":"TbJyEwskeVqOt"}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"go"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":" run"}}]},"finish_reason":null}],"usage":null,"obfuscation":"dJjL6DMRK5PmK0"}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":" /"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"tmp"}}]},"finish_reason":null}],"usage":null,"obfuscation":"hmoaGJ0mVUgrBHg"}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/n"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"ex"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"ora"}}]},"finish_reason":null}],"usage":null,"obfuscation":"ic0LZXNjRf1adMj"}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"-test"}}]},"finish_reason":null}],"usage":null,"obfuscation":"1BF8e7rEFZ44H"}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/Test"}}]},"finish_reason":null}],"usage":null,"obfuscation":"0Yc7zzhUjdm1p"}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"Coder"}}]},"finish_reason":null}],"usage":null,"obfuscation":"Aa17D1vb1JzZj"}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"Agent"}}]},"finish_reason":null}],"usage":null,"obfuscation":"wUEzUcnYTrKYj"}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/open"}}]},"finish_reason":null}],"usage":null,"obfuscation":"7ZtMHiWbkYWG6"}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"ai"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"-g"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"pt"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"-"}}]},"finish_reason":null}],"usage":null,"obfuscation":"9"}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"5"}}]},"finish_reason":null}],"usage":null,"obfuscation":"3"}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/update"}}]},"finish_reason":null}],"usage":null,"obfuscation":"wlvv0DgrSyn"}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"_a"}}]},"finish_reason":null}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"_file"}}]},"finish_reason":null}],"usage":null,"obfuscation":"ybvQ1cMdEA8Xe"}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"/main"}}]},"finish_reason":null}],"usage":null,"obfuscation":"5PJMLHAhXPkdt"}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":".go"}}]},"finish_reason":null}],"usage":null,"obfuscation":"3tYS0LiT7tWhjW5"}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\",\""}}]},"finish_reason":null}],"usage":null,"obfuscation":"Ep1hQNE9qPFcF"}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"description"}}]},"finish_reason":null}],"usage":null,"obfuscation":"S7gMn5a"}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\":\""}}]},"finish_reason":null}],"usage":null,"obfuscation":"rR7rfTgdF3XYY"}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"Run"}}]},"finish_reason":null}],"usage":null,"obfuscation":"EBTRHPxcmpItcoN"}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":" Go"}}]},"finish_reason":null}],"usage":null,"obfuscation":"4bmUBNjmkF7sBa1"}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":" program"}}]},"finish_reason":null}],"usage":null,"obfuscation":"kGuQ8sPAEe"}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\"}"}}]},"finish_reason":null}],"usage":null,"obfuscation":"4uXN3QA9Q4akCrG"}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{},"finish_reason":"tool_calls"}],"usage":null,"obfuscation":""}

      data: {"id":"chatcmpl-Cr6YS65k00ItybzfX3CoGO5EXOkKS","object":"chat.completion.chunk","created":1766772616,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[],"usage":{"prompt_tokens":8160,"completion_tokens":44,"total_tokens":8204,"prompt_tokens_details":{"cached_tokens":7936,"audio_tokens":0},"completion_tokens_details":{"reasoning_tokens":0,"audio_tokens":0,"accepted_prediction_tokens":0,"rejected_prediction_tokens":0}},"obfuscation":"83k6"}

      data: [DONE]

    headers:
      Content-Type:
      - text/event-stream; charset=utf-8
    status: 200 OK
    code: 200
    duration: 910.462232ms
- id: 7
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 36514
    host: ""
    body: "{\"messages\":[{\"content\":\"## CRITICAL: TOOL CALL FORMAT (READ THIS FIRST)\\n**ALWAYS use EXACT OpenAI JSON format for tools. NEVER use &lt;tool_call&gt; tags:**\\n\\n```\\n{\\n  \\\"tool_calls\\\": [{\\n    \\\"id\\\": \\\"call_abc123\\\",\\n    \\\"type\\\": \\\"function\\\",\\n    \\\"function\\\": {\\n      \\\"name\\\": \\\"view\\\",\\n      \\\"arguments\\\": \\\"{\\\\\\\"file_path\\\\\\\":\\\\\\\"/home/nexora/todo.md\\\\\\\"}\\\"\\n    }\\n  }]\\n}\\n```\\n\\n**Penalty for wrong format: Your response will be ignored!**\\n\\n## Core Rules\\n1. **Read before editing** - Always view files first, match exact formatting\\n2. **Be autonomous** - Search, decide, act without asking. Break complex tasks into steps.\\n3. **Infer intent** - Don't be literal. If a file isn't found, search for similar names (case variations, typos). If a task seems incomplete, complete it fully.\\n4. **Test changes** - Run tests immediately after modifications\\n5. **Be concise** - Keep responses under 4 lines unless explaining complex changes\\n6. **Exact matches** - Whitespace, indentation, line breaks must match perfectly for edits\\n7. **Never commit** - Unless explicitly asked\\n8. **Security first** - Only assist with defensive security tasks\\n\\n## Inference Examples\\n- User says \\\"read TODO.md\\\" but it doesn't exist → Search for `todo.md`, `TODO`, `Todo.md`\\n- User says \\\"fix the bug\\\" → Search for error patterns, recent changes, test failures\\n- User says \\\"add tests\\\" → Look at existing test patterns, create comprehensive tests\\n- File not found → Try case variations, partial matches, ask glob/grep to find it\\n\\n## Workflow\\n**Before acting**: Search → Read files → Identify changes → Edit → Test\\n**While acting**: Read entire file first, use exact text, include 3-5 lines context, test after each change\\n**Before finishing**: Verify task complete, run tests, keep response concise\\n\\n## Editing Files\\n**Critical Requirements**:\\n- Exact character-by-character matching\\n- Include 3-5 surrounding lines for reliable context\\n- Verify uniqueness (or use replace_all=true)\\n\\n**Understanding the 100 Line Limitation**:\\n- `view` tool shows 100 lines at a time: \\\"showing lines 1-100 of 200 total\\\"\\n- Use `view` with `offset` parameter: `view file_path=\\\"/path\\\" offset=100`\\n- Your edits MUST exist in the file, not just in visible 100-line chunk\\n\\n**Common Failures**:\\n- Wrong indentation: 2 spaces vs 4 spaces\\n- Missing blank lines: 1 newline vs 2 newlines\\n- Comment spacing: \\\"// comment\\\" vs \\\"//comment\\\"\\n\\n**Tab/Display Issues**:\\n- VIEW shows tabs as `→\\t\\\\t` but EDIT needs actual `\\\\t`\\n- Always use `ai_mode=true` (default) to auto-fix this\\n\\n**Recovery Steps**:\\n1. View file with more context\\n2. Use `offset` if target outside current window\\n3. Use `grep -n \\\"pattern\\\" file` to find line numbers\\n4. Fallback: Use `write` tool for full file replacement\\n\\n## Tools\\n\\n### Available Tools\\n- `view`: Read files with line numbers (100 lines at a time - use offset!)\\n- `edit`: Replace text exactly (whitespace-sensitive, ai_mode=true by default)\\n- `bash`: Execute commands\\n- `grep`: Search file contents\\n- `glob`: Find files by pattern\\n- `write`: Create/update entire files\\n\\n### When to use each\\n- **View**: Always first to understand file contents\\n- **Edit**: For precise, targeted changes\\n- **Write**: When exact matching fails or for large changes\\n- **Bash**: For command execution\\n- **Grep**: For finding text in files\\n- **Glob**: For finding files by name pattern\\n\\n### When something fails\\n- **File not found in view** → Use `offset=100`, `offset=200` to navigate\\n- **Edit fails** → View file again, copy exact text, use `write` as fallback\\n- **Command fails** → Read error, try alternative approach\\n- **Pattern not visible** → Use `grep` to find line numbers, then view with offset\\n\\n## Testing\\n- Run relevant tests after every change\\n- Fix failures immediately\\n- Never leave code in broken state\\n\\n## Decision Making\\n**Be proactive**: Don't just report problems, solve them.\\n**Autonomous decisions**: Search for answers, read patterns, make reasonable assumptions\\n**Only ask user if**: Truly ambiguous requirements, potential data loss, or actually blocked after trying alternatives\\n\\n## Error Handling\\n1. Read complete error message\\n2. Understand root cause\\n3. Try different approach (don't repeat same failure)\\n4. Search for similar working code\\n5. Make targeted fix\\n6. Test to verify\\n\\n## Project Specifics\\n\\n\\n\\n## Environment\\nDate/Time: 2025-01-01 00:00:00 UTC\\nOS: linux (amd64)\\nCurrent User: agent\\nWorking Directory: /tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file\\n\\nGit Repo: no\\n\\nInstalled Runtimes:\\n- Python: Python 3.13.7\\n- Node.js: v25.2.1\\n- Go: go1.25.5\\n- Shell: bash (mvdan/sh)\\n\\nSystem Resources:\\n- Memory: 31Gi total, 23Gi available\\n- Disk: 16G total, 15G free\\n\\nTerminal: color, 80x24, interactive\\nNetwork: online\\nActive Services: \\n\\n## Nexora System Settings\\nNexora client system settings are stored in `~/.local/share/nexora`. This directory contains two important files:\\n\\n1. **`nexora.db`** - SQLite database containing session history, configuration settings, and conversation state\\n2. **`mcp.json`** - JSON configuration file for MCP (Model Context Protocol) settings and server configurations\\n\\nMCP-related files and configurations are stored in the `mcp.json` file, which defines available MCP servers and their connection parameters.\\n\\n\\n\\n\",\"role\":\"system\"},{\"content\":\"update the main.go file by changing the print to say hello from nexora\",\"role\":\"user\"},{\"tool_calls\":[{\"id\":\"call_RXqHhCvh9X2HqlGHFEbsuMdO\",\"function\":{\"arguments\":\"{\\\"path\\\": \\\"/tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file\\\", \\\"depth\\\": 2}\",\"name\":\"ls\"},\"type\":\"function\"}],\"role\":\"assistant\"},{\"content\":\"\\n- /tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/\\n  - go.mod\\n  - main.go\\n\",\"tool_call_id\":\"call_RXqHhCvh9X2HqlGHFEbsuMdO\",\"role\":\"tool\"},{\"tool_calls\":[{\"id\":\"call_QeTGogl9gZwYHMd6QV92K84W\",\"function\":{\"arguments\":\"{\\\"file_path\\\":\\\"/tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/main.go\\\"}\",\"name\":\"view\"},\"type\":\"function\"}],\"role\":\"assistant\"},{\"content\":\"<file>\\n     1|package main\\n     2|\\n     3|import \\\"fmt\\\"\\n     4|\\n     5|func main() {\\n     6|→\\tfmt.Println(\\\"Hello, World!\\\")\\n     7|}\\n     8|\\n</file>\\n\\n\\n\U0001F4C4 File: 0 KB — showing lines 1-8 of 8 total (default chunks: 100 lines)\",\"tool_call_id\":\"call_QeTGogl9gZwYHMd6QV92K84W\",\"role\":\"tool\"},{\"tool_calls\":[{\"id\":\"call_XNTbs69OfCxAWerklmAIEaVi\",\"function\":{\"arguments\":\"{\\\"file_path\\\":\\\"/tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/main.go\\\",\\\"old_string\\\":\\\"Hello, World!\\\",\\\"new_string\\\":\\\"hello from nexora\\\",\\\"ai_mode\\\":true}\",\"name\":\"edit\"},\"type\":\"function\"}],\"role\":\"assistant\"},{\"content\":\"<result>\\nContent replaced in file: /tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/main.go\\n</result>\\n\",\"tool_call_id\":\"call_XNTbs69OfCxAWerklmAIEaVi\",\"role\":\"tool\"},{\"tool_calls\":[{\"id\":\"call_2ISda0XH5ckQhxGHkJ9fbF9X\",\"function\":{\"arguments\":\"{\\\"file_path\\\":\\\"/tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/main.go\\\"}\",\"name\":\"view\"},\"type\":\"function\"}],\"role\":\"assistant\"},{\"content\":\"<file>\\n     1|package main\\n     2|\\n     3|import \\\"fmt\\\"\\n     4|hello from nexora\\n</file>\\n\\n\\n\U0001F4C4 File: 0 KB — showing lines 1-4 of 4 total (default chunks: 100 lines)\",\"tool_call_id\":\"call_2ISda0XH5ckQhxGHkJ9fbF9X\",\"role\":\"tool\"},{\"tool_calls\":[{\"id\":\"call_BVGQVsn4rsVJR9t82eKkBISV\",\"function\":{\"arguments\":\"{\\\"file_path\\\":\\\"/tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/main.go\\\",\\\"content\\\":\\\"package main\\\\n\\\\nimport \\\\\\\"fmt\\\\\\\"\\\\n\\\\nfunc main() {\\\\n\\\\tfmt.Println(\\\\\\\"hello from nexora\\\\\\\")\\\\n}\\\\n\\\"}\",\"name\":\"write\"},\"type\":\"function\"}],\"role\":\"assistant\"},{\"content\":\"<result>\\nFile successfully written: /tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/main.go\\n</result>\",\"tool_call_id\":\"call_BVGQVsn4rsVJR9t82eKkBISV\",\"role\":\"tool\"},{\"tool_calls\":[{\"id\":\"call_4uDvc3qDnMSYRTWVxpyxP7c1\",\"function\":{\"arguments\":\"{\\\"command\\\":\\\"go run /tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file/main.go\\\",\\\"description\\\":\\\"Run Go program\\\"}\",\"name\":\"bash\"},\"type\":\"function\"}],\"role\":\"assistant\"},{\"content\":\"hello from nexora\\n\\n\\n<cwd>/tmp/nexora-test/TestCoderAgent/openai-gpt-5/update_a_file</cwd>\",\"tool_call_id\":\"call_4uDvc3qDnMSYRTWVxpyxP7c1\",\"role\":\"tool\"}],\"model\":\"gpt-5\",\"max_completion_tokens\":10000,\"stream_options\":{\"include_usage\":true},\"tool_choice\":\"auto\",\"tools\":[{\"function\":{\"name\":\"bash\",\"strict\":false,\"description\":\"Executes bash commands with automatic background conversion for long-running tasks.\\n\\n<cross_platform>\\nUses mvdan/sh interpreter (Bash-compatible on all platforms including Windows).\\nUse forward slashes for paths: \\\"ls C:/foo/bar\\\" not \\\"ls C:\\\\foo\\\\bar\\\".\\n</cross_platform>\\n\\n<execution_steps>\\n1. Directory Verification: Use LS tool to verify parent exists before creating files\\n2. Security Check: No restrictions - explain to user. Safe read-only commands execute without prompts\\n3. Command Execution: Execute with proper quoting, capture output\\n4. Auto-Background: Commands >1 minute automatically move to background, return shell ID\\n5. Output Processing: Truncate if exceeds 30000 characters\\n6. Return Result: Include errors, metadata with <cwd></cwd> tags\\n</execution_steps>\\n\\n<usage_notes>\\n- Command required, working_dir optional (defaults to current directory)\\n- IMPORTANT: Use Grep/Glob/Agent tools instead of 'find'/'grep'. Use View/LS instead of 'cat'/'head'/'tail'/'ls'\\n- Chain with ';' or '&&', avoid newlines except in quoted strings\\n- Each command runs in independent shell (no state persistence)\\n- Prefer absolute paths over 'cd'\\n</usage_notes>\\n\\n<background_execution>\\n- Set run_in_background=true for separate background shell\\n- Returns shell ID for management\\n- Use job_output tool to view output, job_kill to terminate\\n- NEVER use `&` at end of commands - use run_in_background parameter\\n- Background: Long servers (npm start, python -m http.server), watch tasks, continuous processes\\n- Foreground: Builds, tests, git ops, file ops, short scripts\\n</background_execution>\\n\\n<git_commits>\\nWhen user asks to create git commit:\\n\\n1. Run: git status, git diff, git log (single message, three tool_use blocks)\\n2. Add relevant untracked files to staging\\n3. Analyze in <commit_analysis> tags:\\n   - List changed files, summarize nature (feature/bug fix/refactor/docs)\\n   - Draft concise (1-2 sentences) focusing on \\\"why\\\" not \\\"what\\\"\\n   - Use accurate verbs: \\\"add\\\"=new feature, \\\"update\\\"=enhancement, \\\"fix\\\"=bug\\n4. Create commit with attribution:\\n   ```bash\\n   git commit -m \\\"$(cat &lt;&lt;'EOF'\\n   Commit message here.\\n\\n   \U0001F498 Generated with Crush\\n\\n\\n   Co-Authored-By: Crush <crush@charm.land>\\n\\n   EOF\\n   )\\\"\\n   ```\\n5. If pre-commit hook fails, retry ONCE. If succeeds but files modified, MUST amend.\\n6. Run git status to verify.\\n\\nNotes: Use \\\"git commit -am\\\" when possible, don't stage unrelated files, NEVER update config, don't push, no empty commits.\\n</git_commits>\\n\\n<pull_requests>\\nWhen user asks to create PR:\\n\\n1. Run: git status, git diff, check remote tracking, git log and 'git diff main...HEAD'\\n2. Create branch if needed, commit if needed, push with -u if needed\\n3. Analyze in <pr_analysis> tags:\\n   - List commits since main divergence\\n   - Summarize changes, purpose/motivation\\n   - Draft concise (1-2 bullets) focusing on \\\"why\\\"\\n4. Create PR:\\n   ```bash\\n   gh pr create --title \\\"title\\\" --body \\\"$(cat &lt;&lt;'EOF'\\n   ## Summary\\n   &lt;1-3 bullet points>\\n   \\n   ## Test plan\\n   [Checklist...]\\n\\n   \U0001F498 Generated with Crush\\n\\n   EOF\\n   )\\\"\\n   ```\\n\\nImportant: Return empty response, never update git config\\n</pull_requests>\\n\\n<examples>\\nGood: pytest /foo/bar/tests\\nBad: cd /foo/bar && pytest tests\\n</examples>\\n\",\"parameters\":{\"properties\":{\"command\":{\"description\":\"The command to execute\",\"type\":\"string\"},\"description\":{\"description\":\"A brief description of what the command does, try to keep it under 30 characters or so\",\"type\":\"string\"},\"run_in_background\":{\"description\":\"Set to true (boolean) to run this command in the background. Use job_output to read the output later.\",\"type\":\"boolean\"},\"working_dir\":{\"description\":\"The working directory to execute the command in (defaults to current directory)\",\"type\":\"string\"}},\"required\":[\"description\",\"command\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"download\",\"strict\":false,\"description\":\"Downloads binary data from URL and saves to local file.\\n\\n<usage>\\n- Provide URL to download from\\n- Specify local file path where content should be saved\\n- Optional timeout for request\\n</usage>\\n\\n<features>\\n- Downloads any file type (binary or text)\\n- Auto-creates parent directories if missing\\n- Handles large files efficiently with streaming\\n- Sets reasonable timeouts to prevent hanging\\n- Validates input parameters before requests\\n</features>\\n\\n<limitations>\\n- Max file size: 100MB\\n- Only supports HTTP and HTTPS protocols\\n- Cannot handle authentication or cookies\\n- Some websites may block automated requests\\n- Will overwrite existing files without warning\\n</limitations>\\n\\n<tips>\\n- Use absolute paths or paths relative to working directory\\n- Set appropriate timeouts for large files or slow connections\\n</tips>\\n\",\"parameters\":{\"properties\":{\"file_path\":{\"description\":\"The local file path where the downloaded content should be saved\",\"type\":\"string\"},\"timeout\":{\"description\":\"Optional timeout in seconds (max 600)\",\"type\":\"integer\"},\"url\":{\"description\":\"The URL to download from\",\"type\":\"string\"}},\"required\":[\"url\",\"file_path\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"edit\",\"strict\":false,\"description\":\"Edits files by replacing text, creating new files, or deleting content. For moving/renaming use Bash 'mv'. For large edits use Write tool.\\n\\n**Quick Decision Tree:**\\n1. **Know exact line numbers?** → Use `smart_edit` tool (100% reliable)\\n2. **Edit failed once?** → Use `write` tool immediately\\n3. **First time editing?** → Enable ai_mode=true\\n\\n<prerequisites>\\n1. **NEVER copy from view tool output** - has visual tab indicators (→\\t) causing failures\\n2. Use `sed -n 'START,ENDp' file` or `grep -A5 -B5 pattern file` for EXACT text\\n3. For new files: Use LS tool to verify parent directory exists\\n4. If you can't extract exact text, use `smart_edit` with line numbers\\n</prerequisites>\\n\\n<parameters>\\n1. file_path: Absolute path to file (required)\\n2. old_string: Text to replace (exact match including whitespace/indentation)\\n3. new_string: Replacement text\\n4. replace_all: Replace all occurrences (default false)\\n</parameters>\\n\\n<special_cases>\\n- Create file: provide file_path + new_string, leave old_string empty\\n- Delete content: provide file_path + old_string, leave new_string empty\\n</special_cases>\\n\\n<critical_requirements>\\n**EXACT MATCHING**: Text must match character-for-character\\n- Every space, tab, blank line, newline, indentation level\\n- Comment spacing (`// comment` vs `//comment`)\\n- Brace positioning (`func() {` vs `func(){`)\\n\\n**UNIQUENESS**: old_string MUST uniquely identify target (when replace_all=false)\\n- Include 3-5 lines context before/after change point\\n- If text appears multiple times, add more context or use replace_all=true\\n\\n**VERIFICATION BEFORE USING**:\\n1. View file and locate exact target\\n2. Check how many instances exist\\n3. Copy EXACT text including whitespace\\n4. Verify enough context for unique identification\\n5. Double-check indentation (count spaces/tabs)\\n</critical_requirements>\\n\\n<warnings>\\nTool fails if:\\n- old_string matches multiple locations and replace_all=false\\n- Whitespace doesn't match exactly\\n- Indentation off by even one space\\n- Missing or extra blank lines\\n</warnings>\\n\\n<recovery_steps>\\nIf \\\"old_string not found\\\":\\n\\n**\U0001F6D1 DON'T RETRY - Use alternatives:**\\n1. `smart_edit` with line numbers (100% reliable)\\n2. Extract exact text: `sed -n '10,20p' file`\\n3. Use `write` tool for full file replacement\\n\\n**❌ DON'T:**\\n- Retry with \\\"adjusted\\\" whitespace\\n- Copy from view output (has artifacts)\\n- Guess at whitespace\\n\\n**✅ DO:**\\n- Use `smart_edit` (line numbers)\\n- Use `sed -n 'X,Yp' file` for exact text\\n- Use `write` if edit fails once\\n</recovery_steps>\\n\\n<best_practices>\\n- View file first, match exact formatting\\n- Use absolute paths with forward slashes (/)\\n- Multiple edits to same file: send all in single message\\n- Include MORE context when uncertain\\n- Match existing code style exactly\\n</best_practices>\\n\\n<examples>\\n✅ **Correct**: Exact match with context\\n```\\nold_string: \\\"func ProcessData(input string) error {\\\\n    if input == \\\\\\\"\\\\\\\" {\\\\n        return errors.New(\\\\\\\"empty input\\\\\\\")\\\\n    }\\\\n    return nil\\\\n}\\\"\\nnew_string: \\\"func ProcessData(input string) error {\\\\n    if input == \\\\\\\"\\\\\\\" {\\\\n        return errors.New(\\\\\\\"empty input\\\\\\\")\\\\n    }\\\\n    if len(input) > 1000 {\\\\n        return errors.New(\\\\\\\"input too long\\\\\\\")\\\\n    }\\\\n    return nil\\\\n}\\\"\\n```\\n\\n❌ **Incorrect**: Not enough context\\n```\\nold_string: \\\"return nil\\\"  // Appears many times!\\n```\\n\\n❌ **Incorrect**: Wrong indentation\\n```\\nold_string: \\\"  if input == \\\\\\\"\\\\\\\" {\\\"  // 2 spaces\\n// File actually has: \\\"    if input == \\\\\\\"\\\\\\\" {\\\"  // 4 spaces\\n```\\n</examples>\\n\\n## AI Mode\\nUse `ai_mode=true` (default) for automatic fixes:\\n- Converts VIEW tool display tabs (`→\\\\t`) to real tabs (`\\\\t`)\\n- Expands minimal context automatically\\n- Enhanced error messages\\n- Lower failure rate on whitespace issues\\n\",\"parameters\":{\"properties\":{\"ai_mode\":{\"description\":\"Enable AI-optimized editing with automatic context expansion and improved error handling (DEFAULT: true)\",\"type\":\"boolean\"},\"file_path\":{\"description\":\"The absolute path to the file to modify\",\"type\":\"string\"},\"new_string\":{\"description\":\"The text to replace it with\",\"type\":\"string\"},\"old_string\":{\"description\":\"The text to replace\",\"type\":\"string\"},\"replace_all\":{\"description\":\"Replace all occurrences of old_string (default false)\",\"type\":\"boolean\"}},\"required\":[\"file_path\",\"old_string\",\"new_string\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"multiedit\",\"strict\":false,\"description\":\"Makes multiple edits to a single file in one operation. Built on Edit tool for efficient multiple find-and-replace. Prefer over Edit tool for multiple edits to same file.\\n\\n<prerequisites>\\n1. Use View tool to understand file contents\\n2. Verify directory path is correct\\n3. CRITICAL: Note exact whitespace, indentation from View output\\n</prerequisites>\\n\\n<parameters>\\n1. file_path: Absolute path to file (required)\\n2. edits: Array of edit objects (MUST be array, not string!):\\n   - old_string: Text to replace (exact match including whitespace)\\n   - new_string: Replacement text\\n   - replace_all: Replace all occurrences (optional, default false)\\n   \\n   ✅ CORRECT: `\\\"edits\\\": [{\\\"old_string\\\": \\\"text1\\\", \\\"new_string\\\": \\\"replace1\\\"}]`\\n   ❌ INCORRECT: `\\\"edits\\\": \\\"[{\\\\\\\"old_string\\\\\\\": \\\\\\\"text1\\\\\\\"}]\\\"` (string, not array)\\n</parameters>\\n\\n<operation>\\n- Edits applied sequentially in order\\n- Each edit operates on result of previous edit\\n- PARTIAL SUCCESS: Failed edits returned, successful edits kept\\n- File modified if at least one edit succeeds\\n</operation>\\n\\n<inherited_rules>\\n**All Edit tool rules apply to each edit:**\\n- See edit.md for critical requirements, warnings, recovery steps\\n- Exact matching for whitespace, indentation, blank lines\\n- Uniqueness requirements (3-5 lines context)\\n- Verification checklist before using\\n- Use ai_mode=true (default) for tab handling\\n</inherited_rules>\\n\\n<critical_requirements>\\n1. Apply Edit tool rules to EACH edit (see edit.md)\\n2. Edits applied in order; successful edits kept if later edits fail\\n3. Plan sequence: earlier edits change content that later edits must match\\n4. Ensure each old_string unique at application time (after prior edits)\\n5. Check response for failed edits, retry with corrections\\n</critical_requirements>\\n\\n<verification_before_using>\\n1. View file, copy exact text (including whitespace) for each target\\n2. Check instances of each old_string BEFORE sequence\\n3. Dry-run: after edit #N, will edit #N+1 still match?\\n4. Prefer fewer, larger context blocks over many tiny fragments\\n5. If edits independent, consider separate multiedit batches\\n</verification_before_using>\\n\\n<warnings>\\n- Check response for failed edits\\n- Earlier edits invalidate later matches (added/removed spaces, lines)\\n- Mixed tabs/spaces, trailing spaces cause failures\\n- replace_all may affect unintended regions\\n</warnings>\\n\\n<recovery_steps>\\nIf edits fail:\\n1. Check response metadata for failed edits with errors\\n2. View file to see current state after successful edits\\n3. Adjust failed edits based on new content\\n4. Retry with corrected old_string values\\n5. Break complex batches into smaller operations\\n</recovery_steps>\\n\\n<best_practices>\\n- Result in correct, idiomatic code\\n- Use absolute file paths (/)\\n- Use replace_all only when certain\\n- Match existing style exactly\\n- Review failed edits, retry with corrections\\n</best_practices>\\n\\n<examples>\\n✅ **Correct**: Sequential edits accounting for changes\\n```\\nedits: [\\n  {\\n    old_string: \\\"func A() {\\\\n    doOld()\\\\n}\\\",\\n    new_string: \\\"func A() {\\\\n    doNew()\\\\n}\\\",\\n  },\\n  {\\n    // Context exists AFTER first replacement\\n    old_string: \\\"func B() {\\\\n    callA()\\\\n}\\\",\\n    new_string: \\\"func B() {\\\\n    callA()\\\\n    logChange()\\\\n}\\\",\\n  },\\n]\\n```\\n\\n❌ **Incorrect**: Second old_string no longer matches\\n```\\nedits: [\\n  {\\n    old_string: \\\"func A() {\\\\n    doOld()\\\\n}\\\",\\n    new_string: \\\"func A() {\\\\n\\\\n    doNew()\\\\n}\\\", // Added blank line\\n  },\\n  {\\n    old_string: \\\"func A() {\\\\n    doNew()\\\\n}\\\", // Missing blank line - FAILS\\n    new_string: \\\"func A() {\\\\n    doNew()\\\\n    logChange()\\\\n}\\\",\\n  },\\n]\\n```\\n</examples>\\n\",\"parameters\":{\"properties\":{\"edits\":{\"description\":\"Array of edit operations to perform sequentially on the file\",\"items\":{\"properties\":{\"new_string\":{\"description\":\"The text to replace it with\",\"type\":\"string\"},\"old_string\":{\"description\":\"The text to replace\",\"type\":\"string\"},\"replace_all\":{\"description\":\"Replace all occurrences of old_string (default false).\",\"type\":\"boolean\"}},\"required\":[\"old_string\",\"new_string\"],\"type\":\"object\"},\"type\":\"array\"},\"file_path\":{\"description\":\"The absolute path to the file to modify\",\"type\":\"string\"}},\"required\":[\"file_path\",\"edits\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"fetch\",\"strict\":false,\"description\":\"Fetches raw content from URL and returns it in specified format without any AI processing.\\n\\n<when_to_use>\\nUse this tool when you need:\\n- Raw, unprocessed content from a URL\\n- Direct access to API responses or JSON data\\n- HTML/text/markdown content without interpretation\\n- Simple, fast content retrieval without analysis\\n- To save tokens by avoiding AI processing\\n\\nDO NOT use this tool when you need to:\\n- Extract specific information from a webpage (use agentic_fetch instead)\\n- Answer questions about web content (use agentic_fetch instead)\\n- Analyze or summarize web pages (use agentic_fetch instead)\\n</when_to_use>\\n\\n<usage>\\n- Provide URL to fetch content from\\n- Specify desired output format (text, markdown, or html)\\n- Optional timeout for request\\n</usage>\\n\\n<features>\\n- Supports three output formats: text, markdown, html\\n- Auto-handles HTTP redirects\\n- Fast and lightweight - no AI processing\\n- Sets reasonable timeouts to prevent hanging\\n- Validates input parameters before requests\\n</features>\\n\\n<limitations>\\n- Max response size: 5MB\\n- Only supports HTTP and HTTPS protocols\\n- Cannot handle authentication or cookies\\n- Some websites may block automated requests\\n- Returns raw content only - no analysis or extraction\\n</limitations>\\n\\n<tips>\\n- Use text format for plain text content or simple API responses\\n- Use markdown format for content that should be rendered with formatting\\n- Use html format when you need raw HTML structure\\n- Set appropriate timeouts for potentially slow websites\\n- If the user asks to analyze or extract from a page, use agentic_fetch instead\\n</tips>\\n\",\"parameters\":{\"properties\":{\"format\":{\"description\":\"The format to return the content in (text, markdown, or html)\",\"type\":\"string\"},\"timeout\":{\"description\":\"Optional timeout in seconds (max 120)\",\"type\":\"integer\"},\"url\":{\"description\":\"The URL to fetch content from\",\"type\":\"string\"}},\"required\":[\"url\",\"format\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"glob\",\"strict\":false,\"description\":\"Fast file pattern matching tool that finds files by name/pattern, returning paths sorted by modification time (newest first).\\n\\n<usage>\\n- Provide glob pattern to match against file paths\\n- Optional starting directory (defaults to current working directory)\\n- Results sorted with most recently modified files first\\n</usage>\\n\\n<pattern_syntax>\\n- '\\\\*' matches any sequence of non-separator characters\\n- '\\\\*\\\\*' matches any sequence including separators\\n- '?' matches any single non-separator character\\n- '[...]' matches any character in brackets\\n- '[!...]' matches any character not in brackets\\n</pattern_syntax>\\n\\n<examples>\\n- '*.js' - JavaScript files in current directory\\n- '**/*.js' - JavaScript files in any subdirectory\\n- 'src/**/*.{ts,tsx}' - TypeScript files in src directory\\n- '*.{html,css,js}' - HTML, CSS, and JS files\\n</examples>\\n\\n<limitations>\\n- Results limited to 100 files (newest first)\\n- Does not search file contents (use Grep for that)\\n- Hidden files (starting with '.') skipped\\n</limitations>\\n\\n<cross_platform>\\n- Path separators handled automatically (/ and \\\\ work)\\n- Uses ripgrep (rg) if available, otherwise Go implementation\\n- Patterns should use forward slashes (/) for compatibility\\n</cross_platform>\\n\\n<tips>\\n- Combine with Grep: find files with Glob, search contents with Grep\\n- For iterative exploration requiring multiple searches, consider Agent tool\\n- Check if results truncated and refine pattern if needed\\n</tips>\\n\",\"parameters\":{\"properties\":{\"path\":{\"description\":\"The directory to search in. Defaults to the current working directory.\",\"type\":\"string\"},\"pattern\":{\"description\":\"The glob pattern to match files against\",\"type\":\"string\"}},\"required\":[\"pattern\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"grep\",\"strict\":false,\"description\":\"Fast content search tool that finds files containing specific text/patterns, returning matching paths sorted by modification time (newest first).\\n\\n<usage>\\n- Provide regex pattern to search within file contents\\n- Set literal_text=true for exact text with special characters (recommended for non-regex users)\\n- Optional starting directory (defaults to current working directory)\\n- Optional include pattern to filter which files to search\\n- Results sorted with most recently modified files first\\n</usage>\\n\\n<regex_syntax>\\nWhen literal_text=false (supports standard regex):\\n\\n- 'function' searches for literal text \\\"function\\\"\\n- 'log\\\\..\\\\*Error' finds text starting with \\\"log.\\\" and ending with \\\"Error\\\"\\n- 'import\\\\s+.\\\\*\\\\s+from' finds import statements in JavaScript/TypeScript\\n</regex_syntax>\\n\\n<include_patterns>\\n- '\\\\*.js' - Only search JavaScript files\\n- '\\\\*.{ts,tsx}' - Only search TypeScript files\\n- '\\\\*.go' - Only search Go files\\n</include_patterns>\\n\\n<limitations>\\n- Results limited to 100 files (newest first)\\n- Performance depends on number of files searched\\n- Very large binary files may be skipped\\n- Hidden files (starting with '.') skipped\\n</limitations>\\n\\n<ignore_support>\\n- Respects .gitignore patterns to skip ignored files/directories\\n- Respects .nexoraignore patterns for additional ignore rules\\n- Both ignore files auto-detected in search root directory\\n</ignore_support>\\n\\n<cross_platform>\\n- Uses ripgrep (rg) if available for better performance\\n- Falls back to Go implementation if ripgrep unavailable\\n- File paths normalized automatically for compatibility\\n</cross_platform>\\n\\n<tips>\\n- For faster searches: use Glob to find relevant files first, then Grep\\n- For iterative exploration requiring multiple searches, consider Agent tool\\n- Check if results truncated and refine search pattern if needed\\n- Use literal_text=true for exact text with special characters (dots, parentheses, etc.)\\n</tips>\\n\",\"parameters\":{\"properties\":{\"include\":{\"description\":\"File pattern to include in the search (e.g. \\\"*.js\\\", \\\"*.{ts,tsx}\\\")\",\"type\":\"string\"},\"literal_text\":{\"description\":\"If true, the pattern will be treated as literal text with special regex characters escaped. Default is false.\",\"type\":\"boolean\"},\"path\":{\"description\":\"The directory to search in. Defaults to the current working directory.\",\"type\":\"string\"},\"pattern\":{\"description\":\"The regex pattern to search for in file contents\",\"type\":\"string\"}},\"required\":[\"pattern\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"ls\",\"strict\":false,\"description\":\"Shows files and subdirectories in tree structure for exploring project organization.\\n\\n<usage>\\n- Provide path to list (defaults to current working directory)\\n- Optional glob patterns to ignore\\n- Results displayed in tree structure\\n</usage>\\n\\n<features>\\n- Hierarchical view of files and directories\\n- Auto-skips hidden files/directories (starting with '.')\\n- Skips common system directories like __pycache__\\n- Can filter files matching specific patterns\\n</features>\\n\\n<limitations>\\n- Results limited to 1000 files\\n- Large directories truncated\\n- No file sizes or permissions shown\\n- Cannot recursively list all directories in large projects\\n</limitations>\\n\\n<cross_platform>\\n- Hidden file detection uses Unix convention (files starting with '.')\\n- Windows hidden files (with hidden attribute) not auto-skipped\\n- Common Windows directories (System32, Program Files) not in default ignore\\n- Path separators handled automatically (/ and \\\\ work)\\n</cross_platform>\\n\\n<tips>\\n- Use Glob for finding files by name patterns instead of browsing\\n- Use Grep for searching file contents\\n- Combine with other tools for effective exploration\\n</tips>\\n\",\"parameters\":{\"properties\":{\"depth\":{\"description\":\"The maximum depth to traverse\",\"type\":\"integer\"},\"ignore\":{\"description\":\"List of glob patterns to ignore\",\"items\":{\"type\":\"string\"},\"type\":\"array\"},\"path\":{\"description\":\"The path to the directory to list (defaults to current working directory)\",\"type\":\"string\"}},\"required\":[],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"sourcegraph\",\"strict\":false,\"description\":\"Search code across public repositories using Sourcegraph's GraphQL API.\\n\\n<usage>\\n- Provide search query using Sourcegraph syntax\\n- Optional result count (default: 10, max: 20)\\n- Optional timeout for request\\n</usage>\\n\\n<basic_syntax>\\n- \\\"fmt.Println\\\" - exact matches\\n- \\\"file:.go fmt.Println\\\" - limit to Go files\\n- \\\"repo:^github\\\\.com/golang/go$ fmt.Println\\\" - specific repos\\n- \\\"lang:go fmt.Println\\\" - limit to Go code\\n- \\\"fmt.Println AND log.Fatal\\\" - combined terms\\n- \\\"fmt\\\\.(Print|Printf|Println)\\\" - regex patterns\\n- \\\"\\\\\\\"exact phrase\\\\\\\"\\\" - exact phrase matching\\n- \\\"-file:test\\\" or \\\"-repo:forks\\\" - exclude matches\\n</basic_syntax>\\n\\n<key_filters>\\nRepository: repo:name, repo:^exact$, repo:org/repo@branch, -repo:exclude, fork:yes, archived:yes, visibility:public\\nFile: file:\\\\.js$, file:internal/, -file:test, file:has.content(text)\\nContent: content:\\\"exact\\\", -content:\\\"unwanted\\\", case:yes\\nType: type:symbol, type:file, type:path, type:diff, type:commit\\nTime: after:\\\"1 month ago\\\", before:\\\"2023-01-01\\\", author:name, message:\\\"fix\\\"\\nResult: select:repo, select:file, select:content, count:100, timeout:30s\\n</key_filters>\\n\\n<examples>\\n- \\\"file:.go context.WithTimeout\\\" - Go code using context.WithTimeout\\n- \\\"lang:typescript useState type:symbol\\\" - TypeScript React useState hooks\\n- \\\"repo:^github\\\\.com/kubernetes/kubernetes$ pod list type:file\\\" - Kubernetes pod files\\n- \\\"file:Dockerfile (alpine OR ubuntu) -content:alpine:latest\\\" - Dockerfiles with base images\\n</examples>\\n\\n<boolean_operators>\\n- \\\"term1 AND term2\\\" - both terms\\n- \\\"term1 OR term2\\\" - either term\\n- \\\"term1 NOT term2\\\" - term1 but not term2\\n- \\\"term1 and (term2 or term3)\\\" - grouping with parentheses\\n</boolean_operators>\\n\\n<limitations>\\n- Only searches public repositories\\n- Rate limits may apply\\n- Complex queries take longer\\n- Max 20 results per query\\n</limitations>\\n\\n<tips>\\n- Use specific file extensions to narrow results\\n- Add repo: filters for targeted searches\\n- Use type:symbol for function/method definitions\\n- Use type:file to find relevant files\\n</tips>\\n\",\"parameters\":{\"properties\":{\"context_window\":{\"description\":\"The context around the match to return (default: 10 lines)\",\"type\":\"integer\"},\"count\":{\"description\":\"Optional number of results to return (default: 10, max: 20)\",\"type\":\"integer\"},\"query\":{\"description\":\"The Sourcegraph search query\",\"type\":\"string\"},\"timeout\":{\"description\":\"Optional timeout in seconds (max 120)\",\"type\":\"integer\"}},\"required\":[\"query\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"view\",\"strict\":false,\"description\":\"Reads and displays file contents with line numbers for examining code, logs, or text data.\\n\\n<usage>\\n- Provide file path to read\\n- Optional offset: start reading from specific line (0-based)\\n- Optional limit: control lines read (default 100)\\n- Don't use for directories (use LS tool instead)\\n- Supports image files (PNG, JPEG, GIF, BMP, SVG, WebP)\\n</usage>\\n\\n<features>\\n- Displays contents with line numbers\\n- Can read from any file position using offset\\n- Handles large files by limiting lines read\\n- Auto-truncates very long lines for display\\n- Suggests similar filenames when file not found\\n- Renders image files directly in terminal\\n</features>\\n\\n<limitations>\\n- Max file size: 5MB\\n- Default limit: 100 lines (reduced to prevent context window issues)\\n- Lines >2000 chars truncated\\n- Binary files (except images) cannot be displayed\\n</limitations>\\n\\n<cross_platform>\\n- Handles Windows (CRLF) and Unix (LF) line endings\\n- Works with forward slashes (/) and backslashes (\\\\)\\n- Auto-detects text encoding for common formats\\n</cross_platform>\\n\\n<tips>\\n- Use with Glob to find files first\\n- For code exploration: Grep to find relevant files, then View to examine\\n- For large files: use offset and limit parameters for specific sections\\n- The tool uses smaller chunks (100 lines default) to manage context window efficiently\\n- For very large files, consider using 'head' or 'tail' commands via bash tool\\n- View tool automatically detects and renders image files\\n</tips>\\n\",\"parameters\":{\"properties\":{\"file_path\":{\"description\":\"The path to the file to read\",\"type\":\"string\"},\"limit\":{\"description\":\"The number of lines to read (defaults to 2000)\",\"type\":\"integer\"},\"offset\":{\"description\":\"The line number to start reading from (0-based)\",\"type\":\"integer\"}},\"required\":[\"file_path\"],\"type\":\"object\"}},\"type\":\"function\"},{\"function\":{\"name\":\"write\",\"strict\":false,\"description\":\"Creates or updates files in filesystem for saving/modifying text content.\\n\\n<usage>\\n- Provide file path to write\\n- Include content to write to file\\n- Tool creates necessary parent directories automatically\\n</usage>\\n\\n<features>\\n- Creates new files or overwrites existing ones\\n- Auto-creates parent directories if missing\\n- Checks if file modified since last read for safety\\n- Avoids unnecessary writes when content unchanged\\n</features>\\n\\n<limitations>\\n- Read file before writing to avoid conflicts\\n- Cannot append (rewrites entire file)\\n</limitations>\\n\\n<cross_platform>\\n- Use forward slashes (/) for compatibility\\n</cross_platform>\\n\\n<tips>\\n- Use View tool first to examine existing files before modifying\\n- Use LS tool to verify location when creating new files\\n- Combine with Glob/Grep to find and modify multiple files\\n- Include descriptive comments when changing existing code\\n</tips>\\n\",\"parameters\":{\"properties\":{\"content\":{\"description\":\"The content to write to the file\",\"type\":\"string\"},\"file_path\":{\"description\":\"The path to the file to write\",\"type\":\"string\"}},\"required\":[\"file_path\",\"content\"],\"type\":\"object\"}},\"type\":\"function\"}],\"stream\":true}"
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - OpenAI/Go 2.7.1
    url: https://api.openai.com/v1/chat/completions
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: -1
    body: |+
      data: {"id":"chatcmpl-Cr6YTBybzv6eiwn6tWzdgepGFnCIb","object":"chat.completion.chunk","created":1766772617,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"role":"assistant","content":"","refusal":null},"finish_reason":null}],"usage":null,"obfuscation":"gdlMrcd0w6"}

      data: {"id":"chatcmpl-Cr6YTBybzv6eiwn6tWzdgepGFnCIb","object":"chat.completion.chunk","created":1766772617,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"content":"Updated"},"finish_reason":null}],"usage":null,"obfuscation":"ZtQwO"}

      data: {"id":"chatcmpl-Cr6YTBybzv6eiwn6tWzdgepGFnCIb","object":"chat.completion.chunk","created":1766772617,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"content":" main"},"finish_reason":null}],"usage":null,"obfuscation":"rAeuRN6"}

      data: {"id":"chatcmpl-Cr6YTBybzv6eiwn6tWzdgepGFnCIb","object":"chat.completion.chunk","created":1766772617,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"content":".go"},"finish_reason":null}],"usage":null,"obfuscation":"tCgbmiLMg"}

      data: {"id":"chatcmpl-Cr6YTBybzv6eiwn6tWzdgepGFnCIb","object":"chat.completion.chunk","created":1766772617,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"content":" to"},"finish_reason":null}],"usage":null,"obfuscation":"LQcbXU1P0"}

      data: {"id":"chatcmpl-Cr6YTBybzv6eiwn6tWzdgepGFnCIb","object":"chat.completion.chunk","created":1766772617,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"content":" print"},"finish_reason":null}],"usage":null,"obfuscation":"uO2sc6"}

      data: {"id":"chatcmpl-Cr6YTBybzv6eiwn6tWzdgepGFnCIb","object":"chat.completion.chunk","created":1766772617,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"content":":"},"finish_reason":null}],"usage":null,"obfuscation":"aU0uswyQMn4"}

      data: {"id":"chatcmpl-Cr6YTBybzv6eiwn6tWzdgepGFnCIb","object":"chat.completion.chunk","created":1766772617,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"content":" hello"},"finish_reason":null}],"usage":null,"obfuscation":"kaIbm5"}

      data: {"id":"chatcmpl-Cr6YTBybzv6eiwn6tWzdgepGFnCIb","object":"chat.completion.chunk","created":1766772617,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"content":" from"},"finish_reason":null}],"usage":null,"obfuscation":"ozZdbJB"}

      data: {"id":"chatcmpl-Cr6YTBybzv6eiwn6tWzdgepGFnCIb","object":"chat.completion.chunk","created":1766772617,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"content":" nex"},"finish_reason":null}],"usage":null,"obfuscation":"BgUtSM5v"}

      data: {"id":"chatcmpl-Cr6YTBybzv6eiwn6tWzdgepGFnCIb","object":"chat.completion.chunk","created":1766772617,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"content":"ora"},"finish_reason":null}],"usage":null,"obfuscation":"VLtS9Xy2d"}

      data: {"id":"chatcmpl-Cr6YTBybzv6eiwn6tWzdgepGFnCIb","object":"chat.completion.chunk","created":1766772617,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"content":","},"finish_reason":null}],"usage":null,"obfuscation":"Ti1iOkHmWAq"}

      data: {"id":"chatcmpl-Cr6YTBybzv6eiwn6tWzdgepGFnCIb","object":"chat.completion.chunk","created":1766772617,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"content":" and"},"finish_reason":null}],"usage":null,"obfuscation":"TrTdW4M3"}

      data: {"id":"chatcmpl-Cr6YTBybzv6eiwn6tWzdgepGFnCIb","object":"chat.completion.chunk","created":1766772617,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"content":" verified"},"finish_reason":null}],"usage":null,"obfuscation":"NIR"}

      data: {"id":"chatcmpl-Cr6YTBybzv6eiwn6tWzdgepGFnCIb","object":"chat.completion.chunk","created":1766772617,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"content":" by"},"finish_reason":null}],"usage":null,"obfuscation":"HPj4Pu3uu"}

      data: {"id":"chatcmpl-Cr6YTBybzv6eiwn6tWzdgepGFnCIb","object":"chat.completion.chunk","created":1766772617,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"content":" running"},"finish_reason":null}],"usage":null,"obfuscation":"RpVj"}

      data: {"id":"chatcmpl-Cr6YTBybzv6eiwn6tWzdgepGFnCIb","object":"chat.completion.chunk","created":1766772617,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"content":" the"},"finish_reason":null}],"usage":null,"obfuscation":"Cxs9htCc"}

      data: {"id":"chatcmpl-Cr6YTBybzv6eiwn6tWzdgepGFnCIb","object":"chat.completion.chunk","created":1766772617,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"content":" program"},"finish_reason":null}],"usage":null,"obfuscation":"FXhq"}

      data: {"id":"chatcmpl-Cr6YTBybzv6eiwn6tWzdgepGFnCIb","object":"chat.completion.chunk","created":1766772617,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{"content":"."},"finish_reason":null}],"usage":null,"obfuscation":"ydIHvfPXk7Y"}

      data: {"id":"chatcmpl-Cr6YTBybzv6eiwn6tWzdgepGFnCIb","object":"chat.completion.chunk","created":1766772617,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[{"index":0,"delta":{},"finish_reason":"stop"}],"usage":null,"obfuscation":"3bjsj8"}

      data: {"id":"chatcmpl-Cr6YTBybzv6eiwn6tWzdgepGFnCIb","object":"chat.completion.chunk","created":1766772617,"model":"gpt-5-2025-08-07","service_tier":"default","system_fingerprint":null,"choices":[],"usage":{"prompt_tokens":8242,"completion_tokens":21,"total_tokens":8263,"prompt_tokens_details":{"cached_tokens":8192,"audio_tokens":0},"completion_tokens_details":{"reasoning_tokens":0,"audio_tokens":0,"accepted_prediction_tokens":0,"rejected_prediction_tokens":0}},"obfuscation":"lv26"}

      data: [DONE]

    headers:
      Content-Type:
      - text/event-stream; charset=utf-8
    status: 200 OK
    code: 200
    duration: 409.361614ms
